var df=Object.create;var vs=Object.defineProperty;var hf=Object.getOwnPropertyDescriptor;var pf=Object.getOwnPropertyNames;var mf=Object.getPrototypeOf,yf=Object.prototype.hasOwnProperty;var gf=(t,e,r)=>e in t?vs(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Cn=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+t+'" is not supported')});var vf=(t,e)=>()=>(t&&(e=t(t=0)),e);var M=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Ef=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of pf(e))!yf.call(t,i)&&i!==r&&vs(t,i,{get:()=>e[i],enumerable:!(n=hf(e,i))||n.enumerable});return t};var Es=(t,e,r)=>(r=t!=null?df(mf(t)):{},Ef(e||!t||!t.__esModule?vs(r,"default",{value:t,enumerable:!0}):r,t));var Po=(t,e,r)=>(gf(t,typeof e!="symbol"?e+"":e,r),r),_s=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var ne=(t,e,r)=>(_s(t,e,"read from private field"),r?r.call(t):e.get(t)),Qt=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Lt=(t,e,r,n)=>(_s(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r);var Mt=(t,e,r)=>(_s(t,e,"access private method"),r);function Fo(){throw new Error("setTimeout has not been defined")}function Io(){throw new Error("clearTimeout has not been defined")}function To(t){if(fr===setTimeout)return setTimeout(t,0);if((fr===Fo||!fr)&&setTimeout)return fr=setTimeout,setTimeout(t,0);try{return fr(t,0)}catch{try{return fr.call(null,t,0)}catch{return fr.call(this,t,0)}}}function _f(t){if(dr===clearTimeout)return clearTimeout(t);if((dr===Io||!dr)&&clearTimeout)return dr=clearTimeout,clearTimeout(t);try{return dr(t)}catch{try{return dr.call(null,t)}catch{return dr.call(this,t)}}}function bf(){!Yr||!kr||(Yr=!1,kr.length?Yt=kr.concat(Yt):_i=-1,Yt.length&&No())}function No(){if(!Yr){var t=To(bf);Yr=!0;for(var e=Yt.length;e;){for(kr=Yt,Yt=[];++_i<e;)kr&&kr[_i].run();_i=-1,e=Yt.length}kr=null,Yr=!1,_f(t)}}function Sf(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Yt.push(new xo(t,e)),Yt.length===1&&!Yr&&To(No)}function xo(t,e){this.fun=t,this.array=e}function Fr(){}function Mf(t){throw new Error("process.binding is not supported")}function jf(){return"/"}function qf(t){throw new Error("process.chdir is not supported")}function Uf(){return 0}function Vf(t){var e=zf.call(Qr)*.001,r=Math.floor(e),n=Math.floor(e%1*1e9);return t&&(r=r-t[0],n=n-t[1],n<0&&(r--,n+=1e9)),[r,n]}function Kf(){var t=new Date,e=t-Hf;return e/1e3}var fr,dr,Yt,Yr,kr,_i,wf,Af,Cf,$f,Df,Pf,kf,Ff,If,Tf,Nf,xf,Rf,Of,Bf,Lf,Qr,zf,Hf,L,ko,C=vf(()=>{fr=Fo,dr=Io;typeof globalThis.setTimeout=="function"&&(fr=setTimeout);typeof globalThis.clearTimeout=="function"&&(dr=clearTimeout);Yt=[],Yr=!1,_i=-1;xo.prototype.run=function(){this.fun.apply(null,this.array)};wf="browser",Af="browser",Cf=!0,$f={},Df=[],Pf="",kf={},Ff={},If={};Tf=Fr,Nf=Fr,xf=Fr,Rf=Fr,Of=Fr,Bf=Fr,Lf=Fr;Qr=globalThis.performance||{},zf=Qr.now||Qr.mozNow||Qr.msNow||Qr.oNow||Qr.webkitNow||function(){return new Date().getTime()};Hf=new Date;L={nextTick:Sf,title:wf,browser:Cf,env:$f,argv:Df,version:Pf,versions:kf,on:Tf,addListener:Nf,once:xf,off:Rf,removeListener:Of,removeAllListeners:Bf,emit:Lf,binding:Mf,cwd:jf,chdir:qf,umask:Uf,hrtime:Vf,platform:Af,release:Ff,config:If,uptime:Kf},ko={};Object.keys(ko).forEach(t=>{let e=t.split("."),r=L;for(let n=0;n<e.length;n++){let i=e[n];n===e.length-1?r[i]=ko[t]:r=r[i]||(r[i]={})}})});var Oo=M((Ky,Ro)=>{C();Ro.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var hr=M(Ir=>{C();var bs,Gf=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Ir.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Ir.getSymbolTotalCodewords=function(e){return Gf[e]};Ir.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};Ir.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');bs=e};Ir.isKanjiModeEnabled=function(){return typeof bs<"u"};Ir.toSJIS=function(e){return bs(e)}});var bi=M(wt=>{C();wt.L={bit:1};wt.M={bit:0};wt.Q={bit:3};wt.H={bit:2};function Jf(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return wt.L;case"m":case"medium":return wt.M;case"q":case"quartile":return wt.Q;case"h":case"high":return wt.H;default:throw new Error("Unknown EC Level: "+t)}}wt.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4};wt.from=function(e,r){if(wt.isValid(e))return e;try{return Jf(e)}catch{return r}}});var Mo=M((Yy,Lo)=>{C();function Bo(){this.buffer=[],this.length=0}Bo.prototype={get:function(t){let e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let r=0;r<e;r++)this.putBit((t>>>e-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){let e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};Lo.exports=Bo});var qo=M((eg,jo)=>{C();function $n(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}$n.prototype.set=function(t,e,r,n){let i=t*this.size+e;this.data[i]=r,n&&(this.reservedBit[i]=!0)};$n.prototype.get=function(t,e){return this.data[t*this.size+e]};$n.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r};$n.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};jo.exports=$n});var Uo=M(Si=>{C();var Wf=hr().getSymbolSize;Si.getRowColCoords=function(e){if(e===1)return[];let r=Math.floor(e/7)+2,n=Wf(e),i=n===145?26:Math.ceil((n-13)/(2*r-2))*2,a=[n-7];for(let o=1;o<r-1;o++)a[o]=a[o-1]-i;return a.push(6),a.reverse()};Si.getPositions=function(e){let r=[],n=Si.getRowColCoords(e),i=n.length;for(let a=0;a<i;a++)for(let o=0;o<i;o++)a===0&&o===0||a===0&&o===i-1||a===i-1&&o===0||r.push([n[a],n[o]]);return r}});var Ho=M(Vo=>{C();var Xf=hr().getSymbolSize,zo=7;Vo.getPositions=function(e){let r=Xf(e);return[[0,0],[r-zo,0],[0,r-zo]]}});var Ko=M(Fe=>{C();Fe.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var Tr={N1:3,N2:3,N3:40,N4:10};Fe.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7};Fe.from=function(e){return Fe.isValid(e)?parseInt(e,10):void 0};Fe.getPenaltyN1=function(e){let r=e.size,n=0,i=0,a=0,o=null,u=null;for(let f=0;f<r;f++){i=a=0,o=u=null;for(let y=0;y<r;y++){let p=e.get(f,y);p===o?i++:(i>=5&&(n+=Tr.N1+(i-5)),o=p,i=1),p=e.get(y,f),p===u?a++:(a>=5&&(n+=Tr.N1+(a-5)),u=p,a=1)}i>=5&&(n+=Tr.N1+(i-5)),a>=5&&(n+=Tr.N1+(a-5))}return n};Fe.getPenaltyN2=function(e){let r=e.size,n=0;for(let i=0;i<r-1;i++)for(let a=0;a<r-1;a++){let o=e.get(i,a)+e.get(i,a+1)+e.get(i+1,a)+e.get(i+1,a+1);(o===4||o===0)&&n++}return n*Tr.N2};Fe.getPenaltyN3=function(e){let r=e.size,n=0,i=0,a=0;for(let o=0;o<r;o++){i=a=0;for(let u=0;u<r;u++)i=i<<1&2047|e.get(o,u),u>=10&&(i===1488||i===93)&&n++,a=a<<1&2047|e.get(u,o),u>=10&&(a===1488||a===93)&&n++}return n*Tr.N3};Fe.getPenaltyN4=function(e){let r=0,n=e.data.length;for(let a=0;a<n;a++)r+=e.data[a];return Math.abs(Math.ceil(r*100/n/5)-10)*Tr.N4};function Qf(t,e,r){switch(t){case Fe.Patterns.PATTERN000:return(e+r)%2===0;case Fe.Patterns.PATTERN001:return e%2===0;case Fe.Patterns.PATTERN010:return r%3===0;case Fe.Patterns.PATTERN011:return(e+r)%3===0;case Fe.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2===0;case Fe.Patterns.PATTERN101:return e*r%2+e*r%3===0;case Fe.Patterns.PATTERN110:return(e*r%2+e*r%3)%2===0;case Fe.Patterns.PATTERN111:return(e*r%3+(e+r)%2)%2===0;default:throw new Error("bad maskPattern:"+t)}}Fe.applyMask=function(e,r){let n=r.size;for(let i=0;i<n;i++)for(let a=0;a<n;a++)r.isReserved(a,i)||r.xor(a,i,Qf(e,a,i))};Fe.getBestMask=function(e,r){let n=Object.keys(Fe.Patterns).length,i=0,a=1/0;for(let o=0;o<n;o++){r(o),Fe.applyMask(o,e);let u=Fe.getPenaltyN1(e)+Fe.getPenaltyN2(e)+Fe.getPenaltyN3(e)+Fe.getPenaltyN4(e);Fe.applyMask(o,e),u<a&&(a=u,i=o)}return i}});var ws=M(Ss=>{C();var pr=bi(),wi=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Ai=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Ss.getBlocksCount=function(e,r){switch(r){case pr.L:return wi[(e-1)*4+0];case pr.M:return wi[(e-1)*4+1];case pr.Q:return wi[(e-1)*4+2];case pr.H:return wi[(e-1)*4+3];default:return}};Ss.getTotalCodewordsCount=function(e,r){switch(r){case pr.L:return Ai[(e-1)*4+0];case pr.M:return Ai[(e-1)*4+1];case pr.Q:return Ai[(e-1)*4+2];case pr.H:return Ai[(e-1)*4+3];default:return}}});var Go=M($i=>{C();var Dn=new Uint8Array(512),Ci=new Uint8Array(256);(function(){let e=1;for(let r=0;r<255;r++)Dn[r]=e,Ci[e]=r,e<<=1,e&256&&(e^=285);for(let r=255;r<512;r++)Dn[r]=Dn[r-255]})();$i.log=function(e){if(e<1)throw new Error("log("+e+")");return Ci[e]};$i.exp=function(e){return Dn[e]};$i.mul=function(e,r){return e===0||r===0?0:Dn[Ci[e]+Ci[r]]}});var Jo=M(Pn=>{C();var As=Go();Pn.mul=function(e,r){let n=new Uint8Array(e.length+r.length-1);for(let i=0;i<e.length;i++)for(let a=0;a<r.length;a++)n[i+a]^=As.mul(e[i],r[a]);return n};Pn.mod=function(e,r){let n=new Uint8Array(e);for(;n.length-r.length>=0;){let i=n[0];for(let o=0;o<r.length;o++)n[o]^=As.mul(r[o],i);let a=0;for(;a<n.length&&n[a]===0;)a++;n=n.slice(a)}return n};Pn.generateECPolynomial=function(e){let r=new Uint8Array([1]);for(let n=0;n<e;n++)r=Pn.mul(r,new Uint8Array([1,As.exp(n)]));return r}});var Qo=M((pg,Xo)=>{C();var Wo=Jo();function Cs(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}Cs.prototype.initialize=function(e){this.degree=e,this.genPoly=Wo.generateECPolynomial(this.degree)};Cs.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");let r=new Uint8Array(e.length+this.degree);r.set(e);let n=Wo.mod(r,this.genPoly),i=this.degree-n.length;if(i>0){let a=new Uint8Array(this.degree);return a.set(n,i),a}return n};Xo.exports=Cs});var $s=M(Yo=>{C();Yo.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}});var Ds=M(Zt=>{C();var Zo="[0-9]+",Yf="[A-Z $%*+\\-./:]+",kn="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";kn=kn.replace(/u/g,"\\u");var Zf="(?:(?![A-Z0-9 $%*+\\-./:]|"+kn+`)(?:.|[\r
]))+`;Zt.KANJI=new RegExp(kn,"g");Zt.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Zt.BYTE=new RegExp(Zf,"g");Zt.NUMERIC=new RegExp(Zo,"g");Zt.ALPHANUMERIC=new RegExp(Yf,"g");var ed=new RegExp("^"+kn+"$"),td=new RegExp("^"+Zo+"$"),rd=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Zt.testKanji=function(e){return ed.test(e)};Zt.testNumeric=function(e){return td.test(e)};Zt.testAlphanumeric=function(e){return rd.test(e)}});var mr=M(He=>{C();var nd=$s(),Ps=Ds();He.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]};He.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]};He.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]};He.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]};He.MIXED={bit:-1};He.getCharCountIndicator=function(e,r){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!nd.isValid(r))throw new Error("Invalid version: "+r);return r>=1&&r<10?e.ccBits[0]:r<27?e.ccBits[1]:e.ccBits[2]};He.getBestModeForData=function(e){return Ps.testNumeric(e)?He.NUMERIC:Ps.testAlphanumeric(e)?He.ALPHANUMERIC:Ps.testKanji(e)?He.KANJI:He.BYTE};He.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")};He.isValid=function(e){return e&&e.bit&&e.ccBits};function id(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return He.NUMERIC;case"alphanumeric":return He.ALPHANUMERIC;case"kanji":return He.KANJI;case"byte":return He.BYTE;default:throw new Error("Unknown mode: "+t)}}He.from=function(e,r){if(He.isValid(e))return e;try{return id(e)}catch{return r}}});var iu=M(Nr=>{C();var Di=hr(),sd=ws(),eu=bi(),yr=mr(),ks=$s(),ru=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,tu=Di.getBCHDigit(ru);function ad(t,e,r){for(let n=1;n<=40;n++)if(e<=Nr.getCapacity(n,r,t))return n}function nu(t,e){return yr.getCharCountIndicator(t,e)+4}function od(t,e){let r=0;return t.forEach(function(n){let i=nu(n.mode,e);r+=i+n.getBitsLength()}),r}function ud(t,e){for(let r=1;r<=40;r++)if(od(t,r)<=Nr.getCapacity(r,e,yr.MIXED))return r}Nr.from=function(e,r){return ks.isValid(e)?parseInt(e,10):r};Nr.getCapacity=function(e,r,n){if(!ks.isValid(e))throw new Error("Invalid QR Code version");typeof n>"u"&&(n=yr.BYTE);let i=Di.getSymbolTotalCodewords(e),a=sd.getTotalCodewordsCount(e,r),o=(i-a)*8;if(n===yr.MIXED)return o;let u=o-nu(n,e);switch(n){case yr.NUMERIC:return Math.floor(u/10*3);case yr.ALPHANUMERIC:return Math.floor(u/11*2);case yr.KANJI:return Math.floor(u/13);case yr.BYTE:default:return Math.floor(u/8)}};Nr.getBestVersionForData=function(e,r){let n,i=eu.from(r,eu.M);if(Array.isArray(e)){if(e.length>1)return ud(e,i);if(e.length===0)return 1;n=e[0]}else n=e;return ad(n.mode,n.getLength(),i)};Nr.getEncodedBits=function(e){if(!ks.isValid(e)||e<7)throw new Error("Invalid QR Code version");let r=e<<12;for(;Di.getBCHDigit(r)-tu>=0;)r^=ru<<Di.getBCHDigit(r)-tu;return e<<12|r}});var uu=M(ou=>{C();var Fs=hr(),au=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,cd=1<<14|1<<12|1<<10|1<<4|1<<1,su=Fs.getBCHDigit(au);ou.getEncodedBits=function(e,r){let n=e.bit<<3|r,i=n<<10;for(;Fs.getBCHDigit(i)-su>=0;)i^=au<<Fs.getBCHDigit(i)-su;return(n<<10|i)^cd}});var lu=M(($g,cu)=>{C();var ld=mr();function Zr(t){this.mode=ld.NUMERIC,this.data=t.toString()}Zr.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Zr.prototype.getLength=function(){return this.data.length};Zr.prototype.getBitsLength=function(){return Zr.getBitsLength(this.data.length)};Zr.prototype.write=function(e){let r,n,i;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),i=parseInt(n,10),e.put(i,10);let a=this.data.length-r;a>0&&(n=this.data.substr(r),i=parseInt(n,10),e.put(i,a*3+1))};cu.exports=Zr});var du=M((Pg,fu)=>{C();var fd=mr(),Is=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function en(t){this.mode=fd.ALPHANUMERIC,this.data=t}en.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};en.prototype.getLength=function(){return this.data.length};en.prototype.getBitsLength=function(){return en.getBitsLength(this.data.length)};en.prototype.write=function(e){let r;for(r=0;r+2<=this.data.length;r+=2){let n=Is.indexOf(this.data[r])*45;n+=Is.indexOf(this.data[r+1]),e.put(n,11)}this.data.length%2&&e.put(Is.indexOf(this.data[r]),6)};fu.exports=en});var pu=M((Fg,hu)=>{"use strict";C();hu.exports=function(e){for(var r=[],n=e.length,i=0;i<n;i++){var a=e.charCodeAt(i);if(a>=55296&&a<=56319&&n>i+1){var o=e.charCodeAt(i+1);o>=56320&&o<=57343&&(a=(a-55296)*1024+o-56320+65536,i+=1)}if(a<128){r.push(a);continue}if(a<2048){r.push(a>>6|192),r.push(a&63|128);continue}if(a<55296||a>=57344&&a<65536){r.push(a>>12|224),r.push(a>>6&63|128),r.push(a&63|128);continue}if(a>=65536&&a<=1114111){r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(a&63|128);continue}r.push(239,191,189)}return new Uint8Array(r).buffer}});var yu=M((Tg,mu)=>{C();var dd=pu(),hd=mr();function tn(t){this.mode=hd.BYTE,typeof t=="string"&&(t=dd(t)),this.data=new Uint8Array(t)}tn.getBitsLength=function(e){return e*8};tn.prototype.getLength=function(){return this.data.length};tn.prototype.getBitsLength=function(){return tn.getBitsLength(this.data.length)};tn.prototype.write=function(t){for(let e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};mu.exports=tn});var vu=M((xg,gu)=>{C();var pd=mr(),md=hr();function rn(t){this.mode=pd.KANJI,this.data=t}rn.getBitsLength=function(e){return e*13};rn.prototype.getLength=function(){return this.data.length};rn.prototype.getBitsLength=function(){return rn.getBitsLength(this.data.length)};rn.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let r=md.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),t.put(r,13)}};gu.exports=rn});var Eu=M((Og,Ts)=>{"use strict";C();var Fn={single_source_shortest_paths:function(t,e,r){var n={},i={};i[e]=0;var a=Fn.PriorityQueue.make();a.push(e,0);for(var o,u,f,y,p,v,m,g,w;!a.empty();){o=a.pop(),u=o.value,y=o.cost,p=t[u]||{};for(f in p)p.hasOwnProperty(f)&&(v=p[f],m=y+v,g=i[f],w=typeof i[f]>"u",(w||g>m)&&(i[f]=m,a.push(f,m),n[f]=u))}if(typeof r<"u"&&typeof i[r]>"u"){var h=["Could not find a path from ",e," to ",r,"."].join("");throw new Error(h)}return n},extract_shortest_path_from_predecessor_list:function(t,e){for(var r=[],n=e,i;n;)r.push(n),i=t[n],n=t[n];return r.reverse(),r},find_path:function(t,e,r){var n=Fn.single_source_shortest_paths(t,e,r);return Fn.extract_shortest_path_from_predecessor_list(n,r)},PriorityQueue:{make:function(t){var e=Fn.PriorityQueue,r={},n;t=t||{};for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);return r.queue=[],r.sorter=t.sorter||e.default_sorter,r},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){var r={value:t,cost:e};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof Ts<"u"&&(Ts.exports=Fn)});var Du=M(nn=>{C();var Se=mr(),Su=lu(),wu=du(),Au=yu(),Cu=vu(),In=Ds(),Pi=hr(),yd=Eu();function _u(t){return unescape(encodeURIComponent(t)).length}function Tn(t,e,r){let n=[],i;for(;(i=t.exec(r))!==null;)n.push({data:i[0],index:i.index,mode:e,length:i[0].length});return n}function $u(t){let e=Tn(In.NUMERIC,Se.NUMERIC,t),r=Tn(In.ALPHANUMERIC,Se.ALPHANUMERIC,t),n,i;return Pi.isKanjiModeEnabled()?(n=Tn(In.BYTE,Se.BYTE,t),i=Tn(In.KANJI,Se.KANJI,t)):(n=Tn(In.BYTE_KANJI,Se.BYTE,t),i=[]),e.concat(r,n,i).sort(function(o,u){return o.index-u.index}).map(function(o){return{data:o.data,mode:o.mode,length:o.length}})}function Ns(t,e){switch(e){case Se.NUMERIC:return Su.getBitsLength(t);case Se.ALPHANUMERIC:return wu.getBitsLength(t);case Se.KANJI:return Cu.getBitsLength(t);case Se.BYTE:return Au.getBitsLength(t)}}function gd(t){return t.reduce(function(e,r){let n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===r.mode?(e[e.length-1].data+=r.data,e):(e.push(r),e)},[])}function vd(t){let e=[];for(let r=0;r<t.length;r++){let n=t[r];switch(n.mode){case Se.NUMERIC:e.push([n,{data:n.data,mode:Se.ALPHANUMERIC,length:n.length},{data:n.data,mode:Se.BYTE,length:n.length}]);break;case Se.ALPHANUMERIC:e.push([n,{data:n.data,mode:Se.BYTE,length:n.length}]);break;case Se.KANJI:e.push([n,{data:n.data,mode:Se.BYTE,length:_u(n.data)}]);break;case Se.BYTE:e.push([{data:n.data,mode:Se.BYTE,length:_u(n.data)}])}}return e}function Ed(t,e){let r={},n={start:{}},i=["start"];for(let a=0;a<t.length;a++){let o=t[a],u=[];for(let f=0;f<o.length;f++){let y=o[f],p=""+a+f;u.push(p),r[p]={node:y,lastCount:0},n[p]={};for(let v=0;v<i.length;v++){let m=i[v];r[m]&&r[m].node.mode===y.mode?(n[m][p]=Ns(r[m].lastCount+y.length,y.mode)-Ns(r[m].lastCount,y.mode),r[m].lastCount+=y.length):(r[m]&&(r[m].lastCount=y.length),n[m][p]=Ns(y.length,y.mode)+4+Se.getCharCountIndicator(y.mode,e))}}i=u}for(let a=0;a<i.length;a++)n[i[a]].end=0;return{map:n,table:r}}function bu(t,e){let r,n=Se.getBestModeForData(t);if(r=Se.from(e,n),r!==Se.BYTE&&r.bit<n.bit)throw new Error('"'+t+'" cannot be encoded with mode '+Se.toString(r)+`.
 Suggested mode is: `+Se.toString(n));switch(r===Se.KANJI&&!Pi.isKanjiModeEnabled()&&(r=Se.BYTE),r){case Se.NUMERIC:return new Su(t);case Se.ALPHANUMERIC:return new wu(t);case Se.KANJI:return new Cu(t);case Se.BYTE:return new Au(t)}}nn.fromArray=function(e){return e.reduce(function(r,n){return typeof n=="string"?r.push(bu(n,null)):n.data&&r.push(bu(n.data,n.mode)),r},[])};nn.fromString=function(e,r){let n=$u(e,Pi.isKanjiModeEnabled()),i=vd(n),a=Ed(i,r),o=yd.find_path(a.map,"start","end"),u=[];for(let f=1;f<o.length-1;f++)u.push(a.table[o[f]].node);return nn.fromArray(gd(u))};nn.rawSplit=function(e){return nn.fromArray($u(e,Pi.isKanjiModeEnabled()))}});var ku=M(Pu=>{C();var Fi=hr(),xs=bi(),_d=Mo(),bd=qo(),Sd=Uo(),wd=Ho(),Bs=Ko(),Ls=ws(),Ad=Qo(),ki=iu(),Cd=uu(),$d=mr(),Rs=Du();function Dd(t,e){let r=t.size,n=wd.getPositions(e);for(let i=0;i<n.length;i++){let a=n[i][0],o=n[i][1];for(let u=-1;u<=7;u++)if(!(a+u<=-1||r<=a+u))for(let f=-1;f<=7;f++)o+f<=-1||r<=o+f||(u>=0&&u<=6&&(f===0||f===6)||f>=0&&f<=6&&(u===0||u===6)||u>=2&&u<=4&&f>=2&&f<=4?t.set(a+u,o+f,!0,!0):t.set(a+u,o+f,!1,!0))}}function Pd(t){let e=t.size;for(let r=8;r<e-8;r++){let n=r%2===0;t.set(r,6,n,!0),t.set(6,r,n,!0)}}function kd(t,e){let r=Sd.getPositions(e);for(let n=0;n<r.length;n++){let i=r[n][0],a=r[n][1];for(let o=-2;o<=2;o++)for(let u=-2;u<=2;u++)o===-2||o===2||u===-2||u===2||o===0&&u===0?t.set(i+o,a+u,!0,!0):t.set(i+o,a+u,!1,!0)}}function Fd(t,e){let r=t.size,n=ki.getEncodedBits(e),i,a,o;for(let u=0;u<18;u++)i=Math.floor(u/3),a=u%3+r-8-3,o=(n>>u&1)===1,t.set(i,a,o,!0),t.set(a,i,o,!0)}function Os(t,e,r){let n=t.size,i=Cd.getEncodedBits(e,r),a,o;for(a=0;a<15;a++)o=(i>>a&1)===1,a<6?t.set(a,8,o,!0):a<8?t.set(a+1,8,o,!0):t.set(n-15+a,8,o,!0),a<8?t.set(8,n-a-1,o,!0):a<9?t.set(8,15-a-1+1,o,!0):t.set(8,15-a-1,o,!0);t.set(n-8,8,1,!0)}function Id(t,e){let r=t.size,n=-1,i=r-1,a=7,o=0;for(let u=r-1;u>0;u-=2)for(u===6&&u--;;){for(let f=0;f<2;f++)if(!t.isReserved(i,u-f)){let y=!1;o<e.length&&(y=(e[o]>>>a&1)===1),t.set(i,u-f,y),a--,a===-1&&(o++,a=7)}if(i+=n,i<0||r<=i){i-=n,n=-n;break}}}function Td(t,e,r){let n=new _d;r.forEach(function(f){n.put(f.mode.bit,4),n.put(f.getLength(),$d.getCharCountIndicator(f.mode,t)),f.write(n)});let i=Fi.getSymbolTotalCodewords(t),a=Ls.getTotalCodewordsCount(t,e),o=(i-a)*8;for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);let u=(o-n.getLengthInBits())/8;for(let f=0;f<u;f++)n.put(f%2?17:236,8);return Nd(n,t,e)}function Nd(t,e,r){let n=Fi.getSymbolTotalCodewords(e),i=Ls.getTotalCodewordsCount(e,r),a=n-i,o=Ls.getBlocksCount(e,r),u=n%o,f=o-u,y=Math.floor(n/o),p=Math.floor(a/o),v=p+1,m=y-p,g=new Ad(m),w=0,h=new Array(o),S=new Array(o),l=0,I=new Uint8Array(t.buffer);for(let F=0;F<o;F++){let P=F<f?p:v;h[F]=I.slice(w,w+P),S[F]=g.encode(h[F]),w+=P,l=Math.max(l,P)}let R=new Uint8Array(n),D=0,d,E;for(d=0;d<l;d++)for(E=0;E<o;E++)d<h[E].length&&(R[D++]=h[E][d]);for(d=0;d<m;d++)for(E=0;E<o;E++)R[D++]=S[E][d];return R}function xd(t,e,r,n){let i;if(Array.isArray(t))i=Rs.fromArray(t);else if(typeof t=="string"){let y=e;if(!y){let p=Rs.rawSplit(t);y=ki.getBestVersionForData(p,r)}i=Rs.fromString(t,y||40)}else throw new Error("Invalid data");let a=ki.getBestVersionForData(i,r);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=a;else if(e<a)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+a+`.
`);let o=Td(e,r,i),u=Fi.getSymbolSize(e),f=new bd(u);return Dd(f,e),Pd(f),kd(f,e),Os(f,r,0),e>=7&&Fd(f,e),Id(f,o),isNaN(n)&&(n=Bs.getBestMask(f,Os.bind(null,f,r))),Bs.applyMask(n,f),Os(f,r,n),{modules:f,version:e,errorCorrectionLevel:r,maskPattern:n,segments:i}}Pu.create=function(e,r){if(typeof e>"u"||e==="")throw new Error("No input text");let n=xs.M,i,a;return typeof r<"u"&&(n=xs.from(r.errorCorrectionLevel,xs.M),i=ki.from(r.version),a=Bs.from(r.maskPattern),r.toSJISFunc&&Fi.setToSJISFunction(r.toSJISFunc)),xd(e,i,n,a)}});var Ms=M(xr=>{C();function Fu(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let e=t.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+t);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(n){return[n,n]}))),e.length===6&&e.push("F","F");let r=parseInt(e.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:r&255,hex:"#"+e.slice(0,6).join("")}}xr.getOptions=function(e){e||(e={}),e.color||(e.color={});let r=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,n=e.width&&e.width>=21?e.width:void 0,i=e.scale||4;return{width:n,scale:n?4:i,margin:r,color:{dark:Fu(e.color.dark||"#000000ff"),light:Fu(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}};xr.getScale=function(e,r){return r.width&&r.width>=e+r.margin*2?r.width/(e+r.margin*2):r.scale};xr.getImageWidth=function(e,r){let n=xr.getScale(e,r);return Math.floor((e+r.margin*2)*n)};xr.qrToImageData=function(e,r,n){let i=r.modules.size,a=r.modules.data,o=xr.getScale(i,n),u=Math.floor((i+n.margin*2)*o),f=n.margin*o,y=[n.color.light,n.color.dark];for(let p=0;p<u;p++)for(let v=0;v<u;v++){let m=(p*u+v)*4,g=n.color.light;if(p>=f&&v>=f&&p<u-f&&v<u-f){let w=Math.floor((p-f)/o),h=Math.floor((v-f)/o);g=y[a[w*i+h]?1:0]}e[m++]=g.r,e[m++]=g.g,e[m++]=g.b,e[m]=g.a}}});var Iu=M(Ii=>{C();var js=Ms();function Rd(t,e,r){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=r,e.width=r,e.style.height=r+"px",e.style.width=r+"px"}function Od(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}Ii.render=function(e,r,n){let i=n,a=r;typeof i>"u"&&(!r||!r.getContext)&&(i=r,r=void 0),r||(a=Od()),i=js.getOptions(i);let o=js.getImageWidth(e.modules.size,i),u=a.getContext("2d"),f=u.createImageData(o,o);return js.qrToImageData(f.data,e,i),Rd(u,a,o),u.putImageData(f,0,0),a};Ii.renderToDataURL=function(e,r,n){let i=n;typeof i>"u"&&(!r||!r.getContext)&&(i=r,r=void 0),i||(i={});let a=Ii.render(e,r,i),o=i.type||"image/png",u=i.rendererOpts||{};return a.toDataURL(o,u.quality)}});var xu=M(Nu=>{C();var Bd=Ms();function Tu(t,e){let r=t.a/255,n=e+'="'+t.hex+'"';return r<1?n+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function qs(t,e,r){let n=t+e;return typeof r<"u"&&(n+=" "+r),n}function Ld(t,e,r){let n="",i=0,a=!1,o=0;for(let u=0;u<t.length;u++){let f=Math.floor(u%e),y=Math.floor(u/e);!f&&!a&&(a=!0),t[u]?(o++,u>0&&f>0&&t[u-1]||(n+=a?qs("M",f+r,.5+y+r):qs("m",i,0),i=0,a=!1),f+1<e&&t[u+1]||(n+=qs("h",o),o=0)):i++}return n}Nu.render=function(e,r,n){let i=Bd.getOptions(r),a=e.modules.size,o=e.modules.data,u=a+i.margin*2,f=i.color.light.a?"<path "+Tu(i.color.light,"fill")+' d="M0 0h'+u+"v"+u+'H0z"/>':"",y="<path "+Tu(i.color.dark,"stroke")+' d="'+Ld(o,a,i.margin)+'"/>',p='viewBox="0 0 '+u+" "+u+'"',m='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+p+' shape-rendering="crispEdges">'+f+y+`</svg>
`;return typeof n=="function"&&n(null,m),m}});var Ou=M(Nn=>{C();var Md=Oo(),Us=ku(),Ru=Iu(),jd=xu();function zs(t,e,r,n,i){let a=[].slice.call(arguments,1),o=a.length,u=typeof a[o-1]=="function";if(!u&&!Md())throw new Error("Callback required as last argument");if(u){if(o<2)throw new Error("Too few arguments provided");o===2?(i=r,r=e,e=n=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=r,r=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(r=e,e=n=void 0):o===2&&!e.getContext&&(n=r,r=e,e=void 0),new Promise(function(f,y){try{let p=Us.create(r,n);f(t(p,e,n))}catch(p){y(p)}})}try{let f=Us.create(r,n);i(null,t(f,e,n))}catch(f){i(f)}}Nn.create=Us.create;Nn.toCanvas=zs.bind(null,Ru.render);Nn.toDataURL=zs.bind(null,Ru.renderToDataURL);Nn.toString=zs.bind(null,function(t,e,r){return jd.render(t,r)})});var Ln=M(ve=>{"use strict";C();Object.defineProperty(ve,"__esModule",{value:!0});ve.regexpCode=ve.getEsmExportName=ve.getProperty=ve.safeStringify=ve.stringify=ve.strConcat=ve.addCodeArg=ve.str=ve._=ve.nil=ve._Code=ve.Name=ve.IDENTIFIER=ve._CodeOrName=void 0;var On=class{};ve._CodeOrName=On;ve.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var Rr=class extends On{constructor(e){if(super(),!ve.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};ve.Name=Rr;var At=class extends On{constructor(e){super(),this._items=typeof e=="string"?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let e=this._items[0];return e===""||e==='""'}get str(){var e;return(e=this._str)!==null&&e!==void 0?e:this._str=this._items.reduce((r,n)=>`${r}${n}`,"")}get names(){var e;return(e=this._names)!==null&&e!==void 0?e:this._names=this._items.reduce((r,n)=>(n instanceof Rr&&(r[n.str]=(r[n.str]||0)+1),r),{})}};ve._Code=At;ve.nil=new At("");function Bu(t,...e){let r=[t[0]],n=0;for(;n<e.length;)Gs(r,e[n]),r.push(t[++n]);return new At(r)}ve._=Bu;var Ks=new At("+");function Lu(t,...e){let r=[Bn(t[0])],n=0;for(;n<e.length;)r.push(Ks),Gs(r,e[n]),r.push(Ks,Bn(t[++n]));return qd(r),new At(r)}ve.str=Lu;function Gs(t,e){e instanceof At?t.push(...e._items):e instanceof Rr?t.push(e):t.push(Vd(e))}ve.addCodeArg=Gs;function qd(t){let e=1;for(;e<t.length-1;){if(t[e]===Ks){let r=Ud(t[e-1],t[e+1]);if(r!==void 0){t.splice(e-1,3,r);continue}t[e++]="+"}e++}}function Ud(t,e){if(e==='""')return t;if(t==='""')return e;if(typeof t=="string")return e instanceof Rr||t[t.length-1]!=='"'?void 0:typeof e!="string"?`${t.slice(0,-1)}${e}"`:e[0]==='"'?t.slice(0,-1)+e.slice(1):void 0;if(typeof e=="string"&&e[0]==='"'&&!(t instanceof Rr))return`"${t}${e.slice(1)}`}function zd(t,e){return e.emptyStr()?t:t.emptyStr()?e:Lu`${t}${e}`}ve.strConcat=zd;function Vd(t){return typeof t=="number"||typeof t=="boolean"||t===null?t:Bn(Array.isArray(t)?t.join(","):t)}function Hd(t){return new At(Bn(t))}ve.stringify=Hd;function Bn(t){return JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}ve.safeStringify=Bn;function Kd(t){return typeof t=="string"&&ve.IDENTIFIER.test(t)?new At(`.${t}`):Bu`[${t}]`}ve.getProperty=Kd;function Gd(t){if(typeof t=="string"&&ve.IDENTIFIER.test(t))return new At(`${t}`);throw new Error(`CodeGen: invalid export name: ${t}, use explicit $id name mapping`)}ve.getEsmExportName=Gd;function Jd(t){return new At(t.toString())}ve.regexpCode=Jd});var Qs=M(ut=>{"use strict";C();Object.defineProperty(ut,"__esModule",{value:!0});ut.ValueScope=ut.ValueScopeName=ut.Scope=ut.varKinds=ut.UsedValueState=void 0;var yt=Ln(),Js=class extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}},Ws;(function(t){t[t.Started=0]="Started",t[t.Completed=1]="Completed"})(Ws=ut.UsedValueState||(ut.UsedValueState={}));ut.varKinds={const:new yt.Name("const"),let:new yt.Name("let"),var:new yt.Name("var")};var Ti=class{constructor({prefixes:e,parent:r}={}){this._names={},this._prefixes=e,this._parent=r}toName(e){return e instanceof yt.Name?e:this.name(e)}name(e){return new yt.Name(this._newName(e))}_newName(e){let r=this._names[e]||this._nameGroup(e);return`${e}${r.index++}`}_nameGroup(e){var r,n;if(!((n=(r=this._parent)===null||r===void 0?void 0:r._prefixes)===null||n===void 0)&&n.has(e)||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}};ut.Scope=Ti;var Ni=class extends yt.Name{constructor(e,r){super(r),this.prefix=e}setValue(e,{property:r,itemIndex:n}){this.value=e,this.scopePath=(0,yt._)`.${new yt.Name(r)}[${n}]`}};ut.ValueScopeName=Ni;var Wd=(0,yt._)`\n`,Xs=class extends Ti{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?Wd:yt.nil}}get(){return this._scope}name(e){return new Ni(e,this._newName(e))}value(e,r){var n;if(r.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let i=this.toName(e),{prefix:a}=i,o=(n=r.key)!==null&&n!==void 0?n:r.ref,u=this._values[a];if(u){let p=u.get(o);if(p)return p}else u=this._values[a]=new Map;u.set(o,i);let f=this._scope[a]||(this._scope[a]=[]),y=f.length;return f[y]=r.ref,i.setValue(r,{property:a,itemIndex:y}),i}getValue(e,r){let n=this._values[e];if(n)return n.get(r)}scopeRefs(e,r=this._values){return this._reduceValues(r,n=>{if(n.scopePath===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return(0,yt._)`${e}${n.scopePath}`})}scopeCode(e=this._values,r,n){return this._reduceValues(e,i=>{if(i.value===void 0)throw new Error(`CodeGen: name "${i}" has no value`);return i.value.code},r,n)}_reduceValues(e,r,n={},i){let a=yt.nil;for(let o in e){let u=e[o];if(!u)continue;let f=n[o]=n[o]||new Map;u.forEach(y=>{if(f.has(y))return;f.set(y,Ws.Started);let p=r(y);if(p){let v=this.opts.es5?ut.varKinds.var:ut.varKinds.const;a=(0,yt._)`${a}${v} ${y} = ${p};${this.opts._n}`}else if(p=i?.(y))a=(0,yt._)`${a}${p}${this.opts._n}`;else throw new Js(y);f.set(y,Ws.Completed)})}return a}};ut.ValueScope=Xs});var ce=M(se=>{"use strict";C();Object.defineProperty(se,"__esModule",{value:!0});se.or=se.and=se.not=se.CodeGen=se.operators=se.varKinds=se.ValueScopeName=se.ValueScope=se.Scope=se.Name=se.regexpCode=se.stringify=se.getProperty=se.nil=se.strConcat=se.str=se._=void 0;var he=Ln(),Ft=Qs(),gr=Ln();Object.defineProperty(se,"_",{enumerable:!0,get:function(){return gr._}});Object.defineProperty(se,"str",{enumerable:!0,get:function(){return gr.str}});Object.defineProperty(se,"strConcat",{enumerable:!0,get:function(){return gr.strConcat}});Object.defineProperty(se,"nil",{enumerable:!0,get:function(){return gr.nil}});Object.defineProperty(se,"getProperty",{enumerable:!0,get:function(){return gr.getProperty}});Object.defineProperty(se,"stringify",{enumerable:!0,get:function(){return gr.stringify}});Object.defineProperty(se,"regexpCode",{enumerable:!0,get:function(){return gr.regexpCode}});Object.defineProperty(se,"Name",{enumerable:!0,get:function(){return gr.Name}});var Bi=Qs();Object.defineProperty(se,"Scope",{enumerable:!0,get:function(){return Bi.Scope}});Object.defineProperty(se,"ValueScope",{enumerable:!0,get:function(){return Bi.ValueScope}});Object.defineProperty(se,"ValueScopeName",{enumerable:!0,get:function(){return Bi.ValueScopeName}});Object.defineProperty(se,"varKinds",{enumerable:!0,get:function(){return Bi.varKinds}});se.operators={GT:new he._Code(">"),GTE:new he._Code(">="),LT:new he._Code("<"),LTE:new he._Code("<="),EQ:new he._Code("==="),NEQ:new he._Code("!=="),NOT:new he._Code("!"),OR:new he._Code("||"),AND:new he._Code("&&"),ADD:new he._Code("+")};var er=class{optimizeNodes(){return this}optimizeNames(e,r){return this}},Ys=class extends er{constructor(e,r,n){super(),this.varKind=e,this.name=r,this.rhs=n}render({es5:e,_n:r}){let n=e?Ft.varKinds.var:this.varKind,i=this.rhs===void 0?"":` = ${this.rhs}`;return`${n} ${this.name}${i};`+r}optimizeNames(e,r){if(e[this.name.str])return this.rhs&&(this.rhs=an(this.rhs,e,r)),this}get names(){return this.rhs instanceof he._CodeOrName?this.rhs.names:{}}},xi=class extends er{constructor(e,r,n){super(),this.lhs=e,this.rhs=r,this.sideEffects=n}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,r){if(!(this.lhs instanceof he.Name&&!e[this.lhs.str]&&!this.sideEffects))return this.rhs=an(this.rhs,e,r),this}get names(){let e=this.lhs instanceof he.Name?{}:{...this.lhs.names};return Oi(e,this.rhs)}},Zs=class extends xi{constructor(e,r,n,i){super(e,n,i),this.op=r}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}},ea=class extends er{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}},ta=class extends er{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}},ra=class extends er{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}},na=class extends er{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,r){return this.code=an(this.code,e,r),this}get names(){return this.code instanceof he._CodeOrName?this.code.names:{}}},Mn=class extends er{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce((r,n)=>r+n.render(e),"")}optimizeNodes(){let{nodes:e}=this,r=e.length;for(;r--;){let n=e[r].optimizeNodes();Array.isArray(n)?e.splice(r,1,...n):n?e[r]=n:e.splice(r,1)}return e.length>0?this:void 0}optimizeNames(e,r){let{nodes:n}=this,i=n.length;for(;i--;){let a=n[i];a.optimizeNames(e,r)||(Xd(e,a.names),n.splice(i,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce((e,r)=>Br(e,r.names),{})}},tr=class extends Mn{render(e){return"{"+e._n+super.render(e)+"}"+e._n}},ia=class extends Mn{},sn=class extends tr{};sn.kind="else";var It=class extends tr{constructor(e,r){super(r),this.condition=e}render(e){let r=`if(${this.condition})`+super.render(e);return this.else&&(r+="else "+this.else.render(e)),r}optimizeNodes(){super.optimizeNodes();let e=this.condition;if(e===!0)return this.nodes;let r=this.else;if(r){let n=r.optimizeNodes();r=this.else=Array.isArray(n)?new sn(n):n}if(r)return e===!1?r instanceof It?r:r.nodes:this.nodes.length?this:new It(Mu(e),r instanceof It?[r]:r.nodes);if(!(e===!1||!this.nodes.length))return this}optimizeNames(e,r){var n;if(this.else=(n=this.else)===null||n===void 0?void 0:n.optimizeNames(e,r),!!(super.optimizeNames(e,r)||this.else))return this.condition=an(this.condition,e,r),this}get names(){let e=super.names;return Oi(e,this.condition),this.else&&Br(e,this.else.names),e}};It.kind="if";var Or=class extends tr{};Or.kind="for";var sa=class extends Or{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,r){if(super.optimizeNames(e,r))return this.iteration=an(this.iteration,e,r),this}get names(){return Br(super.names,this.iteration.names)}},aa=class extends Or{constructor(e,r,n,i){super(),this.varKind=e,this.name=r,this.from=n,this.to=i}render(e){let r=e.es5?Ft.varKinds.var:this.varKind,{name:n,from:i,to:a}=this;return`for(${r} ${n}=${i}; ${n}<${a}; ${n}++)`+super.render(e)}get names(){let e=Oi(super.names,this.from);return Oi(e,this.to)}},Ri=class extends Or{constructor(e,r,n,i){super(),this.loop=e,this.varKind=r,this.name=n,this.iterable=i}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,r){if(super.optimizeNames(e,r))return this.iterable=an(this.iterable,e,r),this}get names(){return Br(super.names,this.iterable.names)}},jn=class extends tr{constructor(e,r,n){super(),this.name=e,this.args=r,this.async=n}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}};jn.kind="func";var qn=class extends Mn{render(e){return"return "+super.render(e)}};qn.kind="return";var oa=class extends tr{render(e){let r="try"+super.render(e);return this.catch&&(r+=this.catch.render(e)),this.finally&&(r+=this.finally.render(e)),r}optimizeNodes(){var e,r;return super.optimizeNodes(),(e=this.catch)===null||e===void 0||e.optimizeNodes(),(r=this.finally)===null||r===void 0||r.optimizeNodes(),this}optimizeNames(e,r){var n,i;return super.optimizeNames(e,r),(n=this.catch)===null||n===void 0||n.optimizeNames(e,r),(i=this.finally)===null||i===void 0||i.optimizeNames(e,r),this}get names(){let e=super.names;return this.catch&&Br(e,this.catch.names),this.finally&&Br(e,this.finally.names),e}},Un=class extends tr{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}};Un.kind="catch";var zn=class extends tr{render(e){return"finally"+super.render(e)}};zn.kind="finally";var ua=class{constructor(e,r={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...r,_n:r.lines?`
`:""},this._extScope=e,this._scope=new Ft.Scope({parent:e}),this._nodes=[new ia]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,r){let n=this._extScope.value(e,r);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(e,r){return this._extScope.getValue(e,r)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,r,n,i){let a=this._scope.toName(r);return n!==void 0&&i&&(this._constants[a.str]=n),this._leafNode(new Ys(e,a,n)),a}const(e,r,n){return this._def(Ft.varKinds.const,e,r,n)}let(e,r,n){return this._def(Ft.varKinds.let,e,r,n)}var(e,r,n){return this._def(Ft.varKinds.var,e,r,n)}assign(e,r,n){return this._leafNode(new xi(e,r,n))}add(e,r){return this._leafNode(new Zs(e,se.operators.ADD,r))}code(e){return typeof e=="function"?e():e!==he.nil&&this._leafNode(new na(e)),this}object(...e){let r=["{"];for(let[n,i]of e)r.length>1&&r.push(","),r.push(n),(n!==i||this.opts.es5)&&(r.push(":"),(0,he.addCodeArg)(r,i));return r.push("}"),new he._Code(r)}if(e,r,n){if(this._blockNode(new It(e)),r&&n)this.code(r).else().code(n).endIf();else if(r)this.code(r).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new It(e))}else(){return this._elseNode(new sn)}endIf(){return this._endBlockNode(It,sn)}_for(e,r){return this._blockNode(e),r&&this.code(r).endFor(),this}for(e,r){return this._for(new sa(e),r)}forRange(e,r,n,i,a=this.opts.es5?Ft.varKinds.var:Ft.varKinds.let){let o=this._scope.toName(e);return this._for(new aa(a,o,r,n),()=>i(o))}forOf(e,r,n,i=Ft.varKinds.const){let a=this._scope.toName(e);if(this.opts.es5){let o=r instanceof he.Name?r:this.var("_arr",r);return this.forRange("_i",0,(0,he._)`${o}.length`,u=>{this.var(a,(0,he._)`${o}[${u}]`),n(a)})}return this._for(new Ri("of",i,a,r),()=>n(a))}forIn(e,r,n,i=this.opts.es5?Ft.varKinds.var:Ft.varKinds.const){if(this.opts.ownProperties)return this.forOf(e,(0,he._)`Object.keys(${r})`,n);let a=this._scope.toName(e);return this._for(new Ri("in",i,a,r),()=>n(a))}endFor(){return this._endBlockNode(Or)}label(e){return this._leafNode(new ea(e))}break(e){return this._leafNode(new ta(e))}return(e){let r=new qn;if(this._blockNode(r),this.code(e),r.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(qn)}try(e,r,n){if(!r&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');let i=new oa;if(this._blockNode(i),this.code(e),r){let a=this.name("e");this._currNode=i.catch=new Un(a),r(a)}return n&&(this._currNode=i.finally=new zn,this.code(n)),this._endBlockNode(Un,zn)}throw(e){return this._leafNode(new ra(e))}block(e,r){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(r),this}endBlock(e){let r=this._blockStarts.pop();if(r===void 0)throw new Error("CodeGen: not in self-balancing block");let n=this._nodes.length-r;if(n<0||e!==void 0&&n!==e)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${e} expected`);return this._nodes.length=r,this}func(e,r=he.nil,n,i){return this._blockNode(new jn(e,r,n)),i&&this.code(i).endFunc(),this}endFunc(){return this._endBlockNode(jn)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,r){let n=this._currNode;if(n instanceof e||r&&n instanceof r)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${r?`${e.kind}/${r.kind}`:e.kind}"`)}_elseNode(e){let r=this._currNode;if(!(r instanceof It))throw new Error('CodeGen: "else" without "if"');return this._currNode=r.else=e,this}get _root(){return this._nodes[0]}get _currNode(){let e=this._nodes;return e[e.length-1]}set _currNode(e){let r=this._nodes;r[r.length-1]=e}};se.CodeGen=ua;function Br(t,e){for(let r in e)t[r]=(t[r]||0)+(e[r]||0);return t}function Oi(t,e){return e instanceof he._CodeOrName?Br(t,e.names):t}function an(t,e,r){if(t instanceof he.Name)return n(t);if(!i(t))return t;return new he._Code(t._items.reduce((a,o)=>(o instanceof he.Name&&(o=n(o)),o instanceof he._Code?a.push(...o._items):a.push(o),a),[]));function n(a){let o=r[a.str];return o===void 0||e[a.str]!==1?a:(delete e[a.str],o)}function i(a){return a instanceof he._Code&&a._items.some(o=>o instanceof he.Name&&e[o.str]===1&&r[o.str]!==void 0)}}function Xd(t,e){for(let r in e)t[r]=(t[r]||0)-(e[r]||0)}function Mu(t){return typeof t=="boolean"||typeof t=="number"||t===null?!t:(0,he._)`!${ca(t)}`}se.not=Mu;var Qd=ju(se.operators.AND);function Yd(...t){return t.reduce(Qd)}se.and=Yd;var Zd=ju(se.operators.OR);function eh(...t){return t.reduce(Zd)}se.or=eh;function ju(t){return(e,r)=>e===he.nil?r:r===he.nil?e:(0,he._)`${ca(e)} ${t} ${ca(r)}`}function ca(t){return t instanceof he.Name?t:(0,he._)`(${t})`}});var Ee=M(ae=>{"use strict";C();Object.defineProperty(ae,"__esModule",{value:!0});ae.checkStrictMode=ae.getErrorPath=ae.Type=ae.useFunc=ae.setEvaluated=ae.evaluatedPropsToName=ae.mergeEvaluated=ae.eachItem=ae.unescapeJsonPointer=ae.escapeJsonPointer=ae.escapeFragment=ae.unescapeFragment=ae.schemaRefOrVal=ae.schemaHasRulesButRef=ae.schemaHasRules=ae.checkUnknownRules=ae.alwaysValidSchema=ae.toHash=void 0;var Pe=ce(),th=Ln();function rh(t){let e={};for(let r of t)e[r]=!0;return e}ae.toHash=rh;function nh(t,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:(zu(t,e),!Vu(e,t.self.RULES.all))}ae.alwaysValidSchema=nh;function zu(t,e=t.schema){let{opts:r,self:n}=t;if(!r.strictSchema||typeof e=="boolean")return;let i=n.RULES.keywords;for(let a in e)i[a]||Ju(t,`unknown keyword: "${a}"`)}ae.checkUnknownRules=zu;function Vu(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(e[r])return!0;return!1}ae.schemaHasRules=Vu;function ih(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(r!=="$ref"&&e.all[r])return!0;return!1}ae.schemaHasRulesButRef=ih;function sh({topSchemaRef:t,schemaPath:e},r,n,i){if(!i){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,Pe._)`${r}`}return(0,Pe._)`${t}${e}${(0,Pe.getProperty)(n)}`}ae.schemaRefOrVal=sh;function ah(t){return Hu(decodeURIComponent(t))}ae.unescapeFragment=ah;function oh(t){return encodeURIComponent(la(t))}ae.escapeFragment=oh;function la(t){return typeof t=="number"?`${t}`:t.replace(/~/g,"~0").replace(/\//g,"~1")}ae.escapeJsonPointer=la;function Hu(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}ae.unescapeJsonPointer=Hu;function uh(t,e){if(Array.isArray(t))for(let r of t)e(r);else e(t)}ae.eachItem=uh;function qu({mergeNames:t,mergeToName:e,mergeValues:r,resultToName:n}){return(i,a,o,u)=>{let f=o===void 0?a:o instanceof Pe.Name?(a instanceof Pe.Name?t(i,a,o):e(i,a,o),o):a instanceof Pe.Name?(e(i,o,a),a):r(a,o);return u===Pe.Name&&!(f instanceof Pe.Name)?n(i,f):f}}ae.mergeEvaluated={props:qu({mergeNames:(t,e,r)=>t.if((0,Pe._)`${r} !== true && ${e} !== undefined`,()=>{t.if((0,Pe._)`${e} === true`,()=>t.assign(r,!0),()=>t.assign(r,(0,Pe._)`${r} || {}`).code((0,Pe._)`Object.assign(${r}, ${e})`))}),mergeToName:(t,e,r)=>t.if((0,Pe._)`${r} !== true`,()=>{e===!0?t.assign(r,!0):(t.assign(r,(0,Pe._)`${r} || {}`),fa(t,r,e))}),mergeValues:(t,e)=>t===!0?!0:{...t,...e},resultToName:Ku}),items:qu({mergeNames:(t,e,r)=>t.if((0,Pe._)`${r} !== true && ${e} !== undefined`,()=>t.assign(r,(0,Pe._)`${e} === true ? true : ${r} > ${e} ? ${r} : ${e}`)),mergeToName:(t,e,r)=>t.if((0,Pe._)`${r} !== true`,()=>t.assign(r,e===!0?!0:(0,Pe._)`${r} > ${e} ? ${r} : ${e}`)),mergeValues:(t,e)=>t===!0?!0:Math.max(t,e),resultToName:(t,e)=>t.var("items",e)})};function Ku(t,e){if(e===!0)return t.var("props",!0);let r=t.var("props",(0,Pe._)`{}`);return e!==void 0&&fa(t,r,e),r}ae.evaluatedPropsToName=Ku;function fa(t,e,r){Object.keys(r).forEach(n=>t.assign((0,Pe._)`${e}${(0,Pe.getProperty)(n)}`,!0))}ae.setEvaluated=fa;var Uu={};function ch(t,e){return t.scopeValue("func",{ref:e,code:Uu[e.code]||(Uu[e.code]=new th._Code(e.code))})}ae.useFunc=ch;var Gu;(function(t){t[t.Num=0]="Num",t[t.Str=1]="Str"})(Gu=ae.Type||(ae.Type={}));function lh(t,e,r){if(t instanceof Pe.Name){let n=e===Gu.Num;return r?n?(0,Pe._)`"[" + ${t} + "]"`:(0,Pe._)`"['" + ${t} + "']"`:n?(0,Pe._)`"/" + ${t}`:(0,Pe._)`"/" + ${t}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,Pe.getProperty)(t).toString():"/"+la(t)}ae.getErrorPath=lh;function Ju(t,e,r=t.opts.strictSchema){if(r){if(e=`strict mode: ${e}`,r===!0)throw new Error(e);t.self.logger.warn(e)}}ae.checkStrictMode=Ju});var rr=M(da=>{"use strict";C();Object.defineProperty(da,"__esModule",{value:!0});var nt=ce(),fh={data:new nt.Name("data"),valCxt:new nt.Name("valCxt"),instancePath:new nt.Name("instancePath"),parentData:new nt.Name("parentData"),parentDataProperty:new nt.Name("parentDataProperty"),rootData:new nt.Name("rootData"),dynamicAnchors:new nt.Name("dynamicAnchors"),vErrors:new nt.Name("vErrors"),errors:new nt.Name("errors"),this:new nt.Name("this"),self:new nt.Name("self"),scope:new nt.Name("scope"),json:new nt.Name("json"),jsonPos:new nt.Name("jsonPos"),jsonLen:new nt.Name("jsonLen"),jsonPart:new nt.Name("jsonPart")};da.default=fh});var Vn=M(it=>{"use strict";C();Object.defineProperty(it,"__esModule",{value:!0});it.extendErrors=it.resetErrorsCount=it.reportExtraError=it.reportError=it.keyword$DataError=it.keywordError=void 0;var ye=ce(),Li=Ee(),ct=rr();it.keywordError={message:({keyword:t})=>(0,ye.str)`must pass "${t}" keyword validation`};it.keyword$DataError={message:({keyword:t,schemaType:e})=>e?(0,ye.str)`"${t}" keyword must be ${e} ($data)`:(0,ye.str)`"${t}" keyword is invalid ($data)`};function dh(t,e=it.keywordError,r,n){let{it:i}=t,{gen:a,compositeRule:o,allErrors:u}=i,f=Qu(t,e,r);n??(o||u)?Wu(a,f):Xu(i,(0,ye._)`[${f}]`)}it.reportError=dh;function hh(t,e=it.keywordError,r){let{it:n}=t,{gen:i,compositeRule:a,allErrors:o}=n,u=Qu(t,e,r);Wu(i,u),a||o||Xu(n,ct.default.vErrors)}it.reportExtraError=hh;function ph(t,e){t.assign(ct.default.errors,e),t.if((0,ye._)`${ct.default.vErrors} !== null`,()=>t.if(e,()=>t.assign((0,ye._)`${ct.default.vErrors}.length`,e),()=>t.assign(ct.default.vErrors,null)))}it.resetErrorsCount=ph;function mh({gen:t,keyword:e,schemaValue:r,data:n,errsCount:i,it:a}){if(i===void 0)throw new Error("ajv implementation error");let o=t.name("err");t.forRange("i",i,ct.default.errors,u=>{t.const(o,(0,ye._)`${ct.default.vErrors}[${u}]`),t.if((0,ye._)`${o}.instancePath === undefined`,()=>t.assign((0,ye._)`${o}.instancePath`,(0,ye.strConcat)(ct.default.instancePath,a.errorPath))),t.assign((0,ye._)`${o}.schemaPath`,(0,ye.str)`${a.errSchemaPath}/${e}`),a.opts.verbose&&(t.assign((0,ye._)`${o}.schema`,r),t.assign((0,ye._)`${o}.data`,n))})}it.extendErrors=mh;function Wu(t,e){let r=t.const("err",e);t.if((0,ye._)`${ct.default.vErrors} === null`,()=>t.assign(ct.default.vErrors,(0,ye._)`[${r}]`),(0,ye._)`${ct.default.vErrors}.push(${r})`),t.code((0,ye._)`${ct.default.errors}++`)}function Xu(t,e){let{gen:r,validateName:n,schemaEnv:i}=t;i.$async?r.throw((0,ye._)`new ${t.ValidationError}(${e})`):(r.assign((0,ye._)`${n}.errors`,e),r.return(!1))}var Lr={keyword:new ye.Name("keyword"),schemaPath:new ye.Name("schemaPath"),params:new ye.Name("params"),propertyName:new ye.Name("propertyName"),message:new ye.Name("message"),schema:new ye.Name("schema"),parentSchema:new ye.Name("parentSchema")};function Qu(t,e,r){let{createErrors:n}=t.it;return n===!1?(0,ye._)`{}`:yh(t,e,r)}function yh(t,e,r={}){let{gen:n,it:i}=t,a=[gh(i,r),vh(t,r)];return Eh(t,e,a),n.object(...a)}function gh({errorPath:t},{instancePath:e}){let r=e?(0,ye.str)`${t}${(0,Li.getErrorPath)(e,Li.Type.Str)}`:t;return[ct.default.instancePath,(0,ye.strConcat)(ct.default.instancePath,r)]}function vh({keyword:t,it:{errSchemaPath:e}},{schemaPath:r,parentSchema:n}){let i=n?e:(0,ye.str)`${e}/${t}`;return r&&(i=(0,ye.str)`${i}${(0,Li.getErrorPath)(r,Li.Type.Str)}`),[Lr.schemaPath,i]}function Eh(t,{params:e,message:r},n){let{keyword:i,data:a,schemaValue:o,it:u}=t,{opts:f,propertyName:y,topSchemaRef:p,schemaPath:v}=u;n.push([Lr.keyword,i],[Lr.params,typeof e=="function"?e(t):e||(0,ye._)`{}`]),f.messages&&n.push([Lr.message,typeof r=="function"?r(t):r]),f.verbose&&n.push([Lr.schema,o],[Lr.parentSchema,(0,ye._)`${p}${v}`],[ct.default.data,a]),y&&n.push([Lr.propertyName,y])}});var Zu=M(on=>{"use strict";C();Object.defineProperty(on,"__esModule",{value:!0});on.boolOrEmptySchema=on.topBoolOrEmptySchema=void 0;var _h=Vn(),bh=ce(),Sh=rr(),wh={message:"boolean schema is false"};function Ah(t){let{gen:e,schema:r,validateName:n}=t;r===!1?Yu(t,!1):typeof r=="object"&&r.$async===!0?e.return(Sh.default.data):(e.assign((0,bh._)`${n}.errors`,null),e.return(!0))}on.topBoolOrEmptySchema=Ah;function Ch(t,e){let{gen:r,schema:n}=t;n===!1?(r.var(e,!1),Yu(t)):r.var(e,!0)}on.boolOrEmptySchema=Ch;function Yu(t,e){let{gen:r,data:n}=t,i={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,_h.reportError)(i,wh,void 0,e)}});var ha=M(un=>{"use strict";C();Object.defineProperty(un,"__esModule",{value:!0});un.getRules=un.isJSONType=void 0;var $h=["string","number","integer","boolean","null","object","array"],Dh=new Set($h);function Ph(t){return typeof t=="string"&&Dh.has(t)}un.isJSONType=Ph;function kh(){let t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...t,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}un.getRules=kh});var pa=M(vr=>{"use strict";C();Object.defineProperty(vr,"__esModule",{value:!0});vr.shouldUseRule=vr.shouldUseGroup=vr.schemaHasRulesForType=void 0;function Fh({schema:t,self:e},r){let n=e.RULES.types[r];return n&&n!==!0&&ec(t,n)}vr.schemaHasRulesForType=Fh;function ec(t,e){return e.rules.some(r=>tc(t,r))}vr.shouldUseGroup=ec;function tc(t,e){var r;return t[e.keyword]!==void 0||((r=e.definition.implements)===null||r===void 0?void 0:r.some(n=>t[n]!==void 0))}vr.shouldUseRule=tc});var Kn=M(Ye=>{"use strict";C();Object.defineProperty(Ye,"__esModule",{value:!0});Ye.reportTypeError=Ye.checkDataTypes=Ye.checkDataType=Ye.coerceAndCheckDataType=Ye.getJSONTypes=Ye.getSchemaTypes=Ye.DataType=void 0;var Ih=ha(),Th=pa(),Nh=Vn(),re=ce(),rc=Ee(),Hn;(function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"})(Hn=Ye.DataType||(Ye.DataType={}));function xh(t){let e=nc(t.type);if(e.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&e.push("null")}return e}Ye.getSchemaTypes=xh;function nc(t){let e=Array.isArray(t)?t:t?[t]:[];if(e.every(Ih.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}Ye.getJSONTypes=nc;function Rh(t,e){let{gen:r,data:n,opts:i}=t,a=Oh(e,i.coerceTypes),o=e.length>0&&!(a.length===0&&e.length===1&&(0,Th.schemaHasRulesForType)(t,e[0]));if(o){let u=ya(e,n,i.strictNumbers,Hn.Wrong);r.if(u,()=>{a.length?Bh(t,e,a):ga(t)})}return o}Ye.coerceAndCheckDataType=Rh;var ic=new Set(["string","number","integer","boolean","null"]);function Oh(t,e){return e?t.filter(r=>ic.has(r)||e==="array"&&r==="array"):[]}function Bh(t,e,r){let{gen:n,data:i,opts:a}=t,o=n.let("dataType",(0,re._)`typeof ${i}`),u=n.let("coerced",(0,re._)`undefined`);a.coerceTypes==="array"&&n.if((0,re._)`${o} == 'object' && Array.isArray(${i}) && ${i}.length == 1`,()=>n.assign(i,(0,re._)`${i}[0]`).assign(o,(0,re._)`typeof ${i}`).if(ya(e,i,a.strictNumbers),()=>n.assign(u,i))),n.if((0,re._)`${u} !== undefined`);for(let y of r)(ic.has(y)||y==="array"&&a.coerceTypes==="array")&&f(y);n.else(),ga(t),n.endIf(),n.if((0,re._)`${u} !== undefined`,()=>{n.assign(i,u),Lh(t,u)});function f(y){switch(y){case"string":n.elseIf((0,re._)`${o} == "number" || ${o} == "boolean"`).assign(u,(0,re._)`"" + ${i}`).elseIf((0,re._)`${i} === null`).assign(u,(0,re._)`""`);return;case"number":n.elseIf((0,re._)`${o} == "boolean" || ${i} === null
              || (${o} == "string" && ${i} && ${i} == +${i})`).assign(u,(0,re._)`+${i}`);return;case"integer":n.elseIf((0,re._)`${o} === "boolean" || ${i} === null
              || (${o} === "string" && ${i} && ${i} == +${i} && !(${i} % 1))`).assign(u,(0,re._)`+${i}`);return;case"boolean":n.elseIf((0,re._)`${i} === "false" || ${i} === 0 || ${i} === null`).assign(u,!1).elseIf((0,re._)`${i} === "true" || ${i} === 1`).assign(u,!0);return;case"null":n.elseIf((0,re._)`${i} === "" || ${i} === 0 || ${i} === false`),n.assign(u,null);return;case"array":n.elseIf((0,re._)`${o} === "string" || ${o} === "number"
              || ${o} === "boolean" || ${i} === null`).assign(u,(0,re._)`[${i}]`)}}}function Lh({gen:t,parentData:e,parentDataProperty:r},n){t.if((0,re._)`${e} !== undefined`,()=>t.assign((0,re._)`${e}[${r}]`,n))}function ma(t,e,r,n=Hn.Correct){let i=n===Hn.Correct?re.operators.EQ:re.operators.NEQ,a;switch(t){case"null":return(0,re._)`${e} ${i} null`;case"array":a=(0,re._)`Array.isArray(${e})`;break;case"object":a=(0,re._)`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":a=o((0,re._)`!(${e} % 1) && !isNaN(${e})`);break;case"number":a=o();break;default:return(0,re._)`typeof ${e} ${i} ${t}`}return n===Hn.Correct?a:(0,re.not)(a);function o(u=re.nil){return(0,re.and)((0,re._)`typeof ${e} == "number"`,u,r?(0,re._)`isFinite(${e})`:re.nil)}}Ye.checkDataType=ma;function ya(t,e,r,n){if(t.length===1)return ma(t[0],e,r,n);let i,a=(0,rc.toHash)(t);if(a.array&&a.object){let o=(0,re._)`typeof ${e} != "object"`;i=a.null?o:(0,re._)`!${e} || ${o}`,delete a.null,delete a.array,delete a.object}else i=re.nil;a.number&&delete a.integer;for(let o in a)i=(0,re.and)(i,ma(o,e,r,n));return i}Ye.checkDataTypes=ya;var Mh={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:e})=>typeof t=="string"?(0,re._)`{type: ${t}}`:(0,re._)`{type: ${e}}`};function ga(t){let e=jh(t);(0,Nh.reportError)(e,Mh)}Ye.reportTypeError=ga;function jh(t){let{gen:e,data:r,schema:n}=t,i=(0,rc.schemaRefOrVal)(t,n,"type");return{gen:e,keyword:"type",data:r,schema:n.type,schemaCode:i,schemaValue:i,parentSchema:n,params:{},it:t}}});var ac=M(Mi=>{"use strict";C();Object.defineProperty(Mi,"__esModule",{value:!0});Mi.assignDefaults=void 0;var cn=ce(),qh=Ee();function Uh(t,e){let{properties:r,items:n}=t.schema;if(e==="object"&&r)for(let i in r)sc(t,i,r[i].default);else e==="array"&&Array.isArray(n)&&n.forEach((i,a)=>sc(t,a,i.default))}Mi.assignDefaults=Uh;function sc(t,e,r){let{gen:n,compositeRule:i,data:a,opts:o}=t;if(r===void 0)return;let u=(0,cn._)`${a}${(0,cn.getProperty)(e)}`;if(i){(0,qh.checkStrictMode)(t,`default is ignored for: ${u}`);return}let f=(0,cn._)`${u} === undefined`;o.useDefaults==="empty"&&(f=(0,cn._)`${f} || ${u} === null || ${u} === ""`),n.if(f,(0,cn._)`${u} = ${(0,cn.stringify)(r)}`)}});var Ct=M(De=>{"use strict";C();Object.defineProperty(De,"__esModule",{value:!0});De.validateUnion=De.validateArray=De.usePattern=De.callValidateCode=De.schemaProperties=De.allSchemaProperties=De.noPropertyInData=De.propertyInData=De.isOwnProperty=De.hasPropFunc=De.reportMissingProp=De.checkMissingProp=De.checkReportMissingProp=void 0;var xe=ce(),va=Ee(),Er=rr(),zh=Ee();function Vh(t,e){let{gen:r,data:n,it:i}=t;r.if(_a(r,n,e,i.opts.ownProperties),()=>{t.setParams({missingProperty:(0,xe._)`${e}`},!0),t.error()})}De.checkReportMissingProp=Vh;function Hh({gen:t,data:e,it:{opts:r}},n,i){return(0,xe.or)(...n.map(a=>(0,xe.and)(_a(t,e,a,r.ownProperties),(0,xe._)`${i} = ${a}`)))}De.checkMissingProp=Hh;function Kh(t,e){t.setParams({missingProperty:e},!0),t.error()}De.reportMissingProp=Kh;function oc(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,xe._)`Object.prototype.hasOwnProperty`})}De.hasPropFunc=oc;function Ea(t,e,r){return(0,xe._)`${oc(t)}.call(${e}, ${r})`}De.isOwnProperty=Ea;function Gh(t,e,r,n){let i=(0,xe._)`${e}${(0,xe.getProperty)(r)} !== undefined`;return n?(0,xe._)`${i} && ${Ea(t,e,r)}`:i}De.propertyInData=Gh;function _a(t,e,r,n){let i=(0,xe._)`${e}${(0,xe.getProperty)(r)} === undefined`;return n?(0,xe.or)(i,(0,xe.not)(Ea(t,e,r))):i}De.noPropertyInData=_a;function uc(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}De.allSchemaProperties=uc;function Jh(t,e){return uc(e).filter(r=>!(0,va.alwaysValidSchema)(t,e[r]))}De.schemaProperties=Jh;function Wh({schemaCode:t,data:e,it:{gen:r,topSchemaRef:n,schemaPath:i,errorPath:a},it:o},u,f,y){let p=y?(0,xe._)`${t}, ${e}, ${n}${i}`:e,v=[[Er.default.instancePath,(0,xe.strConcat)(Er.default.instancePath,a)],[Er.default.parentData,o.parentData],[Er.default.parentDataProperty,o.parentDataProperty],[Er.default.rootData,Er.default.rootData]];o.opts.dynamicRef&&v.push([Er.default.dynamicAnchors,Er.default.dynamicAnchors]);let m=(0,xe._)`${p}, ${r.object(...v)}`;return f!==xe.nil?(0,xe._)`${u}.call(${f}, ${m})`:(0,xe._)`${u}(${m})`}De.callValidateCode=Wh;var Xh=(0,xe._)`new RegExp`;function Qh({gen:t,it:{opts:e}},r){let n=e.unicodeRegExp?"u":"",{regExp:i}=e.code,a=i(r,n);return t.scopeValue("pattern",{key:a.toString(),ref:a,code:(0,xe._)`${i.code==="new RegExp"?Xh:(0,zh.useFunc)(t,i)}(${r}, ${n})`})}De.usePattern=Qh;function Yh(t){let{gen:e,data:r,keyword:n,it:i}=t,a=e.name("valid");if(i.allErrors){let u=e.let("valid",!0);return o(()=>e.assign(u,!1)),u}return e.var(a,!0),o(()=>e.break()),a;function o(u){let f=e.const("len",(0,xe._)`${r}.length`);e.forRange("i",0,f,y=>{t.subschema({keyword:n,dataProp:y,dataPropType:va.Type.Num},a),e.if((0,xe.not)(a),u)})}}De.validateArray=Yh;function Zh(t){let{gen:e,schema:r,keyword:n,it:i}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(f=>(0,va.alwaysValidSchema)(i,f))&&!i.opts.unevaluated)return;let o=e.let("valid",!1),u=e.name("_valid");e.block(()=>r.forEach((f,y)=>{let p=t.subschema({keyword:n,schemaProp:y,compositeRule:!0},u);e.assign(o,(0,xe._)`${o} || ${u}`),t.mergeValidEvaluated(p,u)||e.if((0,xe.not)(o))})),t.result(o,()=>t.reset(),()=>t.error(!0))}De.validateUnion=Zh});var fc=M(jt=>{"use strict";C();Object.defineProperty(jt,"__esModule",{value:!0});jt.validateKeywordUsage=jt.validSchemaType=jt.funcKeywordCode=jt.macroKeywordCode=void 0;var lt=ce(),Mr=rr(),ep=Ct(),tp=Vn();function rp(t,e){let{gen:r,keyword:n,schema:i,parentSchema:a,it:o}=t,u=e.macro.call(o.self,i,a,o),f=lc(r,n,u);o.opts.validateSchema!==!1&&o.self.validateSchema(u,!0);let y=r.name("valid");t.subschema({schema:u,schemaPath:lt.nil,errSchemaPath:`${o.errSchemaPath}/${n}`,topSchemaRef:f,compositeRule:!0},y),t.pass(y,()=>t.error(!0))}jt.macroKeywordCode=rp;function np(t,e){var r;let{gen:n,keyword:i,schema:a,parentSchema:o,$data:u,it:f}=t;sp(f,e);let y=!u&&e.compile?e.compile.call(f.self,a,o,f):e.validate,p=lc(n,i,y),v=n.let("valid");t.block$data(v,m),t.ok((r=e.valid)!==null&&r!==void 0?r:v);function m(){if(e.errors===!1)h(),e.modifying&&cc(t),S(()=>t.error());else{let l=e.async?g():w();e.modifying&&cc(t),S(()=>ip(t,l))}}function g(){let l=n.let("ruleErrs",null);return n.try(()=>h((0,lt._)`await `),I=>n.assign(v,!1).if((0,lt._)`${I} instanceof ${f.ValidationError}`,()=>n.assign(l,(0,lt._)`${I}.errors`),()=>n.throw(I))),l}function w(){let l=(0,lt._)`${p}.errors`;return n.assign(l,null),h(lt.nil),l}function h(l=e.async?(0,lt._)`await `:lt.nil){let I=f.opts.passContext?Mr.default.this:Mr.default.self,R=!("compile"in e&&!u||e.schema===!1);n.assign(v,(0,lt._)`${l}${(0,ep.callValidateCode)(t,p,I,R)}`,e.modifying)}function S(l){var I;n.if((0,lt.not)((I=e.valid)!==null&&I!==void 0?I:v),l)}}jt.funcKeywordCode=np;function cc(t){let{gen:e,data:r,it:n}=t;e.if(n.parentData,()=>e.assign(r,(0,lt._)`${n.parentData}[${n.parentDataProperty}]`))}function ip(t,e){let{gen:r}=t;r.if((0,lt._)`Array.isArray(${e})`,()=>{r.assign(Mr.default.vErrors,(0,lt._)`${Mr.default.vErrors} === null ? ${e} : ${Mr.default.vErrors}.concat(${e})`).assign(Mr.default.errors,(0,lt._)`${Mr.default.vErrors}.length`),(0,tp.extendErrors)(t)},()=>t.error())}function sp({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function lc(t,e,r){if(r===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,lt.stringify)(r)})}function ap(t,e,r=!1){return!e.length||e.some(n=>n==="array"?Array.isArray(t):n==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==n||r&&typeof t>"u")}jt.validSchemaType=ap;function op({schema:t,opts:e,self:r,errSchemaPath:n},i,a){if(Array.isArray(i.keyword)?!i.keyword.includes(a):i.keyword!==a)throw new Error("ajv implementation error");let o=i.dependencies;if(o?.some(u=>!Object.prototype.hasOwnProperty.call(t,u)))throw new Error(`parent schema must have dependencies of ${a}: ${o.join(",")}`);if(i.validateSchema&&!i.validateSchema(t[a])){let f=`keyword "${a}" value is invalid at path "${n}": `+r.errorsText(i.validateSchema.errors);if(e.validateSchema==="log")r.logger.error(f);else throw new Error(f)}}jt.validateKeywordUsage=op});var hc=M(_r=>{"use strict";C();Object.defineProperty(_r,"__esModule",{value:!0});_r.extendSubschemaMode=_r.extendSubschemaData=_r.getSubschema=void 0;var qt=ce(),dc=Ee();function up(t,{keyword:e,schemaProp:r,schema:n,schemaPath:i,errSchemaPath:a,topSchemaRef:o}){if(e!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){let u=t.schema[e];return r===void 0?{schema:u,schemaPath:(0,qt._)`${t.schemaPath}${(0,qt.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:u[r],schemaPath:(0,qt._)`${t.schemaPath}${(0,qt.getProperty)(e)}${(0,qt.getProperty)(r)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,dc.escapeFragment)(r)}`}}if(n!==void 0){if(i===void 0||a===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:i,topSchemaRef:o,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')}_r.getSubschema=up;function cp(t,e,{dataProp:r,dataPropType:n,data:i,dataTypes:a,propertyName:o}){if(i!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:u}=e;if(r!==void 0){let{errorPath:y,dataPathArr:p,opts:v}=e,m=u.let("data",(0,qt._)`${e.data}${(0,qt.getProperty)(r)}`,!0);f(m),t.errorPath=(0,qt.str)`${y}${(0,dc.getErrorPath)(r,n,v.jsPropertySyntax)}`,t.parentDataProperty=(0,qt._)`${r}`,t.dataPathArr=[...p,t.parentDataProperty]}if(i!==void 0){let y=i instanceof qt.Name?i:u.let("data",i,!0);f(y),o!==void 0&&(t.propertyName=o)}a&&(t.dataTypes=a);function f(y){t.data=y,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,y]}}_r.extendSubschemaData=cp;function lp(t,{jtdDiscriminator:e,jtdMetadata:r,compositeRule:n,createErrors:i,allErrors:a}){n!==void 0&&(t.compositeRule=n),i!==void 0&&(t.createErrors=i),a!==void 0&&(t.allErrors=a),t.jtdDiscriminator=e,t.jtdMetadata=r}_r.extendSubschemaMode=lp});var ba=M((T1,pc)=>{"use strict";C();pc.exports=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,i,a;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(a=Object.keys(e),n=a.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[i]))return!1;for(i=n;i--!==0;){var o=a[i];if(!t(e[o],r[o]))return!1}return!0}return e!==e&&r!==r}});var yc=M((x1,mc)=>{"use strict";C();var br=mc.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var n=typeof r=="function"?r:r.pre||function(){},i=r.post||function(){};ji(e,n,i,t,"",t)};br.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};br.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};br.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};br.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function ji(t,e,r,n,i,a,o,u,f,y){if(n&&typeof n=="object"&&!Array.isArray(n)){e(n,i,a,o,u,f,y);for(var p in n){var v=n[p];if(Array.isArray(v)){if(p in br.arrayKeywords)for(var m=0;m<v.length;m++)ji(t,e,r,v[m],i+"/"+p+"/"+m,a,i,p,n,m)}else if(p in br.propsKeywords){if(v&&typeof v=="object")for(var g in v)ji(t,e,r,v[g],i+"/"+p+"/"+fp(g),a,i,p,n,g)}else(p in br.keywords||t.allKeys&&!(p in br.skipKeywords))&&ji(t,e,r,v,i+"/"+p,a,i,p,n)}r(n,i,a,o,u,f,y)}}function fp(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}});var Gn=M(gt=>{"use strict";C();Object.defineProperty(gt,"__esModule",{value:!0});gt.getSchemaRefs=gt.resolveUrl=gt.normalizeId=gt._getFullPath=gt.getFullPath=gt.inlineRef=void 0;var dp=Ee(),hp=ba(),pp=yc(),mp=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function yp(t,e=!0){return typeof t=="boolean"?!0:e===!0?!Sa(t):e?gc(t)<=e:!1}gt.inlineRef=yp;var gp=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Sa(t){for(let e in t){if(gp.has(e))return!0;let r=t[e];if(Array.isArray(r)&&r.some(Sa)||typeof r=="object"&&Sa(r))return!0}return!1}function gc(t){let e=0;for(let r in t){if(r==="$ref")return 1/0;if(e++,!mp.has(r)&&(typeof t[r]=="object"&&(0,dp.eachItem)(t[r],n=>e+=gc(n)),e===1/0))return 1/0}return e}function vc(t,e="",r){r!==!1&&(e=ln(e));let n=t.parse(e);return Ec(t,n)}gt.getFullPath=vc;function Ec(t,e){return t.serialize(e).split("#")[0]+"#"}gt._getFullPath=Ec;var vp=/#\/?$/;function ln(t){return t?t.replace(vp,""):""}gt.normalizeId=ln;function Ep(t,e,r){return r=ln(r),t.resolve(e,r)}gt.resolveUrl=Ep;var _p=/^[a-z_][-a-z0-9._]*$/i;function bp(t,e){if(typeof t=="boolean")return{};let{schemaId:r,uriResolver:n}=this.opts,i=ln(t[r]||e),a={"":i},o=vc(n,i,!1),u={},f=new Set;return pp(t,{allKeys:!0},(v,m,g,w)=>{if(w===void 0)return;let h=o+m,S=a[w];typeof v[r]=="string"&&(S=l.call(this,v[r])),I.call(this,v.$anchor),I.call(this,v.$dynamicAnchor),a[m]=S;function l(R){let D=this.opts.uriResolver.resolve;if(R=ln(S?D(S,R):R),f.has(R))throw p(R);f.add(R);let d=this.refs[R];return typeof d=="string"&&(d=this.refs[d]),typeof d=="object"?y(v,d.schema,R):R!==ln(h)&&(R[0]==="#"?(y(v,u[R],R),u[R]=v):this.refs[R]=h),R}function I(R){if(typeof R=="string"){if(!_p.test(R))throw new Error(`invalid anchor "${R}"`);l.call(this,`#${R}`)}}}),u;function y(v,m,g){if(m!==void 0&&!hp(v,m))throw p(g)}function p(v){return new Error(`reference "${v}" resolves to more than one schema`)}}gt.getSchemaRefs=bp});var Xn=M(Sr=>{"use strict";C();Object.defineProperty(Sr,"__esModule",{value:!0});Sr.getData=Sr.KeywordCxt=Sr.validateFunctionCode=void 0;var Ac=Zu(),_c=Kn(),Aa=pa(),qi=Kn(),Sp=ac(),Wn=fc(),wa=hc(),V=ce(),X=rr(),wp=Gn(),nr=Ee(),Jn=Vn();function Ap(t){if(Dc(t)&&(Pc(t),$c(t))){Dp(t);return}Cc(t,()=>(0,Ac.topBoolOrEmptySchema)(t))}Sr.validateFunctionCode=Ap;function Cc({gen:t,validateName:e,schema:r,schemaEnv:n,opts:i},a){i.code.es5?t.func(e,(0,V._)`${X.default.data}, ${X.default.valCxt}`,n.$async,()=>{t.code((0,V._)`"use strict"; ${bc(r,i)}`),$p(t,i),t.code(a)}):t.func(e,(0,V._)`${X.default.data}, ${Cp(i)}`,n.$async,()=>t.code(bc(r,i)).code(a))}function Cp(t){return(0,V._)`{${X.default.instancePath}="", ${X.default.parentData}, ${X.default.parentDataProperty}, ${X.default.rootData}=${X.default.data}${t.dynamicRef?(0,V._)`, ${X.default.dynamicAnchors}={}`:V.nil}}={}`}function $p(t,e){t.if(X.default.valCxt,()=>{t.var(X.default.instancePath,(0,V._)`${X.default.valCxt}.${X.default.instancePath}`),t.var(X.default.parentData,(0,V._)`${X.default.valCxt}.${X.default.parentData}`),t.var(X.default.parentDataProperty,(0,V._)`${X.default.valCxt}.${X.default.parentDataProperty}`),t.var(X.default.rootData,(0,V._)`${X.default.valCxt}.${X.default.rootData}`),e.dynamicRef&&t.var(X.default.dynamicAnchors,(0,V._)`${X.default.valCxt}.${X.default.dynamicAnchors}`)},()=>{t.var(X.default.instancePath,(0,V._)`""`),t.var(X.default.parentData,(0,V._)`undefined`),t.var(X.default.parentDataProperty,(0,V._)`undefined`),t.var(X.default.rootData,X.default.data),e.dynamicRef&&t.var(X.default.dynamicAnchors,(0,V._)`{}`)})}function Dp(t){let{schema:e,opts:r,gen:n}=t;Cc(t,()=>{r.$comment&&e.$comment&&Fc(t),Tp(t),n.let(X.default.vErrors,null),n.let(X.default.errors,0),r.unevaluated&&Pp(t),kc(t),Rp(t)})}function Pp(t){let{gen:e,validateName:r}=t;t.evaluated=e.const("evaluated",(0,V._)`${r}.evaluated`),e.if((0,V._)`${t.evaluated}.dynamicProps`,()=>e.assign((0,V._)`${t.evaluated}.props`,(0,V._)`undefined`)),e.if((0,V._)`${t.evaluated}.dynamicItems`,()=>e.assign((0,V._)`${t.evaluated}.items`,(0,V._)`undefined`))}function bc(t,e){let r=typeof t=="object"&&t[e.schemaId];return r&&(e.code.source||e.code.process)?(0,V._)`/*# sourceURL=${r} */`:V.nil}function kp(t,e){if(Dc(t)&&(Pc(t),$c(t))){Fp(t,e);return}(0,Ac.boolOrEmptySchema)(t,e)}function $c({schema:t,self:e}){if(typeof t=="boolean")return!t;for(let r in t)if(e.RULES.all[r])return!0;return!1}function Dc(t){return typeof t.schema!="boolean"}function Fp(t,e){let{schema:r,gen:n,opts:i}=t;i.$comment&&r.$comment&&Fc(t),Np(t),xp(t);let a=n.const("_errs",X.default.errors);kc(t,a),n.var(e,(0,V._)`${a} === ${X.default.errors}`)}function Pc(t){(0,nr.checkUnknownRules)(t),Ip(t)}function kc(t,e){if(t.opts.jtd)return Sc(t,[],!1,e);let r=(0,_c.getSchemaTypes)(t.schema),n=(0,_c.coerceAndCheckDataType)(t,r);Sc(t,r,!n,e)}function Ip(t){let{schema:e,errSchemaPath:r,opts:n,self:i}=t;e.$ref&&n.ignoreKeywordsWithRef&&(0,nr.schemaHasRulesButRef)(e,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Tp(t){let{schema:e,opts:r}=t;e.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,nr.checkStrictMode)(t,"default is ignored in the schema root")}function Np(t){let e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,wp.resolveUrl)(t.opts.uriResolver,t.baseId,e))}function xp(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function Fc({gen:t,schemaEnv:e,schema:r,errSchemaPath:n,opts:i}){let a=r.$comment;if(i.$comment===!0)t.code((0,V._)`${X.default.self}.logger.log(${a})`);else if(typeof i.$comment=="function"){let o=(0,V.str)`${n}/$comment`,u=t.scopeValue("root",{ref:e.root});t.code((0,V._)`${X.default.self}.opts.$comment(${a}, ${o}, ${u}.schema)`)}}function Rp(t){let{gen:e,schemaEnv:r,validateName:n,ValidationError:i,opts:a}=t;r.$async?e.if((0,V._)`${X.default.errors} === 0`,()=>e.return(X.default.data),()=>e.throw((0,V._)`new ${i}(${X.default.vErrors})`)):(e.assign((0,V._)`${n}.errors`,X.default.vErrors),a.unevaluated&&Op(t),e.return((0,V._)`${X.default.errors} === 0`))}function Op({gen:t,evaluated:e,props:r,items:n}){r instanceof V.Name&&t.assign((0,V._)`${e}.props`,r),n instanceof V.Name&&t.assign((0,V._)`${e}.items`,n)}function Sc(t,e,r,n){let{gen:i,schema:a,data:o,allErrors:u,opts:f,self:y}=t,{RULES:p}=y;if(a.$ref&&(f.ignoreKeywordsWithRef||!(0,nr.schemaHasRulesButRef)(a,p))){i.block(()=>Tc(t,"$ref",p.all.$ref.definition));return}f.jtd||Bp(t,e),i.block(()=>{for(let m of p.rules)v(m);v(p.post)});function v(m){(0,Aa.shouldUseGroup)(a,m)&&(m.type?(i.if((0,qi.checkDataType)(m.type,o,f.strictNumbers)),wc(t,m),e.length===1&&e[0]===m.type&&r&&(i.else(),(0,qi.reportTypeError)(t)),i.endIf()):wc(t,m),u||i.if((0,V._)`${X.default.errors} === ${n||0}`))}}function wc(t,e){let{gen:r,schema:n,opts:{useDefaults:i}}=t;i&&(0,Sp.assignDefaults)(t,e.type),r.block(()=>{for(let a of e.rules)(0,Aa.shouldUseRule)(n,a)&&Tc(t,a.keyword,a.definition,e.type)})}function Bp(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(Lp(t,e),t.opts.allowUnionTypes||Mp(t,e),jp(t,t.dataTypes))}function Lp(t,e){if(e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(r=>{Ic(t.dataTypes,r)||Ca(t,`type "${r}" not allowed by context "${t.dataTypes.join(",")}"`)}),Up(t,e)}}function Mp(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&Ca(t,"use allowUnionTypes to allow union type keyword")}function jp(t,e){let r=t.self.RULES.all;for(let n in r){let i=r[n];if(typeof i=="object"&&(0,Aa.shouldUseRule)(t.schema,i)){let{type:a}=i.definition;a.length&&!a.some(o=>qp(e,o))&&Ca(t,`missing type "${a.join(",")}" for keyword "${n}"`)}}}function qp(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function Ic(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function Up(t,e){let r=[];for(let n of t.dataTypes)Ic(e,n)?r.push(n):e.includes("integer")&&n==="number"&&r.push("integer");t.dataTypes=r}function Ca(t,e){let r=t.schemaEnv.baseId+t.errSchemaPath;e+=` at "${r}" (strictTypes)`,(0,nr.checkStrictMode)(t,e,t.opts.strictTypes)}var Ui=class{constructor(e,r,n){if((0,Wn.validateKeywordUsage)(e,r,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=r.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,nr.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=r,this.$data)this.schemaCode=e.gen.const("vSchema",Nc(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,Wn.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=e.gen.const("_errs",X.default.errors))}result(e,r,n){this.failResult((0,V.not)(e),r,n)}failResult(e,r,n){this.gen.if(e),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,r){this.failResult((0,V.not)(e),void 0,r)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);let{schemaCode:r}=this;this.fail((0,V._)`${r} !== undefined && (${(0,V.or)(this.invalid$data(),e)})`)}error(e,r,n){if(r){this.setParams(r),this._error(e,n),this.setParams({});return}this._error(e,n)}_error(e,r){(e?Jn.reportExtraError:Jn.reportError)(this,this.def.error,r)}$dataError(){(0,Jn.reportError)(this,this.def.$dataError||Jn.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Jn.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,r){r?Object.assign(this.params,e):this.params=e}block$data(e,r,n=V.nil){this.gen.block(()=>{this.check$data(e,n),r()})}check$data(e=V.nil,r=V.nil){if(!this.$data)return;let{gen:n,schemaCode:i,schemaType:a,def:o}=this;n.if((0,V.or)((0,V._)`${i} === undefined`,r)),e!==V.nil&&n.assign(e,!0),(a.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==V.nil&&n.assign(e,!1)),n.else()}invalid$data(){let{gen:e,schemaCode:r,schemaType:n,def:i,it:a}=this;return(0,V.or)(o(),u());function o(){if(n.length){if(!(r instanceof V.Name))throw new Error("ajv implementation error");let f=Array.isArray(n)?n:[n];return(0,V._)`${(0,qi.checkDataTypes)(f,r,a.opts.strictNumbers,qi.DataType.Wrong)}`}return V.nil}function u(){if(i.validateSchema){let f=e.scopeValue("validate$data",{ref:i.validateSchema});return(0,V._)`!${f}(${r})`}return V.nil}}subschema(e,r){let n=(0,wa.getSubschema)(this.it,e);(0,wa.extendSubschemaData)(n,this.it,e),(0,wa.extendSubschemaMode)(n,e);let i={...this.it,...n,items:void 0,props:void 0};return kp(i,r),i}mergeEvaluated(e,r){let{it:n,gen:i}=this;n.opts.unevaluated&&(n.props!==!0&&e.props!==void 0&&(n.props=nr.mergeEvaluated.props(i,e.props,n.props,r)),n.items!==!0&&e.items!==void 0&&(n.items=nr.mergeEvaluated.items(i,e.items,n.items,r)))}mergeValidEvaluated(e,r){let{it:n,gen:i}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return i.if(r,()=>this.mergeEvaluated(e,V.Name)),!0}};Sr.KeywordCxt=Ui;function Tc(t,e,r,n){let i=new Ui(t,r,e);"code"in r?r.code(i,n):i.$data&&r.validate?(0,Wn.funcKeywordCode)(i,r):"macro"in r?(0,Wn.macroKeywordCode)(i,r):(r.compile||r.validate)&&(0,Wn.funcKeywordCode)(i,r)}var zp=/^\/(?:[^~]|~0|~1)*$/,Vp=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Nc(t,{dataLevel:e,dataNames:r,dataPathArr:n}){let i,a;if(t==="")return X.default.rootData;if(t[0]==="/"){if(!zp.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);i=t,a=X.default.rootData}else{let y=Vp.exec(t);if(!y)throw new Error(`Invalid JSON-pointer: ${t}`);let p=+y[1];if(i=y[2],i==="#"){if(p>=e)throw new Error(f("property/index",p));return n[e-p]}if(p>e)throw new Error(f("data",p));if(a=r[e-p],!i)return a}let o=a,u=i.split("/");for(let y of u)y&&(a=(0,V._)`${a}${(0,V.getProperty)((0,nr.unescapeJsonPointer)(y))}`,o=(0,V._)`${o} && ${a}`);return o;function f(y,p){return`Cannot access ${y} ${p} levels up, current level is ${e}`}}Sr.getData=Nc});var zi=M(Da=>{"use strict";C();Object.defineProperty(Da,"__esModule",{value:!0});var $a=class extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}};Da.default=$a});var Vi=M(Fa=>{"use strict";C();Object.defineProperty(Fa,"__esModule",{value:!0});var Pa=Gn(),ka=class extends Error{constructor(e,r,n,i){super(i||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,Pa.resolveUrl)(e,r,n),this.missingSchema=(0,Pa.normalizeId)((0,Pa.getFullPath)(e,this.missingRef))}};Fa.default=ka});var Ki=M($t=>{"use strict";C();Object.defineProperty($t,"__esModule",{value:!0});$t.resolveSchema=$t.getCompilingSchema=$t.resolveRef=$t.compileSchema=$t.SchemaEnv=void 0;var Tt=ce(),Hp=zi(),jr=rr(),Nt=Gn(),xc=Ee(),Kp=Xn(),fn=class{constructor(e){var r;this.refs={},this.dynamicAnchors={};let n;typeof e.schema=="object"&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(r=e.baseId)!==null&&r!==void 0?r:(0,Nt.normalizeId)(n?.[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=n?.$async,this.refs={}}};$t.SchemaEnv=fn;function Ta(t){let e=Rc.call(this,t);if(e)return e;let r=(0,Nt.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:n,lines:i}=this.opts.code,{ownProperties:a}=this.opts,o=new Tt.CodeGen(this.scope,{es5:n,lines:i,ownProperties:a}),u;t.$async&&(u=o.scopeValue("Error",{ref:Hp.default,code:(0,Tt._)`require("ajv/dist/runtime/validation_error").default`}));let f=o.scopeName("validate");t.validateName=f;let y={gen:o,allErrors:this.opts.allErrors,data:jr.default.data,parentData:jr.default.parentData,parentDataProperty:jr.default.parentDataProperty,dataNames:[jr.default.data],dataPathArr:[Tt.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,Tt.stringify)(t.schema)}:{ref:t.schema}),validateName:f,ValidationError:u,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:Tt.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Tt._)`""`,opts:this.opts,self:this},p;try{this._compilations.add(t),(0,Kp.validateFunctionCode)(y),o.optimize(this.opts.code.optimize);let v=o.toString();p=`${o.scopeRefs(jr.default.scope)}return ${v}`,this.opts.code.process&&(p=this.opts.code.process(p,t));let g=new Function(`${jr.default.self}`,`${jr.default.scope}`,p)(this,this.scope.get());if(this.scope.value(f,{ref:g}),g.errors=null,g.schema=t.schema,g.schemaEnv=t,t.$async&&(g.$async=!0),this.opts.code.source===!0&&(g.source={validateName:f,validateCode:v,scopeValues:o._values}),this.opts.unevaluated){let{props:w,items:h}=y;g.evaluated={props:w instanceof Tt.Name?void 0:w,items:h instanceof Tt.Name?void 0:h,dynamicProps:w instanceof Tt.Name,dynamicItems:h instanceof Tt.Name},g.source&&(g.source.evaluated=(0,Tt.stringify)(g.evaluated))}return t.validate=g,t}catch(v){throw delete t.validate,delete t.validateName,p&&this.logger.error("Error compiling schema, function code:",p),v}finally{this._compilations.delete(t)}}$t.compileSchema=Ta;function Gp(t,e,r){var n;r=(0,Nt.resolveUrl)(this.opts.uriResolver,e,r);let i=t.refs[r];if(i)return i;let a=Xp.call(this,t,r);if(a===void 0){let o=(n=t.localRefs)===null||n===void 0?void 0:n[r],{schemaId:u}=this.opts;o&&(a=new fn({schema:o,schemaId:u,root:t,baseId:e}))}if(a!==void 0)return t.refs[r]=Jp.call(this,a)}$t.resolveRef=Gp;function Jp(t){return(0,Nt.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:Ta.call(this,t)}function Rc(t){for(let e of this._compilations)if(Wp(e,t))return e}$t.getCompilingSchema=Rc;function Wp(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function Xp(t,e){let r;for(;typeof(r=this.refs[e])=="string";)e=r;return r||this.schemas[e]||Hi.call(this,t,e)}function Hi(t,e){let r=this.opts.uriResolver.parse(e),n=(0,Nt._getFullPath)(this.opts.uriResolver,r),i=(0,Nt.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&n===i)return Ia.call(this,r,t);let a=(0,Nt.normalizeId)(n),o=this.refs[a]||this.schemas[a];if(typeof o=="string"){let u=Hi.call(this,t,o);return typeof u?.schema!="object"?void 0:Ia.call(this,r,u)}if(typeof o?.schema=="object"){if(o.validate||Ta.call(this,o),a===(0,Nt.normalizeId)(e)){let{schema:u}=o,{schemaId:f}=this.opts,y=u[f];return y&&(i=(0,Nt.resolveUrl)(this.opts.uriResolver,i,y)),new fn({schema:u,schemaId:f,root:t,baseId:i})}return Ia.call(this,r,o)}}$t.resolveSchema=Hi;var Qp=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Ia(t,{baseId:e,schema:r,root:n}){var i;if(((i=t.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(let u of t.fragment.slice(1).split("/")){if(typeof r=="boolean")return;let f=r[(0,xc.unescapeFragment)(u)];if(f===void 0)return;r=f;let y=typeof r=="object"&&r[this.opts.schemaId];!Qp.has(u)&&y&&(e=(0,Nt.resolveUrl)(this.opts.uriResolver,e,y))}let a;if(typeof r!="boolean"&&r.$ref&&!(0,xc.schemaHasRulesButRef)(r,this.RULES)){let u=(0,Nt.resolveUrl)(this.opts.uriResolver,e,r.$ref);a=Hi.call(this,n,u)}let{schemaId:o}=this.opts;if(a=a||new fn({schema:r,schemaId:o,root:n,baseId:e}),a.schema!==a.root.schema)return a}});var Oc=M((K1,Yp)=>{Yp.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var Lc=M((Gi,Bc)=>{C();(function(t,e){typeof Gi=="object"&&typeof Bc<"u"?e(Gi):typeof define=="function"&&define.amd?define(["exports"],e):e(t.URI=t.URI||{})})(Gi,function(t){"use strict";function e(){for(var A=arguments.length,b=Array(A),$=0;$<A;$++)b[$]=arguments[$];if(b.length>1){b[0]=b[0].slice(0,-1);for(var N=b.length-1,T=1;T<N;++T)b[T]=b[T].slice(1,-1);return b[N]=b[N].slice(1),b.join("")}else return b[0]}function r(A){return"(?:"+A+")"}function n(A){return A===void 0?"undefined":A===null?"null":Object.prototype.toString.call(A).split(" ").pop().split("]").shift().toLowerCase()}function i(A){return A.toUpperCase()}function a(A){return A!=null?A instanceof Array?A:typeof A.length!="number"||A.split||A.setInterval||A.call?[A]:Array.prototype.slice.call(A):[]}function o(A,b){var $=A;if(b)for(var N in b)$[N]=b[N];return $}function u(A){var b="[A-Za-z]",$="[\\x0D]",N="[0-9]",T="[\\x22]",j=e(N,"[A-Fa-f]"),Y="[\\x0A]",oe="[\\x20]",ie=r(r("%[EFef]"+j+"%"+j+j+"%"+j+j)+"|"+r("%[89A-Fa-f]"+j+"%"+j+j)+"|"+r("%"+j+j)),qe="[\\:\\/\\?\\#\\[\\]\\@]",ue="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Te=e(qe,ue),Ue=A?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",ke=A?"[\\uE000-\\uF8FF]":"[]",me=e(b,N,"[\\-\\.\\_\\~]",Ue),Ne=r(b+e(b,N,"[\\+\\-\\.]")+"*"),be=r(r(ie+"|"+e(me,ue,"[\\:]"))+"*"),Gt=r(r("25[0-5]")+"|"+r("2[0-4]"+N)+"|"+r("1"+N+N)+"|"+r("[1-9]"+N)+"|"+N),at=r(r("25[0-5]")+"|"+r("2[0-4]"+N)+"|"+r("1"+N+N)+"|"+r("0?[1-9]"+N)+"|0?0?"+N),pt=r(at+"\\."+at+"\\."+at+"\\."+at),Ce=r(j+"{1,4}"),ot=r(r(Ce+"\\:"+Ce)+"|"+pt),mt=r(r(Ce+"\\:")+"{6}"+ot),St=r("\\:\\:"+r(Ce+"\\:")+"{5}"+ot),Jt=r(r(Ce)+"?\\:\\:"+r(Ce+"\\:")+"{4}"+ot),kt=r(r(r(Ce+"\\:")+"{0,1}"+Ce)+"?\\:\\:"+r(Ce+"\\:")+"{3}"+ot),$r=r(r(r(Ce+"\\:")+"{0,2}"+Ce)+"?\\:\\:"+r(Ce+"\\:")+"{2}"+ot),Gr=r(r(r(Ce+"\\:")+"{0,3}"+Ce)+"?\\:\\:"+Ce+"\\:"+ot),Jr=r(r(r(Ce+"\\:")+"{0,4}"+Ce)+"?\\:\\:"+ot),cr=r(r(r(Ce+"\\:")+"{0,5}"+Ce)+"?\\:\\:"+Ce),Qe=r(r(r(Ce+"\\:")+"{0,6}"+Ce)+"?\\:\\:"),_t=r([mt,St,Jt,kt,$r,Gr,Jr,cr,Qe].join("|")),Wt=r(r(me+"|"+ie)+"+"),Wr=r(_t+"\\%25"+Wt),Xt=r(_t+r("\\%25|\\%(?!"+j+"{2})")+Wt),Dr=r("[vV]"+j+"+\\."+e(me,ue,"[\\:]")+"+"),gs=r("\\["+r(Xt+"|"+_t+"|"+Dr)+"\\]"),vi=r(r(ie+"|"+e(me,ue))+"*"),lr=r(gs+"|"+pt+"(?!"+vi+")|"+vi),Pr=r(N+"*"),Ei=r(r(be+"@")+"?"+lr+r("\\:"+Pr)+"?"),s=r(ie+"|"+e(me,ue,"[\\:\\@]")),c=r(s+"*"),_=r(s+"+"),k=r(r(ie+"|"+e(me,ue,"[\\@]"))+"+"),O=r(r("\\/"+c)+"*"),U=r("\\/"+r(_+O)+"?"),Z=r(k+O),ge=r(_+O),Re="(?!"+s+")",Ge=r(O+"|"+U+"|"+Z+"|"+ge+"|"+Re),Xr=r(r(s+"|"+e("[\\/\\?]",ke))+"*"),An=r(r(s+"|[\\/\\?]")+"*"),Do=r(r("\\/\\/"+Ei+O)+"|"+U+"|"+ge+"|"+Re),cf=r(Ne+"\\:"+Do+r("\\?"+Xr)+"?"+r("\\#"+An)+"?"),lf=r(r("\\/\\/"+Ei+O)+"|"+U+"|"+Z+"|"+Re),ff=r(lf+r("\\?"+Xr)+"?"+r("\\#"+An)+"?"),By=r(cf+"|"+ff),Ly=r(Ne+"\\:"+Do+r("\\?"+Xr)+"?"),My="^("+Ne+")\\:"+r(r("\\/\\/("+r("("+be+")@")+"?("+lr+")"+r("\\:("+Pr+")")+"?)")+"?("+O+"|"+U+"|"+ge+"|"+Re+")")+r("\\?("+Xr+")")+"?"+r("\\#("+An+")")+"?$",jy="^(){0}"+r(r("\\/\\/("+r("("+be+")@")+"?("+lr+")"+r("\\:("+Pr+")")+"?)")+"?("+O+"|"+U+"|"+Z+"|"+Re+")")+r("\\?("+Xr+")")+"?"+r("\\#("+An+")")+"?$",qy="^("+Ne+")\\:"+r(r("\\/\\/("+r("("+be+")@")+"?("+lr+")"+r("\\:("+Pr+")")+"?)")+"?("+O+"|"+U+"|"+ge+"|"+Re+")")+r("\\?("+Xr+")")+"?$",Uy="^"+r("\\#("+An+")")+"?$",zy="^"+r("("+be+")@")+"?("+lr+")"+r("\\:("+Pr+")")+"?$";return{NOT_SCHEME:new RegExp(e("[^]",b,N,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(e("[^\\%\\:]",me,ue),"g"),NOT_HOST:new RegExp(e("[^\\%\\[\\]\\:]",me,ue),"g"),NOT_PATH:new RegExp(e("[^\\%\\/\\:\\@]",me,ue),"g"),NOT_PATH_NOSCHEME:new RegExp(e("[^\\%\\/\\@]",me,ue),"g"),NOT_QUERY:new RegExp(e("[^\\%]",me,ue,"[\\:\\@\\/\\?]",ke),"g"),NOT_FRAGMENT:new RegExp(e("[^\\%]",me,ue,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(e("[^]",me,ue),"g"),UNRESERVED:new RegExp(me,"g"),OTHER_CHARS:new RegExp(e("[^\\%]",me,Te),"g"),PCT_ENCODED:new RegExp(ie,"g"),IPV4ADDRESS:new RegExp("^("+pt+")$"),IPV6ADDRESS:new RegExp("^\\[?("+_t+")"+r(r("\\%25|\\%(?!"+j+"{2})")+"("+Wt+")")+"?\\]?$")}}var f=u(!1),y=u(!0),p=function(){function A(b,$){var N=[],T=!0,j=!1,Y=void 0;try{for(var oe=b[Symbol.iterator](),ie;!(T=(ie=oe.next()).done)&&(N.push(ie.value),!($&&N.length===$));T=!0);}catch(qe){j=!0,Y=qe}finally{try{!T&&oe.return&&oe.return()}finally{if(j)throw Y}}return N}return function(b,$){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return A(b,$);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=function(A){if(Array.isArray(A)){for(var b=0,$=Array(A.length);b<A.length;b++)$[b]=A[b];return $}else return Array.from(A)},m=2147483647,g=36,w=1,h=26,S=38,l=700,I=72,R=128,D="-",d=/^xn--/,E=/[^\0-\x7E]/,F=/[\x2E\u3002\uFF0E\uFF61]/g,P={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},z=g-w,H=Math.floor,te=String.fromCharCode;function J(A){throw new RangeError(P[A])}function we(A,b){for(var $=[],N=A.length;N--;)$[N]=b(A[N]);return $}function Q(A,b){var $=A.split("@"),N="";$.length>1&&(N=$[0]+"@",A=$[1]),A=A.replace(F,".");var T=A.split("."),j=we(T,b).join(".");return N+j}function pe(A){for(var b=[],$=0,N=A.length;$<N;){var T=A.charCodeAt($++);if(T>=55296&&T<=56319&&$<N){var j=A.charCodeAt($++);(j&64512)==56320?b.push(((T&1023)<<10)+(j&1023)+65536):(b.push(T),$--)}else b.push(T)}return b}var Ae=function(b){return String.fromCodePoint.apply(String,v(b))},Oe=function(b){return b-48<10?b-22:b-65<26?b-65:b-97<26?b-97:g},dt=function(b,$){return b+22+75*(b<26)-(($!=0)<<5)},Ie=function(b,$,N){var T=0;for(b=N?H(b/l):b>>1,b+=H(b/$);b>z*h>>1;T+=g)b=H(b/z);return H(T+(z+1)*b/(b+S))},We=function(b){var $=[],N=b.length,T=0,j=R,Y=I,oe=b.lastIndexOf(D);oe<0&&(oe=0);for(var ie=0;ie<oe;++ie)b.charCodeAt(ie)>=128&&J("not-basic"),$.push(b.charCodeAt(ie));for(var qe=oe>0?oe+1:0;qe<N;){for(var ue=T,Te=1,Ue=g;;Ue+=g){qe>=N&&J("invalid-input");var ke=Oe(b.charCodeAt(qe++));(ke>=g||ke>H((m-T)/Te))&&J("overflow"),T+=ke*Te;var me=Ue<=Y?w:Ue>=Y+h?h:Ue-Y;if(ke<me)break;var Ne=g-me;Te>H(m/Ne)&&J("overflow"),Te*=Ne}var be=$.length+1;Y=Ie(T-ue,be,ue==0),H(T/be)>m-j&&J("overflow"),j+=H(T/be),T%=be,$.splice(T++,0,j)}return String.fromCodePoint.apply(String,$)},Je=function(b){var $=[];b=pe(b);var N=b.length,T=R,j=0,Y=I,oe=!0,ie=!1,qe=void 0;try{for(var ue=b[Symbol.iterator](),Te;!(oe=(Te=ue.next()).done);oe=!0){var Ue=Te.value;Ue<128&&$.push(te(Ue))}}catch(Xt){ie=!0,qe=Xt}finally{try{!oe&&ue.return&&ue.return()}finally{if(ie)throw qe}}var ke=$.length,me=ke;for(ke&&$.push(D);me<N;){var Ne=m,be=!0,Gt=!1,at=void 0;try{for(var pt=b[Symbol.iterator](),Ce;!(be=(Ce=pt.next()).done);be=!0){var ot=Ce.value;ot>=T&&ot<Ne&&(Ne=ot)}}catch(Xt){Gt=!0,at=Xt}finally{try{!be&&pt.return&&pt.return()}finally{if(Gt)throw at}}var mt=me+1;Ne-T>H((m-j)/mt)&&J("overflow"),j+=(Ne-T)*mt,T=Ne;var St=!0,Jt=!1,kt=void 0;try{for(var $r=b[Symbol.iterator](),Gr;!(St=(Gr=$r.next()).done);St=!0){var Jr=Gr.value;if(Jr<T&&++j>m&&J("overflow"),Jr==T){for(var cr=j,Qe=g;;Qe+=g){var _t=Qe<=Y?w:Qe>=Y+h?h:Qe-Y;if(cr<_t)break;var Wt=cr-_t,Wr=g-_t;$.push(te(dt(_t+Wt%Wr,0))),cr=H(Wt/Wr)}$.push(te(dt(cr,0))),Y=Ie(j,mt,me==ke),j=0,++me}}}catch(Xt){Jt=!0,kt=Xt}finally{try{!St&&$r.return&&$r.return()}finally{if(Jt)throw kt}}++j,++T}return $.join("")},Xe=function(b){return Q(b,function($){return d.test($)?We($.slice(4).toLowerCase()):$})},Kt=function(b){return Q(b,function($){return E.test($)?"xn--"+Je($):$})},x={version:"2.1.0",ucs2:{decode:pe,encode:Ae},decode:We,encode:Je,toASCII:Kt,toUnicode:Xe},B={};function q(A){var b=A.charCodeAt(0),$=void 0;return b<16?$="%0"+b.toString(16).toUpperCase():b<128?$="%"+b.toString(16).toUpperCase():b<2048?$="%"+(b>>6|192).toString(16).toUpperCase()+"%"+(b&63|128).toString(16).toUpperCase():$="%"+(b>>12|224).toString(16).toUpperCase()+"%"+(b>>6&63|128).toString(16).toUpperCase()+"%"+(b&63|128).toString(16).toUpperCase(),$}function de(A){for(var b="",$=0,N=A.length;$<N;){var T=parseInt(A.substr($+1,2),16);if(T<128)b+=String.fromCharCode(T),$+=3;else if(T>=194&&T<224){if(N-$>=6){var j=parseInt(A.substr($+4,2),16);b+=String.fromCharCode((T&31)<<6|j&63)}else b+=A.substr($,6);$+=6}else if(T>=224){if(N-$>=9){var Y=parseInt(A.substr($+4,2),16),oe=parseInt(A.substr($+7,2),16);b+=String.fromCharCode((T&15)<<12|(Y&63)<<6|oe&63)}else b+=A.substr($,9);$+=9}else b+=A.substr($,3),$+=3}return b}function je(A,b){function $(N){var T=de(N);return T.match(b.UNRESERVED)?T:N}return A.scheme&&(A.scheme=String(A.scheme).replace(b.PCT_ENCODED,$).toLowerCase().replace(b.NOT_SCHEME,"")),A.userinfo!==void 0&&(A.userinfo=String(A.userinfo).replace(b.PCT_ENCODED,$).replace(b.NOT_USERINFO,q).replace(b.PCT_ENCODED,i)),A.host!==void 0&&(A.host=String(A.host).replace(b.PCT_ENCODED,$).toLowerCase().replace(b.NOT_HOST,q).replace(b.PCT_ENCODED,i)),A.path!==void 0&&(A.path=String(A.path).replace(b.PCT_ENCODED,$).replace(A.scheme?b.NOT_PATH:b.NOT_PATH_NOSCHEME,q).replace(b.PCT_ENCODED,i)),A.query!==void 0&&(A.query=String(A.query).replace(b.PCT_ENCODED,$).replace(b.NOT_QUERY,q).replace(b.PCT_ENCODED,i)),A.fragment!==void 0&&(A.fragment=String(A.fragment).replace(b.PCT_ENCODED,$).replace(b.NOT_FRAGMENT,q).replace(b.PCT_ENCODED,i)),A}function fe(A){return A.replace(/^0*(.*)/,"$1")||"0"}function le(A,b){var $=A.match(b.IPV4ADDRESS)||[],N=p($,2),T=N[1];return T?T.split(".").map(fe).join("."):A}function $e(A,b){var $=A.match(b.IPV6ADDRESS)||[],N=p($,3),T=N[1],j=N[2];if(T){for(var Y=T.toLowerCase().split("::").reverse(),oe=p(Y,2),ie=oe[0],qe=oe[1],ue=qe?qe.split(":").map(fe):[],Te=ie.split(":").map(fe),Ue=b.IPV4ADDRESS.test(Te[Te.length-1]),ke=Ue?7:8,me=Te.length-ke,Ne=Array(ke),be=0;be<ke;++be)Ne[be]=ue[be]||Te[me+be]||"";Ue&&(Ne[ke-1]=le(Ne[ke-1],b));var Gt=Ne.reduce(function(mt,St,Jt){if(!St||St==="0"){var kt=mt[mt.length-1];kt&&kt.index+kt.length===Jt?kt.length++:mt.push({index:Jt,length:1})}return mt},[]),at=Gt.sort(function(mt,St){return St.length-mt.length})[0],pt=void 0;if(at&&at.length>1){var Ce=Ne.slice(0,at.index),ot=Ne.slice(at.index+at.length);pt=Ce.join(":")+"::"+ot.join(":")}else pt=Ne.join(":");return j&&(pt+="%"+j),pt}else return A}var Be=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,bt="".match(/(){0}/)[1]===void 0;function tt(A){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$={},N=b.iri!==!1?y:f;b.reference==="suffix"&&(A=(b.scheme?b.scheme+":":"")+"//"+A);var T=A.match(Be);if(T){bt?($.scheme=T[1],$.userinfo=T[3],$.host=T[4],$.port=parseInt(T[5],10),$.path=T[6]||"",$.query=T[7],$.fragment=T[8],isNaN($.port)&&($.port=T[5])):($.scheme=T[1]||void 0,$.userinfo=A.indexOf("@")!==-1?T[3]:void 0,$.host=A.indexOf("//")!==-1?T[4]:void 0,$.port=parseInt(T[5],10),$.path=T[6]||"",$.query=A.indexOf("?")!==-1?T[7]:void 0,$.fragment=A.indexOf("#")!==-1?T[8]:void 0,isNaN($.port)&&($.port=A.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?T[4]:void 0)),$.host&&($.host=$e(le($.host,N),N)),$.scheme===void 0&&$.userinfo===void 0&&$.host===void 0&&$.port===void 0&&!$.path&&$.query===void 0?$.reference="same-document":$.scheme===void 0?$.reference="relative":$.fragment===void 0?$.reference="absolute":$.reference="uri",b.reference&&b.reference!=="suffix"&&b.reference!==$.reference&&($.error=$.error||"URI is not a "+b.reference+" reference.");var j=B[(b.scheme||$.scheme||"").toLowerCase()];if(!b.unicodeSupport&&(!j||!j.unicodeSupport)){if($.host&&(b.domainHost||j&&j.domainHost))try{$.host=x.toASCII($.host.replace(N.PCT_ENCODED,de).toLowerCase())}catch(Y){$.error=$.error||"Host's domain name can not be converted to ASCII via punycode: "+Y}je($,f)}else je($,N);j&&j.parse&&j.parse($,b)}else $.error=$.error||"URI can not be parsed.";return $}function gn(A,b){var $=b.iri!==!1?y:f,N=[];return A.userinfo!==void 0&&(N.push(A.userinfo),N.push("@")),A.host!==void 0&&N.push($e(le(String(A.host),$),$).replace($.IPV6ADDRESS,function(T,j,Y){return"["+j+(Y?"%25"+Y:"")+"]"})),(typeof A.port=="number"||typeof A.port=="string")&&(N.push(":"),N.push(String(A.port))),N.length?N.join(""):void 0}var ar=/^\.\.?\//,Cr=/^\/\.(\/|$)/,Bt=/^\/\.\.(\/|$)/,ls=/^\/?(?:.|\n)*?(?=\/|$)/;function or(A){for(var b=[];A.length;)if(A.match(ar))A=A.replace(ar,"");else if(A.match(Cr))A=A.replace(Cr,"/");else if(A.match(Bt))A=A.replace(Bt,"/"),b.pop();else if(A==="."||A==="..")A="";else{var $=A.match(ls);if($){var N=$[0];A=A.slice(N.length),b.push(N)}else throw new Error("Unexpected dot segment condition")}return b.join("")}function ht(A){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=b.iri?y:f,N=[],T=B[(b.scheme||A.scheme||"").toLowerCase()];if(T&&T.serialize&&T.serialize(A,b),A.host&&!$.IPV6ADDRESS.test(A.host)){if(b.domainHost||T&&T.domainHost)try{A.host=b.iri?x.toUnicode(A.host):x.toASCII(A.host.replace($.PCT_ENCODED,de).toLowerCase())}catch(oe){A.error=A.error||"Host's domain name can not be converted to "+(b.iri?"Unicode":"ASCII")+" via punycode: "+oe}}je(A,$),b.reference!=="suffix"&&A.scheme&&(N.push(A.scheme),N.push(":"));var j=gn(A,b);if(j!==void 0&&(b.reference!=="suffix"&&N.push("//"),N.push(j),A.path&&A.path.charAt(0)!=="/"&&N.push("/")),A.path!==void 0){var Y=A.path;!b.absolutePath&&(!T||!T.absolutePath)&&(Y=or(Y)),j===void 0&&(Y=Y.replace(/^\/\//,"/%2F")),N.push(Y)}return A.query!==void 0&&(N.push("?"),N.push(A.query)),A.fragment!==void 0&&(N.push("#"),N.push(A.fragment)),N.join("")}function vn(A,b){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},N=arguments[3],T={};return N||(A=tt(ht(A,$),$),b=tt(ht(b,$),$)),$=$||{},!$.tolerant&&b.scheme?(T.scheme=b.scheme,T.userinfo=b.userinfo,T.host=b.host,T.port=b.port,T.path=or(b.path||""),T.query=b.query):(b.userinfo!==void 0||b.host!==void 0||b.port!==void 0?(T.userinfo=b.userinfo,T.host=b.host,T.port=b.port,T.path=or(b.path||""),T.query=b.query):(b.path?(b.path.charAt(0)==="/"?T.path=or(b.path):((A.userinfo!==void 0||A.host!==void 0||A.port!==void 0)&&!A.path?T.path="/"+b.path:A.path?T.path=A.path.slice(0,A.path.lastIndexOf("/")+1)+b.path:T.path=b.path,T.path=or(T.path)),T.query=b.query):(T.path=A.path,b.query!==void 0?T.query=b.query:T.query=A.query),T.userinfo=A.userinfo,T.host=A.host,T.port=A.port),T.scheme=A.scheme),T.fragment=b.fragment,T}function ee(A,b,$){var N=o({scheme:"null"},$);return ht(vn(tt(A,N),tt(b,N),N,!0),N)}function En(A,b){return typeof A=="string"?A=ht(tt(A,b),b):n(A)==="object"&&(A=tt(ht(A,b),b)),A}function hi(A,b,$){return typeof A=="string"?A=ht(tt(A,$),$):n(A)==="object"&&(A=ht(A,$)),typeof b=="string"?b=ht(tt(b,$),$):n(b)==="object"&&(b=ht(b,$)),A===b}function fs(A,b){return A&&A.toString().replace(!b||!b.iri?f.ESCAPE:y.ESCAPE,q)}function st(A,b){return A&&A.toString().replace(!b||!b.iri?f.PCT_ENCODED:y.PCT_ENCODED,de)}var W={scheme:"http",domainHost:!0,parse:function(b,$){return b.host||(b.error=b.error||"HTTP URIs must have a host."),b},serialize:function(b,$){var N=String(b.scheme).toLowerCase()==="https";return(b.port===(N?443:80)||b.port==="")&&(b.port=void 0),b.path||(b.path="/"),b}},_e={scheme:"https",domainHost:W.domainHost,parse:W.parse,serialize:W.serialize};function Et(A){return typeof A.secure=="boolean"?A.secure:String(A.scheme).toLowerCase()==="wss"}var K={scheme:"ws",domainHost:!0,parse:function(b,$){var N=b;return N.secure=Et(N),N.resourceName=(N.path||"/")+(N.query?"?"+N.query:""),N.path=void 0,N.query=void 0,N},serialize:function(b,$){if((b.port===(Et(b)?443:80)||b.port==="")&&(b.port=void 0),typeof b.secure=="boolean"&&(b.scheme=b.secure?"wss":"ws",b.secure=void 0),b.resourceName){var N=b.resourceName.split("?"),T=p(N,2),j=T[0],Y=T[1];b.path=j&&j!=="/"?j:void 0,b.query=Y,b.resourceName=void 0}return b.fragment=void 0,b}},Le={scheme:"wss",domainHost:K.domainHost,parse:K.parse,serialize:K.serialize},G={},Ke=!0,pi="[A-Za-z0-9\\-\\.\\_\\~"+(Ke?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",ze="[0-9A-Fa-f]",Vr=r(r("%[EFef]"+ze+"%"+ze+ze+"%"+ze+ze)+"|"+r("%[89A-Fa-f]"+ze+"%"+ze+ze)+"|"+r("%"+ze+ze)),ds="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",_n="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Hr=e(_n,'[\\"\\\\]'),hs="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",ps=new RegExp(pi,"g"),ur=new RegExp(Vr,"g"),mi=new RegExp(e("[^]",ds,"[\\.]",'[\\"]',Hr),"g"),bn=new RegExp(e("[^]",pi,hs),"g"),ms=bn;function Kr(A){var b=de(A);return b.match(ps)?b:A}var Sn={scheme:"mailto",parse:function(b,$){var N=b,T=N.to=N.path?N.path.split(","):[];if(N.path=void 0,N.query){for(var j=!1,Y={},oe=N.query.split("&"),ie=0,qe=oe.length;ie<qe;++ie){var ue=oe[ie].split("=");switch(ue[0]){case"to":for(var Te=ue[1].split(","),Ue=0,ke=Te.length;Ue<ke;++Ue)T.push(Te[Ue]);break;case"subject":N.subject=st(ue[1],$);break;case"body":N.body=st(ue[1],$);break;default:j=!0,Y[st(ue[0],$)]=st(ue[1],$);break}}j&&(N.headers=Y)}N.query=void 0;for(var me=0,Ne=T.length;me<Ne;++me){var be=T[me].split("@");if(be[0]=st(be[0]),$.unicodeSupport)be[1]=st(be[1],$).toLowerCase();else try{be[1]=x.toASCII(st(be[1],$).toLowerCase())}catch(Gt){N.error=N.error||"Email address's domain name can not be converted to ASCII via punycode: "+Gt}T[me]=be.join("@")}return N},serialize:function(b,$){var N=b,T=a(b.to);if(T){for(var j=0,Y=T.length;j<Y;++j){var oe=String(T[j]),ie=oe.lastIndexOf("@"),qe=oe.slice(0,ie).replace(ur,Kr).replace(ur,i).replace(mi,q),ue=oe.slice(ie+1);try{ue=$.iri?x.toUnicode(ue):x.toASCII(st(ue,$).toLowerCase())}catch(me){N.error=N.error||"Email address's domain name can not be converted to "+($.iri?"Unicode":"ASCII")+" via punycode: "+me}T[j]=qe+"@"+ue}N.path=T.join(",")}var Te=b.headers=b.headers||{};b.subject&&(Te.subject=b.subject),b.body&&(Te.body=b.body);var Ue=[];for(var ke in Te)Te[ke]!==G[ke]&&Ue.push(ke.replace(ur,Kr).replace(ur,i).replace(bn,q)+"="+Te[ke].replace(ur,Kr).replace(ur,i).replace(ms,q));return Ue.length&&(N.query=Ue.join("&")),N}},yi=/^([^\:]+)\:(.*)/,gi={scheme:"urn",parse:function(b,$){var N=b.path&&b.path.match(yi),T=b;if(N){var j=$.scheme||T.scheme||"urn",Y=N[1].toLowerCase(),oe=N[2],ie=j+":"+($.nid||Y),qe=B[ie];T.nid=Y,T.nss=oe,T.path=void 0,qe&&(T=qe.parse(T,$))}else T.error=T.error||"URN can not be parsed.";return T},serialize:function(b,$){var N=$.scheme||b.scheme||"urn",T=b.nid,j=N+":"+($.nid||T),Y=B[j];Y&&(b=Y.serialize(b,$));var oe=b,ie=b.nss;return oe.path=(T||$.nid)+":"+ie,oe}},ys=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,wn={scheme:"urn:uuid",parse:function(b,$){var N=b;return N.uuid=N.nss,N.nss=void 0,!$.tolerant&&(!N.uuid||!N.uuid.match(ys))&&(N.error=N.error||"UUID is not valid."),N},serialize:function(b,$){var N=b;return N.nss=(b.uuid||"").toLowerCase(),N}};B[W.scheme]=W,B[_e.scheme]=_e,B[K.scheme]=K,B[Le.scheme]=Le,B[Sn.scheme]=Sn,B[gi.scheme]=gi,B[wn.scheme]=wn,t.SCHEMES=B,t.pctEncChar=q,t.pctDecChars=de,t.parse=tt,t.removeDotSegments=or,t.serialize=ht,t.resolveComponents=vn,t.resolve=ee,t.normalize=En,t.equal=hi,t.escapeComponent=fs,t.unescapeComponent=st,Object.defineProperty(t,"__esModule",{value:!0})})});var jc=M(Na=>{"use strict";C();Object.defineProperty(Na,"__esModule",{value:!0});var Mc=Lc();Mc.code='require("ajv/dist/runtime/uri").default';Na.default=Mc});var Jc=M(Ze=>{"use strict";C();Object.defineProperty(Ze,"__esModule",{value:!0});Ze.CodeGen=Ze.Name=Ze.nil=Ze.stringify=Ze.str=Ze._=Ze.KeywordCxt=void 0;var Zp=Xn();Object.defineProperty(Ze,"KeywordCxt",{enumerable:!0,get:function(){return Zp.KeywordCxt}});var dn=ce();Object.defineProperty(Ze,"_",{enumerable:!0,get:function(){return dn._}});Object.defineProperty(Ze,"str",{enumerable:!0,get:function(){return dn.str}});Object.defineProperty(Ze,"stringify",{enumerable:!0,get:function(){return dn.stringify}});Object.defineProperty(Ze,"nil",{enumerable:!0,get:function(){return dn.nil}});Object.defineProperty(Ze,"Name",{enumerable:!0,get:function(){return dn.Name}});Object.defineProperty(Ze,"CodeGen",{enumerable:!0,get:function(){return dn.CodeGen}});var e0=zi(),Hc=Vi(),t0=ha(),Qn=Ki(),r0=ce(),Yn=Gn(),Ji=Kn(),Ra=Ee(),qc=Oc(),n0=jc(),Kc=(t,e)=>new RegExp(t,e);Kc.code="new RegExp";var i0=["removeAdditional","useDefaults","coerceTypes"],s0=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),a0={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},o0={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},Uc=200;function u0(t){var e,r,n,i,a,o,u,f,y,p,v,m,g,w,h,S,l,I,R,D,d,E,F,P,z;let H=t.strict,te=(e=t.code)===null||e===void 0?void 0:e.optimize,J=te===!0||te===void 0?1:te||0,we=(n=(r=t.code)===null||r===void 0?void 0:r.regExp)!==null&&n!==void 0?n:Kc,Q=(i=t.uriResolver)!==null&&i!==void 0?i:n0.default;return{strictSchema:(o=(a=t.strictSchema)!==null&&a!==void 0?a:H)!==null&&o!==void 0?o:!0,strictNumbers:(f=(u=t.strictNumbers)!==null&&u!==void 0?u:H)!==null&&f!==void 0?f:!0,strictTypes:(p=(y=t.strictTypes)!==null&&y!==void 0?y:H)!==null&&p!==void 0?p:"log",strictTuples:(m=(v=t.strictTuples)!==null&&v!==void 0?v:H)!==null&&m!==void 0?m:"log",strictRequired:(w=(g=t.strictRequired)!==null&&g!==void 0?g:H)!==null&&w!==void 0?w:!1,code:t.code?{...t.code,optimize:J,regExp:we}:{optimize:J,regExp:we},loopRequired:(h=t.loopRequired)!==null&&h!==void 0?h:Uc,loopEnum:(S=t.loopEnum)!==null&&S!==void 0?S:Uc,meta:(l=t.meta)!==null&&l!==void 0?l:!0,messages:(I=t.messages)!==null&&I!==void 0?I:!0,inlineRefs:(R=t.inlineRefs)!==null&&R!==void 0?R:!0,schemaId:(D=t.schemaId)!==null&&D!==void 0?D:"$id",addUsedSchema:(d=t.addUsedSchema)!==null&&d!==void 0?d:!0,validateSchema:(E=t.validateSchema)!==null&&E!==void 0?E:!0,validateFormats:(F=t.validateFormats)!==null&&F!==void 0?F:!0,unicodeRegExp:(P=t.unicodeRegExp)!==null&&P!==void 0?P:!0,int32range:(z=t.int32range)!==null&&z!==void 0?z:!0,uriResolver:Q}}var Zn=class{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...u0(e)};let{es5:r,lines:n}=this.opts.code;this.scope=new r0.ValueScope({scope:{},prefixes:s0,es5:r,lines:n}),this.logger=p0(e.logger);let i=e.validateFormats;e.validateFormats=!1,this.RULES=(0,t0.getRules)(),zc.call(this,a0,e,"NOT SUPPORTED"),zc.call(this,o0,e,"DEPRECATED","warn"),this._metaOpts=d0.call(this),e.formats&&l0.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&f0.call(this,e.keywords),typeof e.meta=="object"&&this.addMetaSchema(e.meta),c0.call(this),e.validateFormats=i}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:e,meta:r,schemaId:n}=this.opts,i=qc;n==="id"&&(i={...qc},i.id=i.$id,delete i.$id),r&&e&&this.addMetaSchema(i,i[n],!1)}defaultMeta(){let{meta:e,schemaId:r}=this.opts;return this.opts.defaultMeta=typeof e=="object"?e[r]||e:void 0}validate(e,r){let n;if(typeof e=="string"){if(n=this.getSchema(e),!n)throw new Error(`no schema with key or ref "${e}"`)}else n=this.compile(e);let i=n(r);return"$async"in n||(this.errors=n.errors),i}compile(e,r){let n=this._addSchema(e,r);return n.validate||this._compileSchemaEnv(n)}compileAsync(e,r){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:n}=this.opts;return i.call(this,e,r);async function i(p,v){await a.call(this,p.$schema);let m=this._addSchema(p,v);return m.validate||o.call(this,m)}async function a(p){p&&!this.getSchema(p)&&await i.call(this,{$ref:p},!0)}async function o(p){try{return this._compileSchemaEnv(p)}catch(v){if(!(v instanceof Hc.default))throw v;return u.call(this,v),await f.call(this,v.missingSchema),o.call(this,p)}}function u({missingSchema:p,missingRef:v}){if(this.refs[p])throw new Error(`AnySchema ${p} is loaded but ${v} cannot be resolved`)}async function f(p){let v=await y.call(this,p);this.refs[p]||await a.call(this,v.$schema),this.refs[p]||this.addSchema(v,p,r)}async function y(p){let v=this._loading[p];if(v)return v;try{return await(this._loading[p]=n(p))}finally{delete this._loading[p]}}}addSchema(e,r,n,i=this.opts.validateSchema){if(Array.isArray(e)){for(let o of e)this.addSchema(o,void 0,n,i);return this}let a;if(typeof e=="object"){let{schemaId:o}=this.opts;if(a=e[o],a!==void 0&&typeof a!="string")throw new Error(`schema ${o} must be string`)}return r=(0,Yn.normalizeId)(r||a),this._checkUnique(r),this.schemas[r]=this._addSchema(e,n,r,i,!0),this}addMetaSchema(e,r,n=this.opts.validateSchema){return this.addSchema(e,r,!0,n),this}validateSchema(e,r){if(typeof e=="boolean")return!0;let n;if(n=e.$schema,n!==void 0&&typeof n!="string")throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let i=this.validate(n,e);if(!i&&r){let a="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(a);else throw new Error(a)}return i}getSchema(e){let r;for(;typeof(r=Vc.call(this,e))=="string";)e=r;if(r===void 0){let{schemaId:n}=this.opts,i=new Qn.SchemaEnv({schema:{},schemaId:n});if(r=Qn.resolveSchema.call(this,i,e),!r)return;this.refs[e]=r}return r.validate||this._compileSchemaEnv(r)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let r=Vc.call(this,e);return typeof r=="object"&&this._cache.delete(r.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{let r=e;this._cache.delete(r);let n=e[this.opts.schemaId];return n&&(n=(0,Yn.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(let r of e)this.addKeyword(r);return this}addKeyword(e,r){let n;if(typeof e=="string")n=e,typeof r=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),r.keyword=n);else if(typeof e=="object"&&r===void 0){if(r=e,n=r.keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(y0.call(this,n,r),!r)return(0,Ra.eachItem)(n,a=>xa.call(this,a)),this;v0.call(this,r);let i={...r,type:(0,Ji.getJSONTypes)(r.type),schemaType:(0,Ji.getJSONTypes)(r.schemaType)};return(0,Ra.eachItem)(n,i.type.length===0?a=>xa.call(this,a,i):a=>i.type.forEach(o=>xa.call(this,a,i,o))),this}getKeyword(e){let r=this.RULES.all[e];return typeof r=="object"?r.definition:!!r}removeKeyword(e){let{RULES:r}=this;delete r.keywords[e],delete r.all[e];for(let n of r.rules){let i=n.rules.findIndex(a=>a.keyword===e);i>=0&&n.rules.splice(i,1)}return this}addFormat(e,r){return typeof r=="string"&&(r=new RegExp(r)),this.formats[e]=r,this}errorsText(e=this.errors,{separator:r=", ",dataVar:n="data"}={}){return!e||e.length===0?"No errors":e.map(i=>`${n}${i.instancePath} ${i.message}`).reduce((i,a)=>i+r+a)}$dataMetaSchema(e,r){let n=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(let i of r){let a=i.split("/").slice(1),o=e;for(let u of a)o=o[u];for(let u in n){let f=n[u];if(typeof f!="object")continue;let{$data:y}=f.definition,p=o[u];y&&p&&(o[u]=Gc(p))}}return e}_removeAllSchemas(e,r){for(let n in e){let i=e[n];(!r||r.test(n))&&(typeof i=="string"?delete e[n]:i&&!i.meta&&(this._cache.delete(i.schema),delete e[n]))}}_addSchema(e,r,n,i=this.opts.validateSchema,a=this.opts.addUsedSchema){let o,{schemaId:u}=this.opts;if(typeof e=="object")o=e[u];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof e!="boolean")throw new Error("schema must be object or boolean")}let f=this._cache.get(e);if(f!==void 0)return f;n=(0,Yn.normalizeId)(o||n);let y=Yn.getSchemaRefs.call(this,e,n);return f=new Qn.SchemaEnv({schema:e,schemaId:u,meta:r,baseId:n,localRefs:y}),this._cache.set(f.schema,f),a&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=f),i&&this.validateSchema(e,!0),f}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):Qn.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){let r=this.opts;this.opts=this._metaOpts;try{Qn.compileSchema.call(this,e)}finally{this.opts=r}}};Ze.default=Zn;Zn.ValidationError=e0.default;Zn.MissingRefError=Hc.default;function zc(t,e,r,n="error"){for(let i in t){let a=i;a in e&&this.logger[n](`${r}: option ${i}. ${t[a]}`)}}function Vc(t){return t=(0,Yn.normalizeId)(t),this.schemas[t]||this.refs[t]}function c0(){let t=this.opts.schemas;if(t)if(Array.isArray(t))this.addSchema(t);else for(let e in t)this.addSchema(t[e],e)}function l0(){for(let t in this.opts.formats){let e=this.opts.formats[t];e&&this.addFormat(t,e)}}function f0(t){if(Array.isArray(t)){this.addVocabulary(t);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let e in t){let r=t[e];r.keyword||(r.keyword=e),this.addKeyword(r)}}function d0(){let t={...this.opts};for(let e of i0)delete t[e];return t}var h0={log(){},warn(){},error(){}};function p0(t){if(t===!1)return h0;if(t===void 0)return console;if(t.log&&t.warn&&t.error)return t;throw new Error("logger must implement log, warn and error methods")}var m0=/^[a-z_$][a-z0-9_$:-]*$/i;function y0(t,e){let{RULES:r}=this;if((0,Ra.eachItem)(t,n=>{if(r.keywords[n])throw new Error(`Keyword ${n} is already defined`);if(!m0.test(n))throw new Error(`Keyword ${n} has invalid name`)}),!!e&&e.$data&&!("code"in e||"validate"in e))throw new Error('$data keyword must have "code" or "validate" function')}function xa(t,e,r){var n;let i=e?.post;if(r&&i)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:a}=this,o=i?a.post:a.rules.find(({type:f})=>f===r);if(o||(o={type:r,rules:[]},a.rules.push(o)),a.keywords[t]=!0,!e)return;let u={keyword:t,definition:{...e,type:(0,Ji.getJSONTypes)(e.type),schemaType:(0,Ji.getJSONTypes)(e.schemaType)}};e.before?g0.call(this,o,u,e.before):o.rules.push(u),a.all[t]=u,(n=e.implements)===null||n===void 0||n.forEach(f=>this.addKeyword(f))}function g0(t,e,r){let n=t.rules.findIndex(i=>i.keyword===r);n>=0?t.rules.splice(n,0,e):(t.rules.push(e),this.logger.warn(`rule ${r} is not defined`))}function v0(t){let{metaSchema:e}=t;e!==void 0&&(t.$data&&this.opts.$data&&(e=Gc(e)),t.validateSchema=this.compile(e,!0))}var E0={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Gc(t){return{anyOf:[t,E0]}}});var Wc=M(Oa=>{"use strict";C();Object.defineProperty(Oa,"__esModule",{value:!0});var _0={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Oa.default=_0});var Zc=M(qr=>{"use strict";C();Object.defineProperty(qr,"__esModule",{value:!0});qr.callRef=qr.getValidate=void 0;var b0=Vi(),Xc=Ct(),vt=ce(),hn=rr(),Qc=Ki(),Wi=Ee(),S0={keyword:"$ref",schemaType:"string",code(t){let{gen:e,schema:r,it:n}=t,{baseId:i,schemaEnv:a,validateName:o,opts:u,self:f}=n,{root:y}=a;if((r==="#"||r==="#/")&&i===y.baseId)return v();let p=Qc.resolveRef.call(f,y,i,r);if(p===void 0)throw new b0.default(n.opts.uriResolver,i,r);if(p instanceof Qc.SchemaEnv)return m(p);return g(p);function v(){if(a===y)return Xi(t,o,a,a.$async);let w=e.scopeValue("root",{ref:y});return Xi(t,(0,vt._)`${w}.validate`,y,y.$async)}function m(w){let h=Yc(t,w);Xi(t,h,w,w.$async)}function g(w){let h=e.scopeValue("schema",u.code.source===!0?{ref:w,code:(0,vt.stringify)(w)}:{ref:w}),S=e.name("valid"),l=t.subschema({schema:w,dataTypes:[],schemaPath:vt.nil,topSchemaRef:h,errSchemaPath:r},S);t.mergeEvaluated(l),t.ok(S)}}};function Yc(t,e){let{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):(0,vt._)`${r.scopeValue("wrapper",{ref:e})}.validate`}qr.getValidate=Yc;function Xi(t,e,r,n){let{gen:i,it:a}=t,{allErrors:o,schemaEnv:u,opts:f}=a,y=f.passContext?hn.default.this:vt.nil;n?p():v();function p(){if(!u.$async)throw new Error("async schema referenced by sync schema");let w=i.let("valid");i.try(()=>{i.code((0,vt._)`await ${(0,Xc.callValidateCode)(t,e,y)}`),g(e),o||i.assign(w,!0)},h=>{i.if((0,vt._)`!(${h} instanceof ${a.ValidationError})`,()=>i.throw(h)),m(h),o||i.assign(w,!1)}),t.ok(w)}function v(){t.result((0,Xc.callValidateCode)(t,e,y),()=>g(e),()=>m(e))}function m(w){let h=(0,vt._)`${w}.errors`;i.assign(hn.default.vErrors,(0,vt._)`${hn.default.vErrors} === null ? ${h} : ${hn.default.vErrors}.concat(${h})`),i.assign(hn.default.errors,(0,vt._)`${hn.default.vErrors}.length`)}function g(w){var h;if(!a.opts.unevaluated)return;let S=(h=r?.validate)===null||h===void 0?void 0:h.evaluated;if(a.props!==!0)if(S&&!S.dynamicProps)S.props!==void 0&&(a.props=Wi.mergeEvaluated.props(i,S.props,a.props));else{let l=i.var("props",(0,vt._)`${w}.evaluated.props`);a.props=Wi.mergeEvaluated.props(i,l,a.props,vt.Name)}if(a.items!==!0)if(S&&!S.dynamicItems)S.items!==void 0&&(a.items=Wi.mergeEvaluated.items(i,S.items,a.items));else{let l=i.var("items",(0,vt._)`${w}.evaluated.items`);a.items=Wi.mergeEvaluated.items(i,l,a.items,vt.Name)}}}qr.callRef=Xi;qr.default=S0});var el=M(Ba=>{"use strict";C();Object.defineProperty(Ba,"__esModule",{value:!0});var w0=Wc(),A0=Zc(),C0=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",w0.default,A0.default];Ba.default=C0});var tl=M(La=>{"use strict";C();Object.defineProperty(La,"__esModule",{value:!0});var Qi=ce(),wr=Qi.operators,Yi={maximum:{okStr:"<=",ok:wr.LTE,fail:wr.GT},minimum:{okStr:">=",ok:wr.GTE,fail:wr.LT},exclusiveMaximum:{okStr:"<",ok:wr.LT,fail:wr.GTE},exclusiveMinimum:{okStr:">",ok:wr.GT,fail:wr.LTE}},$0={message:({keyword:t,schemaCode:e})=>(0,Qi.str)`must be ${Yi[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,Qi._)`{comparison: ${Yi[t].okStr}, limit: ${e}}`},D0={keyword:Object.keys(Yi),type:"number",schemaType:"number",$data:!0,error:$0,code(t){let{keyword:e,data:r,schemaCode:n}=t;t.fail$data((0,Qi._)`${r} ${Yi[e].fail} ${n} || isNaN(${r})`)}};La.default=D0});var rl=M(Ma=>{"use strict";C();Object.defineProperty(Ma,"__esModule",{value:!0});var ei=ce(),P0={message:({schemaCode:t})=>(0,ei.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,ei._)`{multipleOf: ${t}}`},k0={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:P0,code(t){let{gen:e,data:r,schemaCode:n,it:i}=t,a=i.opts.multipleOfPrecision,o=e.let("res"),u=a?(0,ei._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${a}`:(0,ei._)`${o} !== parseInt(${o})`;t.fail$data((0,ei._)`(${n} === 0 || (${o} = ${r}/${n}, ${u}))`)}};Ma.default=k0});var il=M(ja=>{"use strict";C();Object.defineProperty(ja,"__esModule",{value:!0});function nl(t){let e=t.length,r=0,n=0,i;for(;n<e;)r++,i=t.charCodeAt(n++),i>=55296&&i<=56319&&n<e&&(i=t.charCodeAt(n),(i&64512)===56320&&n++);return r}ja.default=nl;nl.code='require("ajv/dist/runtime/ucs2length").default'});var sl=M(qa=>{"use strict";C();Object.defineProperty(qa,"__esModule",{value:!0});var Ur=ce(),F0=Ee(),I0=il(),T0={message({keyword:t,schemaCode:e}){let r=t==="maxLength"?"more":"fewer";return(0,Ur.str)`must NOT have ${r} than ${e} characters`},params:({schemaCode:t})=>(0,Ur._)`{limit: ${t}}`},N0={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:T0,code(t){let{keyword:e,data:r,schemaCode:n,it:i}=t,a=e==="maxLength"?Ur.operators.GT:Ur.operators.LT,o=i.opts.unicode===!1?(0,Ur._)`${r}.length`:(0,Ur._)`${(0,F0.useFunc)(t.gen,I0.default)}(${r})`;t.fail$data((0,Ur._)`${o} ${a} ${n}`)}};qa.default=N0});var al=M(Ua=>{"use strict";C();Object.defineProperty(Ua,"__esModule",{value:!0});var x0=Ct(),Zi=ce(),R0={message:({schemaCode:t})=>(0,Zi.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,Zi._)`{pattern: ${t}}`},O0={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:R0,code(t){let{data:e,$data:r,schema:n,schemaCode:i,it:a}=t,o=a.opts.unicodeRegExp?"u":"",u=r?(0,Zi._)`(new RegExp(${i}, ${o}))`:(0,x0.usePattern)(t,n);t.fail$data((0,Zi._)`!${u}.test(${e})`)}};Ua.default=O0});var ol=M(za=>{"use strict";C();Object.defineProperty(za,"__esModule",{value:!0});var ti=ce(),B0={message({keyword:t,schemaCode:e}){let r=t==="maxProperties"?"more":"fewer";return(0,ti.str)`must NOT have ${r} than ${e} properties`},params:({schemaCode:t})=>(0,ti._)`{limit: ${t}}`},L0={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:B0,code(t){let{keyword:e,data:r,schemaCode:n}=t,i=e==="maxProperties"?ti.operators.GT:ti.operators.LT;t.fail$data((0,ti._)`Object.keys(${r}).length ${i} ${n}`)}};za.default=L0});var ul=M(Va=>{"use strict";C();Object.defineProperty(Va,"__esModule",{value:!0});var ri=Ct(),ni=ce(),M0=Ee(),j0={message:({params:{missingProperty:t}})=>(0,ni.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,ni._)`{missingProperty: ${t}}`},q0={keyword:"required",type:"object",schemaType:"array",$data:!0,error:j0,code(t){let{gen:e,schema:r,schemaCode:n,data:i,$data:a,it:o}=t,{opts:u}=o;if(!a&&r.length===0)return;let f=r.length>=u.loopRequired;if(o.allErrors?y():p(),u.strictRequired){let g=t.parentSchema.properties,{definedProperties:w}=t.it;for(let h of r)if(g?.[h]===void 0&&!w.has(h)){let S=o.schemaEnv.baseId+o.errSchemaPath,l=`required property "${h}" is not defined at "${S}" (strictRequired)`;(0,M0.checkStrictMode)(o,l,o.opts.strictRequired)}}function y(){if(f||a)t.block$data(ni.nil,v);else for(let g of r)(0,ri.checkReportMissingProp)(t,g)}function p(){let g=e.let("missing");if(f||a){let w=e.let("valid",!0);t.block$data(w,()=>m(g,w)),t.ok(w)}else e.if((0,ri.checkMissingProp)(t,r,g)),(0,ri.reportMissingProp)(t,g),e.else()}function v(){e.forOf("prop",n,g=>{t.setParams({missingProperty:g}),e.if((0,ri.noPropertyInData)(e,i,g,u.ownProperties),()=>t.error())})}function m(g,w){t.setParams({missingProperty:g}),e.forOf(g,n,()=>{e.assign(w,(0,ri.propertyInData)(e,i,g,u.ownProperties)),e.if((0,ni.not)(w),()=>{t.error(),e.break()})},ni.nil)}}};Va.default=q0});var cl=M(Ha=>{"use strict";C();Object.defineProperty(Ha,"__esModule",{value:!0});var ii=ce(),U0={message({keyword:t,schemaCode:e}){let r=t==="maxItems"?"more":"fewer";return(0,ii.str)`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>(0,ii._)`{limit: ${t}}`},z0={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:U0,code(t){let{keyword:e,data:r,schemaCode:n}=t,i=e==="maxItems"?ii.operators.GT:ii.operators.LT;t.fail$data((0,ii._)`${r}.length ${i} ${n}`)}};Ha.default=z0});var es=M(Ka=>{"use strict";C();Object.defineProperty(Ka,"__esModule",{value:!0});var ll=ba();ll.code='require("ajv/dist/runtime/equal").default';Ka.default=ll});var fl=M(Ja=>{"use strict";C();Object.defineProperty(Ja,"__esModule",{value:!0});var Ga=Kn(),et=ce(),V0=Ee(),H0=es(),K0={message:({params:{i:t,j:e}})=>(0,et.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,et._)`{i: ${t}, j: ${e}}`},G0={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:K0,code(t){let{gen:e,data:r,$data:n,schema:i,parentSchema:a,schemaCode:o,it:u}=t;if(!n&&!i)return;let f=e.let("valid"),y=a.items?(0,Ga.getSchemaTypes)(a.items):[];t.block$data(f,p,(0,et._)`${o} === false`),t.ok(f);function p(){let w=e.let("i",(0,et._)`${r}.length`),h=e.let("j");t.setParams({i:w,j:h}),e.assign(f,!0),e.if((0,et._)`${w} > 1`,()=>(v()?m:g)(w,h))}function v(){return y.length>0&&!y.some(w=>w==="object"||w==="array")}function m(w,h){let S=e.name("item"),l=(0,Ga.checkDataTypes)(y,S,u.opts.strictNumbers,Ga.DataType.Wrong),I=e.const("indices",(0,et._)`{}`);e.for((0,et._)`;${w}--;`,()=>{e.let(S,(0,et._)`${r}[${w}]`),e.if(l,(0,et._)`continue`),y.length>1&&e.if((0,et._)`typeof ${S} == "string"`,(0,et._)`${S} += "_"`),e.if((0,et._)`typeof ${I}[${S}] == "number"`,()=>{e.assign(h,(0,et._)`${I}[${S}]`),t.error(),e.assign(f,!1).break()}).code((0,et._)`${I}[${S}] = ${w}`)})}function g(w,h){let S=(0,V0.useFunc)(e,H0.default),l=e.name("outer");e.label(l).for((0,et._)`;${w}--;`,()=>e.for((0,et._)`${h} = ${w}; ${h}--;`,()=>e.if((0,et._)`${S}(${r}[${w}], ${r}[${h}])`,()=>{t.error(),e.assign(f,!1).break(l)})))}}};Ja.default=G0});var dl=M(Xa=>{"use strict";C();Object.defineProperty(Xa,"__esModule",{value:!0});var Wa=ce(),J0=Ee(),W0=es(),X0={message:"must be equal to constant",params:({schemaCode:t})=>(0,Wa._)`{allowedValue: ${t}}`},Q0={keyword:"const",$data:!0,error:X0,code(t){let{gen:e,data:r,$data:n,schemaCode:i,schema:a}=t;n||a&&typeof a=="object"?t.fail$data((0,Wa._)`!${(0,J0.useFunc)(e,W0.default)}(${r}, ${i})`):t.fail((0,Wa._)`${a} !== ${r}`)}};Xa.default=Q0});var hl=M(Qa=>{"use strict";C();Object.defineProperty(Qa,"__esModule",{value:!0});var si=ce(),Y0=Ee(),Z0=es(),em={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,si._)`{allowedValues: ${t}}`},tm={keyword:"enum",schemaType:"array",$data:!0,error:em,code(t){let{gen:e,data:r,$data:n,schema:i,schemaCode:a,it:o}=t;if(!n&&i.length===0)throw new Error("enum must have non-empty array");let u=i.length>=o.opts.loopEnum,f,y=()=>f??(f=(0,Y0.useFunc)(e,Z0.default)),p;if(u||n)p=e.let("valid"),t.block$data(p,v);else{if(!Array.isArray(i))throw new Error("ajv implementation error");let g=e.const("vSchema",a);p=(0,si.or)(...i.map((w,h)=>m(g,h)))}t.pass(p);function v(){e.assign(p,!1),e.forOf("v",a,g=>e.if((0,si._)`${y()}(${r}, ${g})`,()=>e.assign(p,!0).break()))}function m(g,w){let h=i[w];return typeof h=="object"&&h!==null?(0,si._)`${y()}(${r}, ${g}[${w}])`:(0,si._)`${r} === ${h}`}}};Qa.default=tm});var pl=M(Ya=>{"use strict";C();Object.defineProperty(Ya,"__esModule",{value:!0});var rm=tl(),nm=rl(),im=sl(),sm=al(),am=ol(),om=ul(),um=cl(),cm=fl(),lm=dl(),fm=hl(),dm=[rm.default,nm.default,im.default,sm.default,am.default,om.default,um.default,cm.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},lm.default,fm.default];Ya.default=dm});var eo=M(ai=>{"use strict";C();Object.defineProperty(ai,"__esModule",{value:!0});ai.validateAdditionalItems=void 0;var zr=ce(),Za=Ee(),hm={message:({params:{len:t}})=>(0,zr.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,zr._)`{limit: ${t}}`},pm={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:hm,code(t){let{parentSchema:e,it:r}=t,{items:n}=e;if(!Array.isArray(n)){(0,Za.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}ml(t,n)}};function ml(t,e){let{gen:r,schema:n,data:i,keyword:a,it:o}=t;o.items=!0;let u=r.const("len",(0,zr._)`${i}.length`);if(n===!1)t.setParams({len:e.length}),t.pass((0,zr._)`${u} <= ${e.length}`);else if(typeof n=="object"&&!(0,Za.alwaysValidSchema)(o,n)){let y=r.var("valid",(0,zr._)`${u} <= ${e.length}`);r.if((0,zr.not)(y),()=>f(y)),t.ok(y)}function f(y){r.forRange("i",e.length,u,p=>{t.subschema({keyword:a,dataProp:p,dataPropType:Za.Type.Num},y),o.allErrors||r.if((0,zr.not)(y),()=>r.break())})}}ai.validateAdditionalItems=ml;ai.default=pm});var to=M(oi=>{"use strict";C();Object.defineProperty(oi,"__esModule",{value:!0});oi.validateTuple=void 0;var yl=ce(),ts=Ee(),mm=Ct(),ym={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){let{schema:e,it:r}=t;if(Array.isArray(e))return gl(t,"additionalItems",e);r.items=!0,!(0,ts.alwaysValidSchema)(r,e)&&t.ok((0,mm.validateArray)(t))}};function gl(t,e,r=t.schema){let{gen:n,parentSchema:i,data:a,keyword:o,it:u}=t;p(i),u.opts.unevaluated&&r.length&&u.items!==!0&&(u.items=ts.mergeEvaluated.items(n,r.length,u.items));let f=n.name("valid"),y=n.const("len",(0,yl._)`${a}.length`);r.forEach((v,m)=>{(0,ts.alwaysValidSchema)(u,v)||(n.if((0,yl._)`${y} > ${m}`,()=>t.subschema({keyword:o,schemaProp:m,dataProp:m},f)),t.ok(f))});function p(v){let{opts:m,errSchemaPath:g}=u,w=r.length,h=w===v.minItems&&(w===v.maxItems||v[e]===!1);if(m.strictTuples&&!h){let S=`"${o}" is ${w}-tuple, but minItems or maxItems/${e} are not specified or different at path "${g}"`;(0,ts.checkStrictMode)(u,S,m.strictTuples)}}}oi.validateTuple=gl;oi.default=ym});var vl=M(ro=>{"use strict";C();Object.defineProperty(ro,"__esModule",{value:!0});var gm=to(),vm={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,gm.validateTuple)(t,"items")};ro.default=vm});var _l=M(no=>{"use strict";C();Object.defineProperty(no,"__esModule",{value:!0});var El=ce(),Em=Ee(),_m=Ct(),bm=eo(),Sm={message:({params:{len:t}})=>(0,El.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,El._)`{limit: ${t}}`},wm={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Sm,code(t){let{schema:e,parentSchema:r,it:n}=t,{prefixItems:i}=r;n.items=!0,!(0,Em.alwaysValidSchema)(n,e)&&(i?(0,bm.validateAdditionalItems)(t,i):t.ok((0,_m.validateArray)(t)))}};no.default=wm});var bl=M(io=>{"use strict";C();Object.defineProperty(io,"__esModule",{value:!0});var Dt=ce(),rs=Ee(),Am={message:({params:{min:t,max:e}})=>e===void 0?(0,Dt.str)`must contain at least ${t} valid item(s)`:(0,Dt.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,Dt._)`{minContains: ${t}}`:(0,Dt._)`{minContains: ${t}, maxContains: ${e}}`},Cm={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Am,code(t){let{gen:e,schema:r,parentSchema:n,data:i,it:a}=t,o,u,{minContains:f,maxContains:y}=n;a.opts.next?(o=f===void 0?1:f,u=y):o=1;let p=e.const("len",(0,Dt._)`${i}.length`);if(t.setParams({min:o,max:u}),u===void 0&&o===0){(0,rs.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(u!==void 0&&o>u){(0,rs.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,rs.alwaysValidSchema)(a,r)){let h=(0,Dt._)`${p} >= ${o}`;u!==void 0&&(h=(0,Dt._)`${h} && ${p} <= ${u}`),t.pass(h);return}a.items=!0;let v=e.name("valid");u===void 0&&o===1?g(v,()=>e.if(v,()=>e.break())):o===0?(e.let(v,!0),u!==void 0&&e.if((0,Dt._)`${i}.length > 0`,m)):(e.let(v,!1),m()),t.result(v,()=>t.reset());function m(){let h=e.name("_valid"),S=e.let("count",0);g(h,()=>e.if(h,()=>w(S)))}function g(h,S){e.forRange("i",0,p,l=>{t.subschema({keyword:"contains",dataProp:l,dataPropType:rs.Type.Num,compositeRule:!0},h),S()})}function w(h){e.code((0,Dt._)`${h}++`),u===void 0?e.if((0,Dt._)`${h} >= ${o}`,()=>e.assign(v,!0).break()):(e.if((0,Dt._)`${h} > ${u}`,()=>e.assign(v,!1).break()),o===1?e.assign(v,!0):e.if((0,Dt._)`${h} >= ${o}`,()=>e.assign(v,!0)))}}};io.default=Cm});var Al=M(Ut=>{"use strict";C();Object.defineProperty(Ut,"__esModule",{value:!0});Ut.validateSchemaDeps=Ut.validatePropertyDeps=Ut.error=void 0;var so=ce(),$m=Ee(),ui=Ct();Ut.error={message:({params:{property:t,depsCount:e,deps:r}})=>{let n=e===1?"property":"properties";return(0,so.str)`must have ${n} ${r} when property ${t} is present`},params:({params:{property:t,depsCount:e,deps:r,missingProperty:n}})=>(0,so._)`{property: ${t},
    missingProperty: ${n},
    depsCount: ${e},
    deps: ${r}}`};var Dm={keyword:"dependencies",type:"object",schemaType:"object",error:Ut.error,code(t){let[e,r]=Pm(t);Sl(t,e),wl(t,r)}};function Pm({schema:t}){let e={},r={};for(let n in t){if(n==="__proto__")continue;let i=Array.isArray(t[n])?e:r;i[n]=t[n]}return[e,r]}function Sl(t,e=t.schema){let{gen:r,data:n,it:i}=t;if(Object.keys(e).length===0)return;let a=r.let("missing");for(let o in e){let u=e[o];if(u.length===0)continue;let f=(0,ui.propertyInData)(r,n,o,i.opts.ownProperties);t.setParams({property:o,depsCount:u.length,deps:u.join(", ")}),i.allErrors?r.if(f,()=>{for(let y of u)(0,ui.checkReportMissingProp)(t,y)}):(r.if((0,so._)`${f} && (${(0,ui.checkMissingProp)(t,u,a)})`),(0,ui.reportMissingProp)(t,a),r.else())}}Ut.validatePropertyDeps=Sl;function wl(t,e=t.schema){let{gen:r,data:n,keyword:i,it:a}=t,o=r.name("valid");for(let u in e)(0,$m.alwaysValidSchema)(a,e[u])||(r.if((0,ui.propertyInData)(r,n,u,a.opts.ownProperties),()=>{let f=t.subschema({keyword:i,schemaProp:u},o);t.mergeValidEvaluated(f,o)},()=>r.var(o,!0)),t.ok(o))}Ut.validateSchemaDeps=wl;Ut.default=Dm});var $l=M(ao=>{"use strict";C();Object.defineProperty(ao,"__esModule",{value:!0});var Cl=ce(),km=Ee(),Fm={message:"property name must be valid",params:({params:t})=>(0,Cl._)`{propertyName: ${t.propertyName}}`},Im={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Fm,code(t){let{gen:e,schema:r,data:n,it:i}=t;if((0,km.alwaysValidSchema)(i,r))return;let a=e.name("valid");e.forIn("key",n,o=>{t.setParams({propertyName:o}),t.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},a),e.if((0,Cl.not)(a),()=>{t.error(!0),i.allErrors||e.break()})}),t.ok(a)}};ao.default=Im});var uo=M(oo=>{"use strict";C();Object.defineProperty(oo,"__esModule",{value:!0});var ns=Ct(),xt=ce(),Tm=rr(),is=Ee(),Nm={message:"must NOT have additional properties",params:({params:t})=>(0,xt._)`{additionalProperty: ${t.additionalProperty}}`},xm={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Nm,code(t){let{gen:e,schema:r,parentSchema:n,data:i,errsCount:a,it:o}=t;if(!a)throw new Error("ajv implementation error");let{allErrors:u,opts:f}=o;if(o.props=!0,f.removeAdditional!=="all"&&(0,is.alwaysValidSchema)(o,r))return;let y=(0,ns.allSchemaProperties)(n.properties),p=(0,ns.allSchemaProperties)(n.patternProperties);v(),t.ok((0,xt._)`${a} === ${Tm.default.errors}`);function v(){e.forIn("key",i,S=>{!y.length&&!p.length?w(S):e.if(m(S),()=>w(S))})}function m(S){let l;if(y.length>8){let I=(0,is.schemaRefOrVal)(o,n.properties,"properties");l=(0,ns.isOwnProperty)(e,I,S)}else y.length?l=(0,xt.or)(...y.map(I=>(0,xt._)`${S} === ${I}`)):l=xt.nil;return p.length&&(l=(0,xt.or)(l,...p.map(I=>(0,xt._)`${(0,ns.usePattern)(t,I)}.test(${S})`))),(0,xt.not)(l)}function g(S){e.code((0,xt._)`delete ${i}[${S}]`)}function w(S){if(f.removeAdditional==="all"||f.removeAdditional&&r===!1){g(S);return}if(r===!1){t.setParams({additionalProperty:S}),t.error(),u||e.break();return}if(typeof r=="object"&&!(0,is.alwaysValidSchema)(o,r)){let l=e.name("valid");f.removeAdditional==="failing"?(h(S,l,!1),e.if((0,xt.not)(l),()=>{t.reset(),g(S)})):(h(S,l),u||e.if((0,xt.not)(l),()=>e.break()))}}function h(S,l,I){let R={keyword:"additionalProperties",dataProp:S,dataPropType:is.Type.Str};I===!1&&Object.assign(R,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(R,l)}}};oo.default=xm});var kl=M(lo=>{"use strict";C();Object.defineProperty(lo,"__esModule",{value:!0});var Rm=Xn(),Dl=Ct(),co=Ee(),Pl=uo(),Om={keyword:"properties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,parentSchema:n,data:i,it:a}=t;a.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&Pl.default.code(new Rm.KeywordCxt(a,Pl.default,"additionalProperties"));let o=(0,Dl.allSchemaProperties)(r);for(let v of o)a.definedProperties.add(v);a.opts.unevaluated&&o.length&&a.props!==!0&&(a.props=co.mergeEvaluated.props(e,(0,co.toHash)(o),a.props));let u=o.filter(v=>!(0,co.alwaysValidSchema)(a,r[v]));if(u.length===0)return;let f=e.name("valid");for(let v of u)y(v)?p(v):(e.if((0,Dl.propertyInData)(e,i,v,a.opts.ownProperties)),p(v),a.allErrors||e.else().var(f,!0),e.endIf()),t.it.definedProperties.add(v),t.ok(f);function y(v){return a.opts.useDefaults&&!a.compositeRule&&r[v].default!==void 0}function p(v){t.subschema({keyword:"properties",schemaProp:v,dataProp:v},f)}}};lo.default=Om});var Nl=M(fo=>{"use strict";C();Object.defineProperty(fo,"__esModule",{value:!0});var Fl=Ct(),ss=ce(),Il=Ee(),Tl=Ee(),Bm={keyword:"patternProperties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,data:n,parentSchema:i,it:a}=t,{opts:o}=a,u=(0,Fl.allSchemaProperties)(r),f=u.filter(h=>(0,Il.alwaysValidSchema)(a,r[h]));if(u.length===0||f.length===u.length&&(!a.opts.unevaluated||a.props===!0))return;let y=o.strictSchema&&!o.allowMatchingProperties&&i.properties,p=e.name("valid");a.props!==!0&&!(a.props instanceof ss.Name)&&(a.props=(0,Tl.evaluatedPropsToName)(e,a.props));let{props:v}=a;m();function m(){for(let h of u)y&&g(h),a.allErrors?w(h):(e.var(p,!0),w(h),e.if(p))}function g(h){for(let S in y)new RegExp(h).test(S)&&(0,Il.checkStrictMode)(a,`property ${S} matches pattern ${h} (use allowMatchingProperties)`)}function w(h){e.forIn("key",n,S=>{e.if((0,ss._)`${(0,Fl.usePattern)(t,h)}.test(${S})`,()=>{let l=f.includes(h);l||t.subschema({keyword:"patternProperties",schemaProp:h,dataProp:S,dataPropType:Tl.Type.Str},p),a.opts.unevaluated&&v!==!0?e.assign((0,ss._)`${v}[${S}]`,!0):!l&&!a.allErrors&&e.if((0,ss.not)(p),()=>e.break())})})}}};fo.default=Bm});var xl=M(ho=>{"use strict";C();Object.defineProperty(ho,"__esModule",{value:!0});var Lm=Ee(),Mm={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){let{gen:e,schema:r,it:n}=t;if((0,Lm.alwaysValidSchema)(n,r)){t.fail();return}let i=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),t.failResult(i,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};ho.default=Mm});var Rl=M(po=>{"use strict";C();Object.defineProperty(po,"__esModule",{value:!0});var jm=Ct(),qm={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:jm.validateUnion,error:{message:"must match a schema in anyOf"}};po.default=qm});var Ol=M(mo=>{"use strict";C();Object.defineProperty(mo,"__esModule",{value:!0});var as=ce(),Um=Ee(),zm={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,as._)`{passingSchemas: ${t.passing}}`},Vm={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:zm,code(t){let{gen:e,schema:r,parentSchema:n,it:i}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(i.opts.discriminator&&n.discriminator)return;let a=r,o=e.let("valid",!1),u=e.let("passing",null),f=e.name("_valid");t.setParams({passing:u}),e.block(y),t.result(o,()=>t.reset(),()=>t.error(!0));function y(){a.forEach((p,v)=>{let m;(0,Um.alwaysValidSchema)(i,p)?e.var(f,!0):m=t.subschema({keyword:"oneOf",schemaProp:v,compositeRule:!0},f),v>0&&e.if((0,as._)`${f} && ${o}`).assign(o,!1).assign(u,(0,as._)`[${u}, ${v}]`).else(),e.if(f,()=>{e.assign(o,!0),e.assign(u,v),m&&t.mergeEvaluated(m,as.Name)})})}}};mo.default=Vm});var Bl=M(yo=>{"use strict";C();Object.defineProperty(yo,"__esModule",{value:!0});var Hm=Ee(),Km={keyword:"allOf",schemaType:"array",code(t){let{gen:e,schema:r,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");let i=e.name("valid");r.forEach((a,o)=>{if((0,Hm.alwaysValidSchema)(n,a))return;let u=t.subschema({keyword:"allOf",schemaProp:o},i);t.ok(i),t.mergeEvaluated(u)})}};yo.default=Km});var jl=M(go=>{"use strict";C();Object.defineProperty(go,"__esModule",{value:!0});var os=ce(),Ml=Ee(),Gm={message:({params:t})=>(0,os.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,os._)`{failingKeyword: ${t.ifClause}}`},Jm={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Gm,code(t){let{gen:e,parentSchema:r,it:n}=t;r.then===void 0&&r.else===void 0&&(0,Ml.checkStrictMode)(n,'"if" without "then" and "else" is ignored');let i=Ll(n,"then"),a=Ll(n,"else");if(!i&&!a)return;let o=e.let("valid",!0),u=e.name("_valid");if(f(),t.reset(),i&&a){let p=e.let("ifClause");t.setParams({ifClause:p}),e.if(u,y("then",p),y("else",p))}else i?e.if(u,y("then")):e.if((0,os.not)(u),y("else"));t.pass(o,()=>t.error(!0));function f(){let p=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},u);t.mergeEvaluated(p)}function y(p,v){return()=>{let m=t.subschema({keyword:p},u);e.assign(o,u),t.mergeValidEvaluated(m,o),v?e.assign(v,(0,os._)`${p}`):t.setParams({ifClause:p})}}}};function Ll(t,e){let r=t.schema[e];return r!==void 0&&!(0,Ml.alwaysValidSchema)(t,r)}go.default=Jm});var ql=M(vo=>{"use strict";C();Object.defineProperty(vo,"__esModule",{value:!0});var Wm=Ee(),Xm={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:r}){e.if===void 0&&(0,Wm.checkStrictMode)(r,`"${t}" without "if" is ignored`)}};vo.default=Xm});var Ul=M(Eo=>{"use strict";C();Object.defineProperty(Eo,"__esModule",{value:!0});var Qm=eo(),Ym=vl(),Zm=to(),ey=_l(),ty=bl(),ry=Al(),ny=$l(),iy=uo(),sy=kl(),ay=Nl(),oy=xl(),uy=Rl(),cy=Ol(),ly=Bl(),fy=jl(),dy=ql();function hy(t=!1){let e=[oy.default,uy.default,cy.default,ly.default,fy.default,dy.default,ny.default,iy.default,ry.default,sy.default,ay.default];return t?e.push(Ym.default,ey.default):e.push(Qm.default,Zm.default),e.push(ty.default),e}Eo.default=hy});var zl=M(_o=>{"use strict";C();Object.defineProperty(_o,"__esModule",{value:!0});var Ve=ce(),py={message:({schemaCode:t})=>(0,Ve.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,Ve._)`{format: ${t}}`},my={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:py,code(t,e){let{gen:r,data:n,$data:i,schema:a,schemaCode:o,it:u}=t,{opts:f,errSchemaPath:y,schemaEnv:p,self:v}=u;if(!f.validateFormats)return;i?m():g();function m(){let w=r.scopeValue("formats",{ref:v.formats,code:f.code.formats}),h=r.const("fDef",(0,Ve._)`${w}[${o}]`),S=r.let("fType"),l=r.let("format");r.if((0,Ve._)`typeof ${h} == "object" && !(${h} instanceof RegExp)`,()=>r.assign(S,(0,Ve._)`${h}.type || "string"`).assign(l,(0,Ve._)`${h}.validate`),()=>r.assign(S,(0,Ve._)`"string"`).assign(l,h)),t.fail$data((0,Ve.or)(I(),R()));function I(){return f.strictSchema===!1?Ve.nil:(0,Ve._)`${o} && !${l}`}function R(){let D=p.$async?(0,Ve._)`(${h}.async ? await ${l}(${n}) : ${l}(${n}))`:(0,Ve._)`${l}(${n})`,d=(0,Ve._)`(typeof ${l} == "function" ? ${D} : ${l}.test(${n}))`;return(0,Ve._)`${l} && ${l} !== true && ${S} === ${e} && !${d}`}}function g(){let w=v.formats[a];if(!w){I();return}if(w===!0)return;let[h,S,l]=R(w);h===e&&t.pass(D());function I(){if(f.strictSchema===!1){v.logger.warn(d());return}throw new Error(d());function d(){return`unknown format "${a}" ignored in schema at path "${y}"`}}function R(d){let E=d instanceof RegExp?(0,Ve.regexpCode)(d):f.code.formats?(0,Ve._)`${f.code.formats}${(0,Ve.getProperty)(a)}`:void 0,F=r.scopeValue("formats",{key:a,ref:d,code:E});return typeof d=="object"&&!(d instanceof RegExp)?[d.type||"string",d.validate,(0,Ve._)`${F}.validate`]:["string",d,F]}function D(){if(typeof w=="object"&&!(w instanceof RegExp)&&w.async){if(!p.$async)throw new Error("async format in sync schema");return(0,Ve._)`await ${l}(${n})`}return typeof S=="function"?(0,Ve._)`${l}(${n})`:(0,Ve._)`${l}.test(${n})`}}}};_o.default=my});var Vl=M(bo=>{"use strict";C();Object.defineProperty(bo,"__esModule",{value:!0});var yy=zl(),gy=[yy.default];bo.default=gy});var Hl=M(pn=>{"use strict";C();Object.defineProperty(pn,"__esModule",{value:!0});pn.contentVocabulary=pn.metadataVocabulary=void 0;pn.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];pn.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var Gl=M(So=>{"use strict";C();Object.defineProperty(So,"__esModule",{value:!0});var vy=el(),Ey=pl(),_y=Ul(),by=Vl(),Kl=Hl(),Sy=[vy.default,Ey.default,(0,_y.default)(),by.default,Kl.metadataVocabulary,Kl.contentVocabulary];So.default=Sy});var Jl=M(ci=>{"use strict";C();Object.defineProperty(ci,"__esModule",{value:!0});ci.DiscrError=void 0;var wy;(function(t){t.Tag="tag",t.Mapping="mapping"})(wy=ci.DiscrError||(ci.DiscrError={}))});var Xl=M(Ao=>{"use strict";C();Object.defineProperty(Ao,"__esModule",{value:!0});var mn=ce(),wo=Jl(),Wl=Ki(),Ay=Ee(),Cy={message:({params:{discrError:t,tagName:e}})=>t===wo.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:r}})=>(0,mn._)`{error: ${t}, tag: ${r}, tagValue: ${e}}`},$y={keyword:"discriminator",type:"object",schemaType:"object",error:Cy,code(t){let{gen:e,data:r,schema:n,parentSchema:i,it:a}=t,{oneOf:o}=i;if(!a.opts.discriminator)throw new Error("discriminator: requires discriminator option");let u=n.propertyName;if(typeof u!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");let f=e.let("valid",!1),y=e.const("tag",(0,mn._)`${r}${(0,mn.getProperty)(u)}`);e.if((0,mn._)`typeof ${y} == "string"`,()=>p(),()=>t.error(!1,{discrError:wo.DiscrError.Tag,tag:y,tagName:u})),t.ok(f);function p(){let g=m();e.if(!1);for(let w in g)e.elseIf((0,mn._)`${y} === ${w}`),e.assign(f,v(g[w]));e.else(),t.error(!1,{discrError:wo.DiscrError.Mapping,tag:y,tagName:u}),e.endIf()}function v(g){let w=e.name("valid"),h=t.subschema({keyword:"oneOf",schemaProp:g},w);return t.mergeEvaluated(h,mn.Name),w}function m(){var g;let w={},h=l(i),S=!0;for(let D=0;D<o.length;D++){let d=o[D];d?.$ref&&!(0,Ay.schemaHasRulesButRef)(d,a.self.RULES)&&(d=Wl.resolveRef.call(a.self,a.schemaEnv.root,a.baseId,d?.$ref),d instanceof Wl.SchemaEnv&&(d=d.schema));let E=(g=d?.properties)===null||g===void 0?void 0:g[u];if(typeof E!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${u}"`);S=S&&(h||l(d)),I(E,D)}if(!S)throw new Error(`discriminator: "${u}" must be required`);return w;function l({required:D}){return Array.isArray(D)&&D.includes(u)}function I(D,d){if(D.const)R(D.const,d);else if(D.enum)for(let E of D.enum)R(E,d);else throw new Error(`discriminator: "properties/${u}" must have "const" or "enum"`)}function R(D,d){if(typeof D!="string"||D in w)throw new Error(`discriminator: "${u}" values must be unique strings`);w[D]=d}}}};Ao.default=$y});var Ql=M((SE,Dy)=>{Dy.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var ef=M((Me,Zl)=>{"use strict";C();Object.defineProperty(Me,"__esModule",{value:!0});Me.MissingRefError=Me.ValidationError=Me.CodeGen=Me.Name=Me.nil=Me.stringify=Me.str=Me._=Me.KeywordCxt=void 0;var Py=Jc(),ky=Gl(),Fy=Xl(),Yl=Ql(),Iy=["/properties"],us="http://json-schema.org/draft-07/schema",cs=class extends Py.default{_addVocabularies(){super._addVocabularies(),ky.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(Fy.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let e=this.opts.$data?this.$dataMetaSchema(Yl,Iy):Yl;this.addMetaSchema(e,us,!1),this.refs["http://json-schema.org/schema"]=us}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(us)?us:void 0)}};Zl.exports=Me=cs;Object.defineProperty(Me,"__esModule",{value:!0});Me.default=cs;var Ty=Xn();Object.defineProperty(Me,"KeywordCxt",{enumerable:!0,get:function(){return Ty.KeywordCxt}});var yn=ce();Object.defineProperty(Me,"_",{enumerable:!0,get:function(){return yn._}});Object.defineProperty(Me,"str",{enumerable:!0,get:function(){return yn.str}});Object.defineProperty(Me,"stringify",{enumerable:!0,get:function(){return yn.stringify}});Object.defineProperty(Me,"nil",{enumerable:!0,get:function(){return yn.nil}});Object.defineProperty(Me,"Name",{enumerable:!0,get:function(){return yn.Name}});Object.defineProperty(Me,"CodeGen",{enumerable:!0,get:function(){return yn.CodeGen}});var Ny=zi();Object.defineProperty(Me,"ValidationError",{enumerable:!0,get:function(){return Ny.default}});var xy=Vi();Object.defineProperty(Me,"MissingRefError",{enumerable:!0,get:function(){return xy.default}})});var rf=M((tf,Co)=>{C();(function(t){if(typeof tf=="object"&&typeof Co<"u")Co.exports=t();else if(typeof define=="function"&&define.amd)define([],t);else{var e;typeof window<"u"?e=window:typeof globalThis<"u"?e=globalThis:typeof self<"u"?e=self:e=this,e.jsonpath=t()}})(function(){var t,e,r;return function n(i,a,o){function u(p,v){if(!a[p]){if(!i[p]){var m=typeof Cn=="function"&&Cn;if(!v&&m)return m(p,!0);if(f)return f(p,!0);var g=new Error("Cannot find module '"+p+"'");throw g.code="MODULE_NOT_FOUND",g}var w=a[p]={exports:{}};i[p][0].call(w.exports,function(h){var S=i[p][1][h];return u(S||h)},w,w.exports,n,i,a,o)}return a[p].exports}for(var f=typeof Cn=="function"&&Cn,y=0;y<o.length;y++)u(o[y]);return u}({"./aesprim":[function(n,i,a){(function(o,u){"use strict";typeof t=="function"&&t.amd?t(["exports"],u):u(typeof a<"u"?a:o.esprima={})})(this,function(o){"use strict";var u,f,y,p,v,m,g,w,h,S,l,I,R,D,d,E,F,P;u={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9},f={},f[u.BooleanLiteral]="Boolean",f[u.EOF]="<end>",f[u.Identifier]="Identifier",f[u.Keyword]="Keyword",f[u.NullLiteral]="Null",f[u.NumericLiteral]="Numeric",f[u.Punctuator]="Punctuator",f[u.StringLiteral]="String",f[u.RegularExpression]="RegularExpression",y=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="],p={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},v={Data:1,Get:2,Set:4},m={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},g={NonAsciiIdentifierStart:new RegExp("[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]"),NonAsciiIdentifierPart:new RegExp("[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0\u08A2-\u08AC\u08E4-\u08FE\u0900-\u0963\u0966-\u096F\u0971-\u0977\u0979-\u097F\u0981-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C01-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C82\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D02\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191C\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1D00-\u1DE6\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA697\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7B\uAA80-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE26\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]")};function z(s,c){if(!s)throw new Error("ASSERT: "+c)}function H(s){return s>=48&&s<=57}function te(s){return"0123456789abcdefABCDEF".indexOf(s)>=0}function J(s){return"01234567".indexOf(s)>=0}function we(s){return s===32||s===9||s===11||s===12||s===160||s>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(s)>=0}function Q(s){return s===10||s===13||s===8232||s===8233}function pe(s){return s==64||s===36||s===95||s>=65&&s<=90||s>=97&&s<=122||s===92||s>=128&&g.NonAsciiIdentifierStart.test(String.fromCharCode(s))}function Ae(s){return s===36||s===95||s>=65&&s<=90||s>=97&&s<=122||s>=48&&s<=57||s===92||s>=128&&g.NonAsciiIdentifierPart.test(String.fromCharCode(s))}function Oe(s){switch(s){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}function dt(s){switch(s){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function Ie(s){return s==="eval"||s==="arguments"}function We(s){if(S&&dt(s))return!0;switch(s.length){case 2:return s==="if"||s==="in"||s==="do";case 3:return s==="var"||s==="for"||s==="new"||s==="try"||s==="let";case 4:return s==="this"||s==="else"||s==="case"||s==="void"||s==="with"||s==="enum";case 5:return s==="while"||s==="break"||s==="catch"||s==="throw"||s==="const"||s==="yield"||s==="class"||s==="super";case 6:return s==="return"||s==="typeof"||s==="delete"||s==="switch"||s==="export"||s==="import";case 7:return s==="default"||s==="finally"||s==="extends";case 8:return s==="function"||s==="continue"||s==="debugger";case 10:return s==="instanceof";default:return!1}}function Je(s,c,_,k,O){var U,Z;z(typeof _=="number","Comment must have valid position"),!(F.lastCommentStart>=_)&&(F.lastCommentStart=_,U={type:s,value:c},P.range&&(U.range=[_,k]),P.loc&&(U.loc=O),P.comments.push(U),P.attachComment&&(P.leadingComments.push(U),P.trailingComments.push(U)))}function Xe(s){var c,_,k,O;for(c=l-s,_={start:{line:I,column:l-R-s}};l<D;)if(k=h.charCodeAt(l),++l,Q(k)){P.comments&&(O=h.slice(c+s,l-1),_.end={line:I,column:l-R-1},Je("Line",O,c,l-1,_)),k===13&&h.charCodeAt(l)===10&&++l,++I,R=l;return}P.comments&&(O=h.slice(c+s,l),_.end={line:I,column:l-R},Je("Line",O,c,l,_))}function Kt(){var s,c,_,k;for(P.comments&&(s=l-2,c={start:{line:I,column:l-R-2}});l<D;)if(_=h.charCodeAt(l),Q(_))_===13&&h.charCodeAt(l+1)===10&&++l,++I,++l,R=l,l>=D&&W({},m.UnexpectedToken,"ILLEGAL");else if(_===42){if(h.charCodeAt(l+1)===47){++l,++l,P.comments&&(k=h.slice(s+2,l-2),c.end={line:I,column:l-R},Je("Block",k,s,l,c));return}++l}else++l;W({},m.UnexpectedToken,"ILLEGAL")}function x(){var s,c;for(c=l===0;l<D;)if(s=h.charCodeAt(l),we(s))++l;else if(Q(s))++l,s===13&&h.charCodeAt(l)===10&&++l,++I,R=l,c=!0;else if(s===47)if(s=h.charCodeAt(l+1),s===47)++l,++l,Xe(2),c=!0;else if(s===42)++l,++l,Kt();else break;else if(c&&s===45)if(h.charCodeAt(l+1)===45&&h.charCodeAt(l+2)===62)l+=3,Xe(3);else break;else if(s===60)if(h.slice(l+1,l+4)==="!--")++l,++l,++l,++l,Xe(4);else break;else break}function B(s){var c,_,k,O=0;for(_=s==="u"?4:2,c=0;c<_;++c)if(l<D&&te(h[l]))k=h[l++],O=O*16+"0123456789abcdef".indexOf(k.toLowerCase());else return"";return String.fromCharCode(O)}function q(){var s,c;for(s=h.charCodeAt(l++),c=String.fromCharCode(s),s===92&&(h.charCodeAt(l)!==117&&W({},m.UnexpectedToken,"ILLEGAL"),++l,s=B("u"),(!s||s==="\\"||!pe(s.charCodeAt(0)))&&W({},m.UnexpectedToken,"ILLEGAL"),c=s);l<D&&(s=h.charCodeAt(l),!!Ae(s));)++l,c+=String.fromCharCode(s),s===92&&(c=c.substr(0,c.length-1),h.charCodeAt(l)!==117&&W({},m.UnexpectedToken,"ILLEGAL"),++l,s=B("u"),(!s||s==="\\"||!Ae(s.charCodeAt(0)))&&W({},m.UnexpectedToken,"ILLEGAL"),c+=s);return c}function de(){var s,c;for(s=l++;l<D;){if(c=h.charCodeAt(l),c===92)return l=s,q();if(Ae(c))++l;else break}return h.slice(s,l)}function je(){var s,c,_;return s=l,c=h.charCodeAt(l)===92?q():de(),c.length===1?_=u.Identifier:We(c)?_=u.Keyword:c==="null"?_=u.NullLiteral:c==="true"||c==="false"?_=u.BooleanLiteral:_=u.Identifier,{type:_,value:c,lineNumber:I,lineStart:R,start:s,end:l}}function fe(){var s=l,c=h.charCodeAt(l),_,k=h[l],O,U,Z;switch(c){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++l,P.tokenize&&(c===40?P.openParenToken=P.tokens.length:c===123&&(P.openCurlyToken=P.tokens.length)),{type:u.Punctuator,value:String.fromCharCode(c),lineNumber:I,lineStart:R,start:s,end:l};default:if(_=h.charCodeAt(l+1),_===61)switch(c){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return l+=2,{type:u.Punctuator,value:String.fromCharCode(c)+String.fromCharCode(_),lineNumber:I,lineStart:R,start:s,end:l};case 33:case 61:return l+=2,h.charCodeAt(l)===61&&++l,{type:u.Punctuator,value:h.slice(s,l),lineNumber:I,lineStart:R,start:s,end:l}}}if(Z=h.substr(l,4),Z===">>>=")return l+=4,{type:u.Punctuator,value:Z,lineNumber:I,lineStart:R,start:s,end:l};if(U=Z.substr(0,3),U===">>>"||U==="<<="||U===">>=")return l+=3,{type:u.Punctuator,value:U,lineNumber:I,lineStart:R,start:s,end:l};if(O=U.substr(0,2),k===O[1]&&"+-<>&|".indexOf(k)>=0||O==="=>")return l+=2,{type:u.Punctuator,value:O,lineNumber:I,lineStart:R,start:s,end:l};if("<>=!+-*%&|^/".indexOf(k)>=0)return++l,{type:u.Punctuator,value:k,lineNumber:I,lineStart:R,start:s,end:l};W({},m.UnexpectedToken,"ILLEGAL")}function le(s){for(var c="";l<D&&te(h[l]);)c+=h[l++];return c.length===0&&W({},m.UnexpectedToken,"ILLEGAL"),pe(h.charCodeAt(l))&&W({},m.UnexpectedToken,"ILLEGAL"),{type:u.NumericLiteral,value:parseInt("0x"+c,16),lineNumber:I,lineStart:R,start:s,end:l}}function $e(s){for(var c="0"+h[l++];l<D&&J(h[l]);)c+=h[l++];return(pe(h.charCodeAt(l))||H(h.charCodeAt(l)))&&W({},m.UnexpectedToken,"ILLEGAL"),{type:u.NumericLiteral,value:parseInt(c,8),octal:!0,lineNumber:I,lineStart:R,start:s,end:l}}function Be(){var s,c,_;if(_=h[l],z(H(_.charCodeAt(0))||_===".","Numeric literal must start with a decimal digit or a decimal point"),c=l,s="",_!=="."){if(s=h[l++],_=h[l],s==="0"){if(_==="x"||_==="X")return++l,le(c);if(J(_))return $e(c);_&&H(_.charCodeAt(0))&&W({},m.UnexpectedToken,"ILLEGAL")}for(;H(h.charCodeAt(l));)s+=h[l++];_=h[l]}if(_==="."){for(s+=h[l++];H(h.charCodeAt(l));)s+=h[l++];_=h[l]}if(_==="e"||_==="E")if(s+=h[l++],_=h[l],(_==="+"||_==="-")&&(s+=h[l++]),H(h.charCodeAt(l)))for(;H(h.charCodeAt(l));)s+=h[l++];else W({},m.UnexpectedToken,"ILLEGAL");return pe(h.charCodeAt(l))&&W({},m.UnexpectedToken,"ILLEGAL"),{type:u.NumericLiteral,value:parseFloat(s),lineNumber:I,lineStart:R,start:c,end:l}}function bt(){var s="",c,_,k,O,U,Z,ge=!1,Re,Ge;for(Re=I,Ge=R,c=h[l],z(c==="'"||c==='"',"String literal must starts with a quote"),_=l,++l;l<D;)if(k=h[l++],k===c){c="";break}else if(k==="\\")if(k=h[l++],!k||!Q(k.charCodeAt(0)))switch(k){case"u":case"x":Z=l,U=B(k),U?s+=U:(l=Z,s+=k);break;case"n":s+=`
`;break;case"r":s+="\r";break;case"t":s+="	";break;case"b":s+="\b";break;case"f":s+="\f";break;case"v":s+="\v";break;default:J(k)?(O="01234567".indexOf(k),O!==0&&(ge=!0),l<D&&J(h[l])&&(ge=!0,O=O*8+"01234567".indexOf(h[l++]),"0123".indexOf(k)>=0&&l<D&&J(h[l])&&(O=O*8+"01234567".indexOf(h[l++]))),s+=String.fromCharCode(O)):s+=k;break}else++I,k==="\r"&&h[l]===`
`&&++l,R=l;else{if(Q(k.charCodeAt(0)))break;s+=k}return c!==""&&W({},m.UnexpectedToken,"ILLEGAL"),{type:u.StringLiteral,value:s,octal:ge,startLineNumber:Re,startLineStart:Ge,lineNumber:I,lineStart:R,start:_,end:l}}function tt(s,c){var _;try{_=new RegExp(s,c)}catch{W({},m.InvalidRegExp)}return _}function gn(){var s,c,_,k,O;for(s=h[l],z(s==="/","Regular expression literal must start with a slash"),c=h[l++],_=!1,k=!1;l<D;)if(s=h[l++],c+=s,s==="\\")s=h[l++],Q(s.charCodeAt(0))&&W({},m.UnterminatedRegExp),c+=s;else if(Q(s.charCodeAt(0)))W({},m.UnterminatedRegExp);else if(_)s==="]"&&(_=!1);else if(s==="/"){k=!0;break}else s==="["&&(_=!0);return k||W({},m.UnterminatedRegExp),O=c.substr(1,c.length-2),{value:O,literal:c}}function ar(){var s,c,_,k;for(c="",_="";l<D&&(s=h[l],!!Ae(s.charCodeAt(0)));)if(++l,s==="\\"&&l<D)if(s=h[l],s==="u"){if(++l,k=l,s=B("u"),s)for(_+=s,c+="\\u";k<l;++k)c+=h[k];else l=k,_+="u",c+="\\u";_e({},m.UnexpectedToken,"ILLEGAL")}else c+="\\",_e({},m.UnexpectedToken,"ILLEGAL");else _+=s,c+=s;return{value:_,literal:c}}function Cr(){var s,c,_,k,O;return E=null,x(),s=l,c=gn(),_=ar(),O=tt(c.value,_.value),P.tokenize?{type:u.RegularExpression,value:O,lineNumber:I,lineStart:R,start:s,end:l}:{literal:c.literal+_.literal,value:O,start:s,end:l}}function Bt(){var s,c,_,k;return x(),s=l,c={start:{line:I,column:l-R}},_=Cr(),c.end={line:I,column:l-R},P.tokenize||(P.tokens.length>0&&(k=P.tokens[P.tokens.length-1],k.range[0]===s&&k.type==="Punctuator"&&(k.value==="/"||k.value==="/=")&&P.tokens.pop()),P.tokens.push({type:"RegularExpression",value:_.literal,range:[s,l],loc:c})),_}function ls(s){return s.type===u.Identifier||s.type===u.Keyword||s.type===u.BooleanLiteral||s.type===u.NullLiteral}function or(){var s,c;if(s=P.tokens[P.tokens.length-1],!s)return Bt();if(s.type==="Punctuator"){if(s.value==="]")return fe();if(s.value===")")return c=P.tokens[P.openParenToken-1],c&&c.type==="Keyword"&&(c.value==="if"||c.value==="while"||c.value==="for"||c.value==="with")?Bt():fe();if(s.value==="}"){if(P.tokens[P.openCurlyToken-3]&&P.tokens[P.openCurlyToken-3].type==="Keyword"){if(c=P.tokens[P.openCurlyToken-4],!c)return fe()}else if(P.tokens[P.openCurlyToken-4]&&P.tokens[P.openCurlyToken-4].type==="Keyword"){if(c=P.tokens[P.openCurlyToken-5],!c)return Bt()}else return fe();return y.indexOf(c.value)>=0?fe():Bt()}return Bt()}return s.type==="Keyword"?Bt():fe()}function ht(){var s;return x(),l>=D?{type:u.EOF,lineNumber:I,lineStart:R,start:l,end:l}:(s=h.charCodeAt(l),pe(s)?je():s===40||s===41||s===59?fe():s===39||s===34?bt():s===46?H(h.charCodeAt(l+1))?Be():fe():H(s)?Be():P.tokenize&&s===47?or():fe())}function vn(){var s,c,_,k;return x(),s={start:{line:I,column:l-R}},c=ht(),s.end={line:I,column:l-R},c.type!==u.EOF&&(k=h.slice(c.start,c.end),P.tokens.push({type:f[c.type],value:k,range:[c.start,c.end],loc:s})),c}function ee(){var s;return s=E,l=s.end,I=s.lineNumber,R=s.lineStart,E=typeof P.tokens<"u"?vn():ht(),l=s.end,I=s.lineNumber,R=s.lineStart,s}function En(){var s,c,_;s=l,c=I,_=R,E=typeof P.tokens<"u"?vn():ht(),l=s,I=c,R=_}function hi(s,c){this.line=s,this.column=c}function fs(s,c,_,k){this.start=new hi(s,c),this.end=new hi(_,k)}w={name:"SyntaxTree",processComment:function(s){var c,_;if(!(s.type===p.Program&&s.body.length>0)){for(P.trailingComments.length>0?P.trailingComments[0].range[0]>=s.range[1]?(_=P.trailingComments,P.trailingComments=[]):P.trailingComments.length=0:P.bottomRightStack.length>0&&P.bottomRightStack[P.bottomRightStack.length-1].trailingComments&&P.bottomRightStack[P.bottomRightStack.length-1].trailingComments[0].range[0]>=s.range[1]&&(_=P.bottomRightStack[P.bottomRightStack.length-1].trailingComments,delete P.bottomRightStack[P.bottomRightStack.length-1].trailingComments);P.bottomRightStack.length>0&&P.bottomRightStack[P.bottomRightStack.length-1].range[0]>=s.range[0];)c=P.bottomRightStack.pop();c?c.leadingComments&&c.leadingComments[c.leadingComments.length-1].range[1]<=s.range[0]&&(s.leadingComments=c.leadingComments,delete c.leadingComments):P.leadingComments.length>0&&P.leadingComments[P.leadingComments.length-1].range[1]<=s.range[0]&&(s.leadingComments=P.leadingComments,P.leadingComments=[]),_&&(s.trailingComments=_),P.bottomRightStack.push(s)}},markEnd:function(s,c){return P.range&&(s.range=[c.start,l]),P.loc&&(s.loc=new fs(c.startLineNumber===void 0?c.lineNumber:c.startLineNumber,c.start-(c.startLineStart===void 0?c.lineStart:c.startLineStart),I,l-R),this.postProcess(s)),P.attachComment&&this.processComment(s),s},postProcess:function(s){return P.source&&(s.loc.source=P.source),s},createArrayExpression:function(s){return{type:p.ArrayExpression,elements:s}},createAssignmentExpression:function(s,c,_){return{type:p.AssignmentExpression,operator:s,left:c,right:_}},createBinaryExpression:function(s,c,_){var k=s==="||"||s==="&&"?p.LogicalExpression:p.BinaryExpression;return{type:k,operator:s,left:c,right:_}},createBlockStatement:function(s){return{type:p.BlockStatement,body:s}},createBreakStatement:function(s){return{type:p.BreakStatement,label:s}},createCallExpression:function(s,c){return{type:p.CallExpression,callee:s,arguments:c}},createCatchClause:function(s,c){return{type:p.CatchClause,param:s,body:c}},createConditionalExpression:function(s,c,_){return{type:p.ConditionalExpression,test:s,consequent:c,alternate:_}},createContinueStatement:function(s){return{type:p.ContinueStatement,label:s}},createDebuggerStatement:function(){return{type:p.DebuggerStatement}},createDoWhileStatement:function(s,c){return{type:p.DoWhileStatement,body:s,test:c}},createEmptyStatement:function(){return{type:p.EmptyStatement}},createExpressionStatement:function(s){return{type:p.ExpressionStatement,expression:s}},createForStatement:function(s,c,_,k){return{type:p.ForStatement,init:s,test:c,update:_,body:k}},createForInStatement:function(s,c,_){return{type:p.ForInStatement,left:s,right:c,body:_,each:!1}},createFunctionDeclaration:function(s,c,_,k){return{type:p.FunctionDeclaration,id:s,params:c,defaults:_,body:k,rest:null,generator:!1,expression:!1}},createFunctionExpression:function(s,c,_,k){return{type:p.FunctionExpression,id:s,params:c,defaults:_,body:k,rest:null,generator:!1,expression:!1}},createIdentifier:function(s){return{type:p.Identifier,name:s}},createIfStatement:function(s,c,_){return{type:p.IfStatement,test:s,consequent:c,alternate:_}},createLabeledStatement:function(s,c){return{type:p.LabeledStatement,label:s,body:c}},createLiteral:function(s){return{type:p.Literal,value:s.value,raw:h.slice(s.start,s.end)}},createMemberExpression:function(s,c,_){return{type:p.MemberExpression,computed:s==="[",object:c,property:_}},createNewExpression:function(s,c){return{type:p.NewExpression,callee:s,arguments:c}},createObjectExpression:function(s){return{type:p.ObjectExpression,properties:s}},createPostfixExpression:function(s,c){return{type:p.UpdateExpression,operator:s,argument:c,prefix:!1}},createProgram:function(s){return{type:p.Program,body:s}},createProperty:function(s,c,_){return{type:p.Property,key:c,value:_,kind:s}},createReturnStatement:function(s){return{type:p.ReturnStatement,argument:s}},createSequenceExpression:function(s){return{type:p.SequenceExpression,expressions:s}},createSwitchCase:function(s,c){return{type:p.SwitchCase,test:s,consequent:c}},createSwitchStatement:function(s,c){return{type:p.SwitchStatement,discriminant:s,cases:c}},createThisExpression:function(){return{type:p.ThisExpression}},createThrowStatement:function(s){return{type:p.ThrowStatement,argument:s}},createTryStatement:function(s,c,_,k){return{type:p.TryStatement,block:s,guardedHandlers:c,handlers:_,finalizer:k}},createUnaryExpression:function(s,c){return s==="++"||s==="--"?{type:p.UpdateExpression,operator:s,argument:c,prefix:!0}:{type:p.UnaryExpression,operator:s,argument:c,prefix:!0}},createVariableDeclaration:function(s,c){return{type:p.VariableDeclaration,declarations:s,kind:c}},createVariableDeclarator:function(s,c){return{type:p.VariableDeclarator,id:s,init:c}},createWhileStatement:function(s,c){return{type:p.WhileStatement,test:s,body:c}},createWithStatement:function(s,c){return{type:p.WithStatement,object:s,body:c}}};function st(){var s,c,_,k;return s=l,c=I,_=R,x(),k=I!==c,l=s,I=c,R=_,k}function W(s,c){var _,k=Array.prototype.slice.call(arguments,2),O=c.replace(/%(\d)/g,function(U,Z){return z(Z<k.length,"Message reference must be in range"),k[Z]});throw typeof s.lineNumber=="number"?(_=new Error("Line "+s.lineNumber+": "+O),_.index=s.start,_.lineNumber=s.lineNumber,_.column=s.start-R+1):(_=new Error("Line "+I+": "+O),_.index=l,_.lineNumber=I,_.column=l-R+1),_.description=O,_}function _e(){try{W.apply(null,arguments)}catch(s){if(P.errors)P.errors.push(s);else throw s}}function Et(s){if(s.type===u.EOF&&W(s,m.UnexpectedEOS),s.type===u.NumericLiteral&&W(s,m.UnexpectedNumber),s.type===u.StringLiteral&&W(s,m.UnexpectedString),s.type===u.Identifier&&W(s,m.UnexpectedIdentifier),s.type===u.Keyword){if(Oe(s.value))W(s,m.UnexpectedReserved);else if(S&&dt(s.value)){_e(s,m.StrictReservedWord);return}W(s,m.UnexpectedToken,s.value)}W(s,m.UnexpectedToken,s.value)}function K(s){var c=ee();(c.type!==u.Punctuator||c.value!==s)&&Et(c)}function Le(s){var c=ee();(c.type!==u.Keyword||c.value!==s)&&Et(c)}function G(s){return E.type===u.Punctuator&&E.value===s}function Ke(s){return E.type===u.Keyword&&E.value===s}function pi(){var s;return E.type!==u.Punctuator?!1:(s=E.value,s==="="||s==="*="||s==="/="||s==="%="||s==="+="||s==="-="||s==="<<="||s===">>="||s===">>>="||s==="&="||s==="^="||s==="|=")}function ze(){var s;if(h.charCodeAt(l)===59||G(";")){ee();return}s=I,x(),I===s&&E.type!==u.EOF&&!G("}")&&Et(E)}function Vr(s){return s.type===p.Identifier||s.type===p.MemberExpression}function ds(){var s=[],c;for(c=E,K("[");!G("]");)G(",")?(ee(),s.push(null)):(s.push(T()),G("]")||K(","));return ee(),d.markEnd(d.createArrayExpression(s),c)}function _n(s,c){var _,k,O;return _=S,O=E,k=_t(),c&&S&&Ie(s[0].name)&&_e(c,m.StrictParamName),S=_,d.markEnd(d.createFunctionExpression(null,s,[],k),O)}function Hr(){var s,c;return c=E,s=ee(),s.type===u.StringLiteral||s.type===u.NumericLiteral?(S&&s.octal&&_e(s,m.StrictOctalLiteral),d.markEnd(d.createLiteral(s),c)):d.markEnd(d.createIdentifier(s.value),c)}function hs(){var s,c,_,k,O,U;if(s=E,U=E,s.type===u.Identifier)return _=Hr(),s.value==="get"&&!G(":")?(c=Hr(),K("("),K(")"),k=_n([]),d.markEnd(d.createProperty("get",c,k),U)):s.value==="set"&&!G(":")?(c=Hr(),K("("),s=E,s.type!==u.Identifier?(K(")"),_e(s,m.UnexpectedToken,s.value),k=_n([])):(O=[ie()],K(")"),k=_n(O,s)),d.markEnd(d.createProperty("set",c,k),U)):(K(":"),k=T(),d.markEnd(d.createProperty("init",_,k),U));if(s.type===u.EOF||s.type===u.Punctuator)Et(s);else return c=Hr(),K(":"),k=T(),d.markEnd(d.createProperty("init",c,k),U)}function ps(){var s=[],c,_,k,O,U={},Z=String,ge;for(ge=E,K("{");!G("}");)c=hs(),c.key.type===p.Identifier?_=c.key.name:_=Z(c.key.value),O=c.kind==="init"?v.Data:c.kind==="get"?v.Get:v.Set,k="$"+_,Object.prototype.hasOwnProperty.call(U,k)?(U[k]===v.Data?S&&O===v.Data?_e({},m.StrictDuplicateProperty):O!==v.Data&&_e({},m.AccessorDataProperty):O===v.Data?_e({},m.AccessorDataProperty):U[k]&O&&_e({},m.AccessorGetSet),U[k]|=O):U[k]=O,s.push(c),G("}")||K(",");return K("}"),d.markEnd(d.createObjectExpression(s),ge)}function ur(){var s;return K("("),s=j(),K(")"),s}function mi(){var s,c,_,k;if(G("("))return ur();if(G("["))return ds();if(G("{"))return ps();if(s=E.type,k=E,s===u.Identifier)_=d.createIdentifier(ee().value);else if(s===u.StringLiteral||s===u.NumericLiteral)S&&E.octal&&_e(E,m.StrictOctalLiteral),_=d.createLiteral(ee());else if(s===u.Keyword){if(Ke("function"))return Xt();Ke("this")?(ee(),_=d.createThisExpression()):Et(ee())}else s===u.BooleanLiteral?(c=ee(),c.value=c.value==="true",_=d.createLiteral(c)):s===u.NullLiteral?(c=ee(),c.value=null,_=d.createLiteral(c)):G("/")||G("/=")?(typeof P.tokens<"u"?_=d.createLiteral(Bt()):_=d.createLiteral(Cr()),En()):Et(ee());return d.markEnd(_,k)}function bn(){var s=[];if(K("("),!G(")"))for(;l<D&&(s.push(T()),!G(")"));)K(",");return K(")"),s}function ms(){var s,c;return c=E,s=ee(),ls(s)||Et(s),d.markEnd(d.createIdentifier(s.value),c)}function Kr(){return K("."),ms()}function Sn(){var s;return K("["),s=j(),K("]"),s}function yi(){var s,c,_;return _=E,Le("new"),s=ys(),c=G("(")?bn():[],d.markEnd(d.createNewExpression(s,c),_)}function gi(){var s,c,_,k,O;for(O=E,s=F.allowIn,F.allowIn=!0,c=Ke("new")?yi():mi(),F.allowIn=s;;){if(G("."))k=Kr(),c=d.createMemberExpression(".",c,k);else if(G("("))_=bn(),c=d.createCallExpression(c,_);else if(G("["))k=Sn(),c=d.createMemberExpression("[",c,k);else break;d.markEnd(c,O)}return c}function ys(){var s,c,_,k;for(k=E,s=F.allowIn,c=Ke("new")?yi():mi(),F.allowIn=s;G(".")||G("[");)G("[")?(_=Sn(),c=d.createMemberExpression("[",c,_)):(_=Kr(),c=d.createMemberExpression(".",c,_)),d.markEnd(c,k);return c}function wn(){var s,c,_=E;return s=gi(),E.type===u.Punctuator&&(G("++")||G("--"))&&!st()&&(S&&s.type===p.Identifier&&Ie(s.name)&&_e({},m.StrictLHSPostfix),Vr(s)||_e({},m.InvalidLHSInAssignment),c=ee(),s=d.markEnd(d.createPostfixExpression(c.value,s),_)),s}function A(){var s,c,_;return E.type!==u.Punctuator&&E.type!==u.Keyword?c=wn():G("++")||G("--")?(_=E,s=ee(),c=A(),S&&c.type===p.Identifier&&Ie(c.name)&&_e({},m.StrictLHSPrefix),Vr(c)||_e({},m.InvalidLHSInAssignment),c=d.createUnaryExpression(s.value,c),c=d.markEnd(c,_)):G("+")||G("-")||G("~")||G("!")?(_=E,s=ee(),c=A(),c=d.createUnaryExpression(s.value,c),c=d.markEnd(c,_)):Ke("delete")||Ke("void")||Ke("typeof")?(_=E,s=ee(),c=A(),c=d.createUnaryExpression(s.value,c),c=d.markEnd(c,_),S&&c.operator==="delete"&&c.argument.type===p.Identifier&&_e({},m.StrictDelete)):c=wn(),c}function b(s,c){var _=0;if(s.type!==u.Punctuator&&s.type!==u.Keyword)return 0;switch(s.value){case"||":_=1;break;case"&&":_=2;break;case"|":_=3;break;case"^":_=4;break;case"&":_=5;break;case"==":case"!=":case"===":case"!==":_=6;break;case"<":case">":case"<=":case">=":case"instanceof":_=7;break;case"in":_=c?7:0;break;case"<<":case">>":case">>>":_=8;break;case"+":case"-":_=9;break;case"*":case"/":case"%":_=11;break;default:break}return _}function $(){var s,c,_,k,O,U,Z,ge,Re,Ge;if(s=E,Re=A(),k=E,O=b(k,F.allowIn),O===0)return Re;for(k.prec=O,ee(),c=[s,E],Z=A(),U=[Re,k,Z];(O=b(E,F.allowIn))>0;){for(;U.length>2&&O<=U[U.length-2].prec;)Z=U.pop(),ge=U.pop().value,Re=U.pop(),_=d.createBinaryExpression(ge,Re,Z),c.pop(),s=c[c.length-1],d.markEnd(_,s),U.push(_);k=ee(),k.prec=O,U.push(k),c.push(E),_=A(),U.push(_)}for(Ge=U.length-1,_=U[Ge],c.pop();Ge>1;)_=d.createBinaryExpression(U[Ge-1].value,U[Ge-2],_),Ge-=2,s=c.pop(),d.markEnd(_,s);return _}function N(){var s,c,_,k,O;return O=E,s=$(),G("?")&&(ee(),c=F.allowIn,F.allowIn=!0,_=T(),F.allowIn=c,K(":"),k=T(),s=d.createConditionalExpression(s,_,k),d.markEnd(s,O)),s}function T(){var s,c,_,k,O;return s=E,O=E,k=c=N(),pi()&&(Vr(c)||_e({},m.InvalidLHSInAssignment),S&&c.type===p.Identifier&&Ie(c.name)&&_e(s,m.StrictLHSAssignment),s=ee(),_=T(),k=d.markEnd(d.createAssignmentExpression(s.value,c,_),O)),k}function j(){var s,c=E;if(s=T(),G(",")){for(s=d.createSequenceExpression([s]);l<D&&G(",");)ee(),s.expressions.push(T());d.markEnd(s,c)}return s}function Y(){for(var s=[],c;l<D&&!(G("}")||(c=Dr(),typeof c>"u"));)s.push(c);return s}function oe(){var s,c;return c=E,K("{"),s=Y(),K("}"),d.markEnd(d.createBlockStatement(s),c)}function ie(){var s,c;return c=E,s=ee(),s.type!==u.Identifier&&Et(s),d.markEnd(d.createIdentifier(s.value),c)}function qe(s){var c=null,_,k;return k=E,_=ie(),S&&Ie(_.name)&&_e({},m.StrictVarName),s==="const"?(K("="),c=T()):G("=")&&(ee(),c=T()),d.markEnd(d.createVariableDeclarator(_,c),k)}function ue(s){var c=[];do{if(c.push(qe(s)),!G(","))break;ee()}while(l<D);return c}function Te(){var s;return Le("var"),s=ue(),ze(),d.createVariableDeclaration(s,"var")}function Ue(s){var c,_;return _=E,Le(s),c=ue(s),ze(),d.markEnd(d.createVariableDeclaration(c,s),_)}function ke(){return K(";"),d.createEmptyStatement()}function me(){var s=j();return ze(),d.createExpressionStatement(s)}function Ne(){var s,c,_;return Le("if"),K("("),s=j(),K(")"),c=Qe(),Ke("else")?(ee(),_=Qe()):_=null,d.createIfStatement(s,c,_)}function be(){var s,c,_;return Le("do"),_=F.inIteration,F.inIteration=!0,s=Qe(),F.inIteration=_,Le("while"),K("("),c=j(),K(")"),G(";")&&ee(),d.createDoWhileStatement(s,c)}function Gt(){var s,c,_;return Le("while"),K("("),s=j(),K(")"),_=F.inIteration,F.inIteration=!0,c=Qe(),F.inIteration=_,d.createWhileStatement(s,c)}function at(){var s,c,_;return _=E,s=ee(),c=ue(),d.markEnd(d.createVariableDeclaration(c,s.value),_)}function pt(){var s,c,_,k,O,U,Z;return s=c=_=null,Le("for"),K("("),G(";")?ee():(Ke("var")||Ke("let")?(F.allowIn=!1,s=at(),F.allowIn=!0,s.declarations.length===1&&Ke("in")&&(ee(),k=s,O=j(),s=null)):(F.allowIn=!1,s=j(),F.allowIn=!0,Ke("in")&&(Vr(s)||_e({},m.InvalidLHSInForIn),ee(),k=s,O=j(),s=null)),typeof k>"u"&&K(";")),typeof k>"u"&&(G(";")||(c=j()),K(";"),G(")")||(_=j())),K(")"),Z=F.inIteration,F.inIteration=!0,U=Qe(),F.inIteration=Z,typeof k>"u"?d.createForStatement(s,c,_,U):d.createForInStatement(k,O,U)}function Ce(){var s=null,c;return Le("continue"),h.charCodeAt(l)===59?(ee(),F.inIteration||W({},m.IllegalContinue),d.createContinueStatement(null)):st()?(F.inIteration||W({},m.IllegalContinue),d.createContinueStatement(null)):(E.type===u.Identifier&&(s=ie(),c="$"+s.name,Object.prototype.hasOwnProperty.call(F.labelSet,c)||W({},m.UnknownLabel,s.name)),ze(),s===null&&!F.inIteration&&W({},m.IllegalContinue),d.createContinueStatement(s))}function ot(){var s=null,c;return Le("break"),h.charCodeAt(l)===59?(ee(),F.inIteration||F.inSwitch||W({},m.IllegalBreak),d.createBreakStatement(null)):st()?(F.inIteration||F.inSwitch||W({},m.IllegalBreak),d.createBreakStatement(null)):(E.type===u.Identifier&&(s=ie(),c="$"+s.name,Object.prototype.hasOwnProperty.call(F.labelSet,c)||W({},m.UnknownLabel,s.name)),ze(),s===null&&!(F.inIteration||F.inSwitch)&&W({},m.IllegalBreak),d.createBreakStatement(s))}function mt(){var s=null;return Le("return"),F.inFunctionBody||_e({},m.IllegalReturn),h.charCodeAt(l)===32&&pe(h.charCodeAt(l+1))?(s=j(),ze(),d.createReturnStatement(s)):st()?d.createReturnStatement(null):(G(";")||!G("}")&&E.type!==u.EOF&&(s=j()),ze(),d.createReturnStatement(s))}function St(){var s,c;return S&&(x(),_e({},m.StrictModeWith)),Le("with"),K("("),s=j(),K(")"),c=Qe(),d.createWithStatement(s,c)}function Jt(){var s,c=[],_,k;for(k=E,Ke("default")?(ee(),s=null):(Le("case"),s=j()),K(":");l<D&&!(G("}")||Ke("default")||Ke("case"));)_=Qe(),c.push(_);return d.markEnd(d.createSwitchCase(s,c),k)}function kt(){var s,c,_,k,O;if(Le("switch"),K("("),s=j(),K(")"),K("{"),c=[],G("}"))return ee(),d.createSwitchStatement(s,c);for(k=F.inSwitch,F.inSwitch=!0,O=!1;l<D&&!G("}");)_=Jt(),_.test===null&&(O&&W({},m.MultipleDefaultsInSwitch),O=!0),c.push(_);return F.inSwitch=k,K("}"),d.createSwitchStatement(s,c)}function $r(){var s;return Le("throw"),st()&&W({},m.NewlineAfterThrow),s=j(),ze(),d.createThrowStatement(s)}function Gr(){var s,c,_;return _=E,Le("catch"),K("("),G(")")&&Et(E),s=ie(),S&&Ie(s.name)&&_e({},m.StrictCatchVariable),K(")"),c=oe(),d.markEnd(d.createCatchClause(s,c),_)}function Jr(){var s,c=[],_=null;return Le("try"),s=oe(),Ke("catch")&&c.push(Gr()),Ke("finally")&&(ee(),_=oe()),c.length===0&&!_&&W({},m.NoCatchOrFinally),d.createTryStatement(s,[],c,_)}function cr(){return Le("debugger"),ze(),d.createDebuggerStatement()}function Qe(){var s=E.type,c,_,k,O;if(s===u.EOF&&Et(E),s===u.Punctuator&&E.value==="{")return oe();if(O=E,s===u.Punctuator)switch(E.value){case";":return d.markEnd(ke(),O);case"(":return d.markEnd(me(),O);default:break}if(s===u.Keyword)switch(E.value){case"break":return d.markEnd(ot(),O);case"continue":return d.markEnd(Ce(),O);case"debugger":return d.markEnd(cr(),O);case"do":return d.markEnd(be(),O);case"for":return d.markEnd(pt(),O);case"function":return d.markEnd(Wr(),O);case"if":return d.markEnd(Ne(),O);case"return":return d.markEnd(mt(),O);case"switch":return d.markEnd(kt(),O);case"throw":return d.markEnd($r(),O);case"try":return d.markEnd(Jr(),O);case"var":return d.markEnd(Te(),O);case"while":return d.markEnd(Gt(),O);case"with":return d.markEnd(St(),O);default:break}return c=j(),c.type===p.Identifier&&G(":")?(ee(),k="$"+c.name,Object.prototype.hasOwnProperty.call(F.labelSet,k)&&W({},m.Redeclaration,"Label",c.name),F.labelSet[k]=!0,_=Qe(),delete F.labelSet[k],d.markEnd(d.createLabeledStatement(c,_),O)):(ze(),d.markEnd(d.createExpressionStatement(c),O))}function _t(){var s,c=[],_,k,O,U,Z,ge,Re,Ge;for(Ge=E,K("{");l<D&&!(E.type!==u.StringLiteral||(_=E,s=Dr(),c.push(s),s.expression.type!==p.Literal));)k=h.slice(_.start+1,_.end-1),k==="use strict"?(S=!0,O&&_e(O,m.StrictOctalLiteral)):!O&&_.octal&&(O=_);for(U=F.labelSet,Z=F.inIteration,ge=F.inSwitch,Re=F.inFunctionBody,F.labelSet={},F.inIteration=!1,F.inSwitch=!1,F.inFunctionBody=!0;l<D&&!(G("}")||(s=Dr(),typeof s>"u"));)c.push(s);return K("}"),F.labelSet=U,F.inIteration=Z,F.inSwitch=ge,F.inFunctionBody=Re,d.markEnd(d.createBlockStatement(c),Ge)}function Wt(s){var c,_=[],k,O,U,Z,ge;if(K("("),!G(")"))for(U={};l<D&&(k=E,c=ie(),Z="$"+k.value,S?(Ie(k.value)&&(O=k,ge=m.StrictParamName),Object.prototype.hasOwnProperty.call(U,Z)&&(O=k,ge=m.StrictParamDupe)):s||(Ie(k.value)?(s=k,ge=m.StrictParamName):dt(k.value)?(s=k,ge=m.StrictReservedWord):Object.prototype.hasOwnProperty.call(U,Z)&&(s=k,ge=m.StrictParamDupe)),_.push(c),U[Z]=!0,!G(")"));)K(",");return K(")"),{params:_,stricted:O,firstRestricted:s,message:ge}}function Wr(){var s,c=[],_,k,O,U,Z,ge,Re,Ge;return Ge=E,Le("function"),k=E,s=ie(),S?Ie(k.value)&&_e(k,m.StrictFunctionName):Ie(k.value)?(Z=k,ge=m.StrictFunctionName):dt(k.value)&&(Z=k,ge=m.StrictReservedWord),U=Wt(Z),c=U.params,O=U.stricted,Z=U.firstRestricted,U.message&&(ge=U.message),Re=S,_=_t(),S&&Z&&W(Z,ge),S&&O&&_e(O,ge),S=Re,d.markEnd(d.createFunctionDeclaration(s,c,[],_),Ge)}function Xt(){var s,c=null,_,k,O,U,Z=[],ge,Re,Ge;return Ge=E,Le("function"),G("(")||(s=E,c=ie(),S?Ie(s.value)&&_e(s,m.StrictFunctionName):Ie(s.value)?(k=s,O=m.StrictFunctionName):dt(s.value)&&(k=s,O=m.StrictReservedWord)),U=Wt(k),Z=U.params,_=U.stricted,k=U.firstRestricted,U.message&&(O=U.message),Re=S,ge=_t(),S&&k&&W(k,O),S&&_&&_e(_,O),S=Re,d.markEnd(d.createFunctionExpression(c,Z,[],ge),Ge)}function Dr(){if(E.type===u.Keyword)switch(E.value){case"const":case"let":return Ue(E.value);case"function":return Wr();default:return Qe()}if(E.type!==u.EOF)return Qe()}function gs(){for(var s,c=[],_,k,O;l<D&&(_=E,!(_.type!==u.StringLiteral||(s=Dr(),c.push(s),s.expression.type!==p.Literal)));)k=h.slice(_.start+1,_.end-1),k==="use strict"?(S=!0,O&&_e(O,m.StrictOctalLiteral)):!O&&_.octal&&(O=_);for(;l<D&&(s=Dr(),!(typeof s>"u"));)c.push(s);return c}function vi(){var s,c;return x(),En(),c=E,S=!1,s=gs(),d.markEnd(d.createProgram(s),c)}function lr(){var s,c,_,k=[];for(s=0;s<P.tokens.length;++s)c=P.tokens[s],_={type:c.type,value:c.value},P.range&&(_.range=c.range),P.loc&&(_.loc=c.loc),k.push(_);P.tokens=k}function Pr(s,c){var _,k,O;_=String,typeof s!="string"&&!(s instanceof String)&&(s=_(s)),d=w,h=s,l=0,I=h.length>0?1:0,R=0,D=h.length,E=null,F={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},P={},c=c||{},c.tokens=!0,P.tokens=[],P.tokenize=!0,P.openParenToken=-1,P.openCurlyToken=-1,P.range=typeof c.range=="boolean"&&c.range,P.loc=typeof c.loc=="boolean"&&c.loc,typeof c.comment=="boolean"&&c.comment&&(P.comments=[]),typeof c.tolerant=="boolean"&&c.tolerant&&(P.errors=[]);try{if(En(),E.type===u.EOF)return P.tokens;for(k=ee();E.type!==u.EOF;)try{k=ee()}catch(U){if(k=E,P.errors){P.errors.push(U);break}else throw U}lr(),O=P.tokens,typeof P.comments<"u"&&(O.comments=P.comments),typeof P.errors<"u"&&(O.errors=P.errors)}catch(U){throw U}finally{P={}}return O}function Ei(s,c){var _,k;k=String,typeof s!="string"&&!(s instanceof String)&&(s=k(s)),d=w,h=s,l=0,I=h.length>0?1:0,R=0,D=h.length,E=null,F={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},P={},typeof c<"u"&&(P.range=typeof c.range=="boolean"&&c.range,P.loc=typeof c.loc=="boolean"&&c.loc,P.attachComment=typeof c.attachComment=="boolean"&&c.attachComment,P.loc&&c.source!==null&&c.source!==void 0&&(P.source=k(c.source)),typeof c.tokens=="boolean"&&c.tokens&&(P.tokens=[]),typeof c.comment=="boolean"&&c.comment&&(P.comments=[]),typeof c.tolerant=="boolean"&&c.tolerant&&(P.errors=[]),P.attachComment&&(P.range=!0,P.comments=[],P.bottomRightStack=[],P.trailingComments=[],P.leadingComments=[]));try{_=vi(),typeof P.comments<"u"&&(_.comments=P.comments),typeof P.tokens<"u"&&(lr(),_.tokens=P.tokens),typeof P.errors<"u"&&(_.errors=P.errors)}catch(O){throw O}finally{P={}}return _}o.version="1.2.2",o.tokenize=Pr,o.parse=Ei,o.Syntax=function(){var s,c={};typeof Object.create=="function"&&(c=Object.create(null));for(s in p)p.hasOwnProperty(s)&&(c[s]=p[s]);return typeof Object.freeze=="function"&&Object.freeze(c),c}()})},{}],1:[function(n,i,a){(function(o){var u=function(){var f={trace:function(){},yy:{},symbols_:{error:2,JSON_PATH:3,DOLLAR:4,PATH_COMPONENTS:5,LEADING_CHILD_MEMBER_EXPRESSION:6,PATH_COMPONENT:7,MEMBER_COMPONENT:8,SUBSCRIPT_COMPONENT:9,CHILD_MEMBER_COMPONENT:10,DESCENDANT_MEMBER_COMPONENT:11,DOT:12,MEMBER_EXPRESSION:13,DOT_DOT:14,STAR:15,IDENTIFIER:16,SCRIPT_EXPRESSION:17,INTEGER:18,END:19,CHILD_SUBSCRIPT_COMPONENT:20,DESCENDANT_SUBSCRIPT_COMPONENT:21,"[":22,SUBSCRIPT:23,"]":24,SUBSCRIPT_EXPRESSION:25,SUBSCRIPT_EXPRESSION_LIST:26,SUBSCRIPT_EXPRESSION_LISTABLE:27,",":28,STRING_LITERAL:29,ARRAY_SLICE:30,FILTER_EXPRESSION:31,QQ_STRING:32,Q_STRING:33,$accept:0,$end:1},terminals_:{2:"error",4:"DOLLAR",12:"DOT",14:"DOT_DOT",15:"STAR",16:"IDENTIFIER",17:"SCRIPT_EXPRESSION",18:"INTEGER",19:"END",22:"[",24:"]",28:",",30:"ARRAY_SLICE",31:"FILTER_EXPRESSION",32:"QQ_STRING",33:"Q_STRING"},productions_:[0,[3,1],[3,2],[3,1],[3,2],[5,1],[5,2],[7,1],[7,1],[8,1],[8,1],[10,2],[6,1],[11,2],[13,1],[13,1],[13,1],[13,1],[13,1],[9,1],[9,1],[20,3],[21,4],[23,1],[23,1],[26,1],[26,3],[27,1],[27,1],[27,1],[25,1],[25,1],[25,1],[29,1],[29,1]],performAction:function(g,w,h,S,l,I,R){S.ast||(S.ast=y,y.initialize());var D=I.length-1;switch(l){case 1:return S.ast.set({expression:{type:"root",value:I[D]}}),S.ast.unshift(),S.ast.yield();break;case 2:return S.ast.set({expression:{type:"root",value:I[D-1]}}),S.ast.unshift(),S.ast.yield();break;case 3:return S.ast.unshift(),S.ast.yield();break;case 4:return S.ast.set({operation:"member",scope:"child",expression:{type:"identifier",value:I[D-1]}}),S.ast.unshift(),S.ast.yield();break;case 5:break;case 6:break;case 7:S.ast.set({operation:"member"}),S.ast.push();break;case 8:S.ast.set({operation:"subscript"}),S.ast.push();break;case 9:S.ast.set({scope:"child"});break;case 10:S.ast.set({scope:"descendant"});break;case 11:break;case 12:S.ast.set({scope:"child",operation:"member"});break;case 13:break;case 14:S.ast.set({expression:{type:"wildcard",value:I[D]}});break;case 15:S.ast.set({expression:{type:"identifier",value:I[D]}});break;case 16:S.ast.set({expression:{type:"script_expression",value:I[D]}});break;case 17:S.ast.set({expression:{type:"numeric_literal",value:parseInt(I[D])}});break;case 18:break;case 19:S.ast.set({scope:"child"});break;case 20:S.ast.set({scope:"descendant"});break;case 21:break;case 22:break;case 23:break;case 24:I[D].length>1?S.ast.set({expression:{type:"union",value:I[D]}}):this.$=I[D];break;case 25:this.$=[I[D]];break;case 26:this.$=I[D-2].concat(I[D]);break;case 27:this.$={expression:{type:"numeric_literal",value:parseInt(I[D])}},S.ast.set(this.$);break;case 28:this.$={expression:{type:"string_literal",value:I[D]}},S.ast.set(this.$);break;case 29:this.$={expression:{type:"slice",value:I[D]}},S.ast.set(this.$);break;case 30:this.$={expression:{type:"wildcard",value:I[D]}},S.ast.set(this.$);break;case 31:this.$={expression:{type:"script_expression",value:I[D]}},S.ast.set(this.$);break;case 32:this.$={expression:{type:"filter_expression",value:I[D]}},S.ast.set(this.$);break;case 33:this.$=I[D];break;case 34:this.$=I[D];break}},table:[{3:1,4:[1,2],6:3,13:4,15:[1,5],16:[1,6],17:[1,7],18:[1,8],19:[1,9]},{1:[3]},{1:[2,1],5:10,7:11,8:12,9:13,10:14,11:15,12:[1,18],14:[1,19],20:16,21:17,22:[1,20]},{1:[2,3],5:21,7:11,8:12,9:13,10:14,11:15,12:[1,18],14:[1,19],20:16,21:17,22:[1,20]},{1:[2,12],12:[2,12],14:[2,12],22:[2,12]},{1:[2,14],12:[2,14],14:[2,14],22:[2,14]},{1:[2,15],12:[2,15],14:[2,15],22:[2,15]},{1:[2,16],12:[2,16],14:[2,16],22:[2,16]},{1:[2,17],12:[2,17],14:[2,17],22:[2,17]},{1:[2,18],12:[2,18],14:[2,18],22:[2,18]},{1:[2,2],7:22,8:12,9:13,10:14,11:15,12:[1,18],14:[1,19],20:16,21:17,22:[1,20]},{1:[2,5],12:[2,5],14:[2,5],22:[2,5]},{1:[2,7],12:[2,7],14:[2,7],22:[2,7]},{1:[2,8],12:[2,8],14:[2,8],22:[2,8]},{1:[2,9],12:[2,9],14:[2,9],22:[2,9]},{1:[2,10],12:[2,10],14:[2,10],22:[2,10]},{1:[2,19],12:[2,19],14:[2,19],22:[2,19]},{1:[2,20],12:[2,20],14:[2,20],22:[2,20]},{13:23,15:[1,5],16:[1,6],17:[1,7],18:[1,8],19:[1,9]},{13:24,15:[1,5],16:[1,6],17:[1,7],18:[1,8],19:[1,9],22:[1,25]},{15:[1,29],17:[1,30],18:[1,33],23:26,25:27,26:28,27:32,29:34,30:[1,35],31:[1,31],32:[1,36],33:[1,37]},{1:[2,4],7:22,8:12,9:13,10:14,11:15,12:[1,18],14:[1,19],20:16,21:17,22:[1,20]},{1:[2,6],12:[2,6],14:[2,6],22:[2,6]},{1:[2,11],12:[2,11],14:[2,11],22:[2,11]},{1:[2,13],12:[2,13],14:[2,13],22:[2,13]},{15:[1,29],17:[1,30],18:[1,33],23:38,25:27,26:28,27:32,29:34,30:[1,35],31:[1,31],32:[1,36],33:[1,37]},{24:[1,39]},{24:[2,23]},{24:[2,24],28:[1,40]},{24:[2,30]},{24:[2,31]},{24:[2,32]},{24:[2,25],28:[2,25]},{24:[2,27],28:[2,27]},{24:[2,28],28:[2,28]},{24:[2,29],28:[2,29]},{24:[2,33],28:[2,33]},{24:[2,34],28:[2,34]},{24:[1,41]},{1:[2,21],12:[2,21],14:[2,21],22:[2,21]},{18:[1,33],27:42,29:34,30:[1,35],32:[1,36],33:[1,37]},{1:[2,22],12:[2,22],14:[2,22],22:[2,22]},{24:[2,26],28:[2,26]}],defaultActions:{27:[2,23],29:[2,30],30:[2,31],31:[2,32]},parseError:function(g,w){if(w.recoverable)this.trace(g);else throw new Error(g)},parse:function(g){var w=this,h=[0],S=[null],l=[],I=this.table,R="",D=0,d=0,E=0,F=2,P=1,z=l.slice.call(arguments,1);this.lexer.setInput(g),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,typeof this.lexer.yylloc>"u"&&(this.lexer.yylloc={});var H=this.lexer.yylloc;l.push(H);var te=this.lexer.options&&this.lexer.options.ranges;typeof this.yy.parseError=="function"?this.parseError=this.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function J(q){h.length=h.length-2*q,S.length=S.length-q,l.length=l.length-q}function we(){var q;return q=w.lexer.lex()||P,typeof q!="number"&&(q=w.symbols_[q]||q),q}for(var Q,pe,Ae,Oe,dt,Ie,We={},Je,Xe,Kt,x;;){if(Ae=h[h.length-1],this.defaultActions[Ae]?Oe=this.defaultActions[Ae]:((Q===null||typeof Q>"u")&&(Q=we()),Oe=I[Ae]&&I[Ae][Q]),typeof Oe>"u"||!Oe.length||!Oe[0]){var B="";x=[];for(Je in I[Ae])this.terminals_[Je]&&Je>F&&x.push("'"+this.terminals_[Je]+"'");this.lexer.showPosition?B="Parse error on line "+(D+1)+`:
`+this.lexer.showPosition()+`
Expecting `+x.join(", ")+", got '"+(this.terminals_[Q]||Q)+"'":B="Parse error on line "+(D+1)+": Unexpected "+(Q==P?"end of input":"'"+(this.terminals_[Q]||Q)+"'"),this.parseError(B,{text:this.lexer.match,token:this.terminals_[Q]||Q,line:this.lexer.yylineno,loc:H,expected:x})}if(Oe[0]instanceof Array&&Oe.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ae+", token: "+Q);switch(Oe[0]){case 1:h.push(Q),S.push(this.lexer.yytext),l.push(this.lexer.yylloc),h.push(Oe[1]),Q=null,pe?(Q=pe,pe=null):(d=this.lexer.yyleng,R=this.lexer.yytext,D=this.lexer.yylineno,H=this.lexer.yylloc,E>0&&E--);break;case 2:if(Xe=this.productions_[Oe[1]][1],We.$=S[S.length-Xe],We._$={first_line:l[l.length-(Xe||1)].first_line,last_line:l[l.length-1].last_line,first_column:l[l.length-(Xe||1)].first_column,last_column:l[l.length-1].last_column},te&&(We._$.range=[l[l.length-(Xe||1)].range[0],l[l.length-1].range[1]]),Ie=this.performAction.apply(We,[R,d,D,this.yy,Oe[1],S,l].concat(z)),typeof Ie<"u")return Ie;Xe&&(h=h.slice(0,-1*Xe*2),S=S.slice(0,-1*Xe),l=l.slice(0,-1*Xe)),h.push(this.productions_[Oe[1]][0]),S.push(We.$),l.push(We._$),Kt=I[h[h.length-2]][h[h.length-1]],h.push(Kt);break;case 3:return!0}}return!0}},y={initialize:function(){this._nodes=[],this._node={},this._stash=[]},set:function(m){for(var g in m)this._node[g]=m[g];return this._node},node:function(m){return arguments.length&&(this._node=m),this._node},push:function(){this._nodes.push(this._node),this._node={}},unshift:function(){this._nodes.unshift(this._node),this._node={}},yield:function(){var m=this._nodes;return this.initialize(),m}},p=function(){var m={EOF:1,parseError:function(w,h){if(this.yy.parser)this.yy.parser.parseError(w,h);else throw new Error(w)},setInput:function(g){return this._input=g,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var g=this._input[0];this.yytext+=g,this.yyleng++,this.offset++,this.match+=g,this.matched+=g;var w=g.match(/(?:\r\n?|\n).*/g);return w?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),g},unput:function(g){var w=g.length,h=g.split(/(?:\r\n?|\n)/g);this._input=g+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-w-1),this.offset-=w;var S=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),h.length-1&&(this.yylineno-=h.length-1);var l=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:h?(h.length===S.length?this.yylloc.first_column:0)+S[S.length-h.length].length-h[0].length:this.yylloc.first_column-w},this.options.ranges&&(this.yylloc.range=[l[0],l[0]+this.yyleng-w]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(g){this.unput(this.match.slice(g))},pastInput:function(){var g=this.matched.substr(0,this.matched.length-this.match.length);return(g.length>20?"...":"")+g.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var g=this.match;return g.length<20&&(g+=this._input.substr(0,20-g.length)),(g.substr(0,20)+(g.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var g=this.pastInput(),w=new Array(g.length+1).join("-");return g+this.upcomingInput()+`
`+w+"^"},test_match:function(g,w){var h,S,l;if(this.options.backtrack_lexer&&(l={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(l.yylloc.range=this.yylloc.range.slice(0))),S=g[0].match(/(?:\r\n?|\n).*/g),S&&(this.yylineno+=S.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:S?S[S.length-1].length-S[S.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+g[0].length},this.yytext+=g[0],this.match+=g[0],this.matches=g,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(g[0].length),this.matched+=g[0],h=this.performAction.call(this,this.yy,this,w,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),h)return h;if(this._backtrack){for(var I in l)this[I]=l[I];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var g,w,h,S;this._more||(this.yytext="",this.match="");for(var l=this._currentRules(),I=0;I<l.length;I++)if(h=this._input.match(this.rules[l[I]]),h&&(!w||h[0].length>w[0].length)){if(w=h,S=I,this.options.backtrack_lexer){if(g=this.test_match(h,l[I]),g!==!1)return g;if(this._backtrack){w=!1;continue}else return!1}else if(!this.options.flex)break}return w?(g=this.test_match(w,l[S]),g!==!1?g:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var w=this.next();return w||this.lex()},begin:function(w){this.conditionStack.push(w)},popState:function(){var w=this.conditionStack.length-1;return w>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(w){return w=this.conditionStack.length-1-Math.abs(w||0),w>=0?this.conditionStack[w]:"INITIAL"},pushState:function(w){this.begin(w)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(w,h,S,l){var I=l;switch(S){case 0:return 4;case 1:return 14;case 2:return 12;case 3:return 15;case 4:return 16;case 5:return 22;case 6:return 24;case 7:return 28;case 8:return 30;case 9:return 18;case 10:return h.yytext=h.yytext.substr(1,h.yyleng-2),32;break;case 11:return h.yytext=h.yytext.substr(1,h.yyleng-2),33;break;case 12:return 17;case 13:return 31}},rules:[/^(?:\$)/,/^(?:\.\.)/,/^(?:\.)/,/^(?:\*)/,/^(?:[a-zA-Z_]+[a-zA-Z0-9_]*)/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:((-?(?:0|[1-9][0-9]*)))?\:((-?(?:0|[1-9][0-9]*)))?(\:((-?(?:0|[1-9][0-9]*)))?)?)/,/^(?:(-?(?:0|[1-9][0-9]*)))/,/^(?:"(?:\\["bfnrt/\\]|\\u[a-fA-F0-9]{4}|[^"\\])*")/,/^(?:'(?:\\['bfnrt/\\]|\\u[a-fA-F0-9]{4}|[^'\\])*')/,/^(?:\(.+?\)(?=\]))/,/^(?:\?\(.+?\)(?=\]))/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};return m}();f.lexer=p;function v(){this.yy={}}return v.prototype=f,f.Parser=v,new v}();typeof n<"u"&&typeof a<"u"&&(a.parser=u,a.Parser=u.Parser,a.parse=function(){return u.parse.apply(u,arguments)},a.main=function(y){y[1]||(console.log("Usage: "+y[0]+" FILE"),o.exit(1));var p=n("fs").readFileSync(n("path").normalize(y[1]),"utf8");return a.parser.parse(p)},typeof i<"u"&&n.main===i&&a.main(o.argv.slice(1)))}).call(this,n("_process"))},{_process:14,fs:12,path:13}],2:[function(n,i,a){i.exports={identifier:"[a-zA-Z_]+[a-zA-Z0-9_]*",integer:"-?(?:0|[1-9][0-9]*)",qq_string:'"(?:\\\\["bfnrt/\\\\]|\\\\u[a-fA-F0-9]{4}|[^"\\\\])*"',q_string:"'(?:\\\\['bfnrt/\\\\]|\\\\u[a-fA-F0-9]{4}|[^'\\\\])*'"}},{}],3:[function(n,i,a){var o=n("./dict"),u=n("fs"),f={lex:{macros:{esc:"\\\\",int:o.integer},rules:[["\\$","return 'DOLLAR'"],["\\.\\.","return 'DOT_DOT'"],["\\.","return 'DOT'"],["\\*","return 'STAR'"],[o.identifier,"return 'IDENTIFIER'"],["\\[","return '['"],["\\]","return ']'"],[",","return ','"],["({int})?\\:({int})?(\\:({int})?)?","return 'ARRAY_SLICE'"],["{int}","return 'INTEGER'"],[o.qq_string,"yytext = yytext.substr(1,yyleng-2); return 'QQ_STRING';"],[o.q_string,"yytext = yytext.substr(1,yyleng-2); return 'Q_STRING';"],["\\(.+?\\)(?=\\])","return 'SCRIPT_EXPRESSION'"],["\\?\\(.+?\\)(?=\\])","return 'FILTER_EXPRESSION'"]]},start:"JSON_PATH",bnf:{JSON_PATH:[["DOLLAR",'yy.ast.set({ expression: { type: "root", value: $1 } }); yy.ast.unshift(); return yy.ast.yield()'],["DOLLAR PATH_COMPONENTS",'yy.ast.set({ expression: { type: "root", value: $1 } }); yy.ast.unshift(); return yy.ast.yield()'],["LEADING_CHILD_MEMBER_EXPRESSION","yy.ast.unshift(); return yy.ast.yield()"],["LEADING_CHILD_MEMBER_EXPRESSION PATH_COMPONENTS",'yy.ast.set({ operation: "member", scope: "child", expression: { type: "identifier", value: $1 }}); yy.ast.unshift(); return yy.ast.yield()']],PATH_COMPONENTS:[["PATH_COMPONENT",""],["PATH_COMPONENTS PATH_COMPONENT",""]],PATH_COMPONENT:[["MEMBER_COMPONENT",'yy.ast.set({ operation: "member" }); yy.ast.push()'],["SUBSCRIPT_COMPONENT",'yy.ast.set({ operation: "subscript" }); yy.ast.push() ']],MEMBER_COMPONENT:[["CHILD_MEMBER_COMPONENT",'yy.ast.set({ scope: "child" })'],["DESCENDANT_MEMBER_COMPONENT",'yy.ast.set({ scope: "descendant" })']],CHILD_MEMBER_COMPONENT:[["DOT MEMBER_EXPRESSION",""]],LEADING_CHILD_MEMBER_EXPRESSION:[["MEMBER_EXPRESSION",'yy.ast.set({ scope: "child", operation: "member" })']],DESCENDANT_MEMBER_COMPONENT:[["DOT_DOT MEMBER_EXPRESSION",""]],MEMBER_EXPRESSION:[["STAR",'yy.ast.set({ expression: { type: "wildcard", value: $1 } })'],["IDENTIFIER",'yy.ast.set({ expression: { type: "identifier", value: $1 } })'],["SCRIPT_EXPRESSION",'yy.ast.set({ expression: { type: "script_expression", value: $1 } })'],["INTEGER",'yy.ast.set({ expression: { type: "numeric_literal", value: parseInt($1) } })'],["END",""]],SUBSCRIPT_COMPONENT:[["CHILD_SUBSCRIPT_COMPONENT",'yy.ast.set({ scope: "child" })'],["DESCENDANT_SUBSCRIPT_COMPONENT",'yy.ast.set({ scope: "descendant" })']],CHILD_SUBSCRIPT_COMPONENT:[["[ SUBSCRIPT ]",""]],DESCENDANT_SUBSCRIPT_COMPONENT:[["DOT_DOT [ SUBSCRIPT ]",""]],SUBSCRIPT:[["SUBSCRIPT_EXPRESSION",""],["SUBSCRIPT_EXPRESSION_LIST",'$1.length > 1? yy.ast.set({ expression: { type: "union", value: $1 } }) : $$ = $1']],SUBSCRIPT_EXPRESSION_LIST:[["SUBSCRIPT_EXPRESSION_LISTABLE","$$ = [$1]"],["SUBSCRIPT_EXPRESSION_LIST , SUBSCRIPT_EXPRESSION_LISTABLE","$$ = $1.concat($3)"]],SUBSCRIPT_EXPRESSION_LISTABLE:[["INTEGER",'$$ = { expression: { type: "numeric_literal", value: parseInt($1) } }; yy.ast.set($$)'],["STRING_LITERAL",'$$ = { expression: { type: "string_literal", value: $1 } }; yy.ast.set($$)'],["ARRAY_SLICE",'$$ = { expression: { type: "slice", value: $1 } }; yy.ast.set($$)']],SUBSCRIPT_EXPRESSION:[["STAR",'$$ = { expression: { type: "wildcard", value: $1 } }; yy.ast.set($$)'],["SCRIPT_EXPRESSION",'$$ = { expression: { type: "script_expression", value: $1 } }; yy.ast.set($$)'],["FILTER_EXPRESSION",'$$ = { expression: { type: "filter_expression", value: $1 } }; yy.ast.set($$)']],STRING_LITERAL:[["QQ_STRING","$$ = $1"],["Q_STRING","$$ = $1"]]}};u.readFileSync&&(f.moduleInclude=u.readFileSync(n.resolve("../include/module.js")),f.actionInclude=u.readFileSync(n.resolve("../include/action.js"))),i.exports=f},{"./dict":2,fs:12}],4:[function(n,i,a){var o=n("./aesprim"),u=n("./slice"),f=n("static-eval"),y=n("underscore").uniq,p=function(){return this.initialize.apply(this,arguments)};p.prototype.initialize=function(){this.traverse=w(!0),this.descend=w()},p.prototype.keys=Object.keys,p.prototype.resolve=function(D){var d=[D.operation,D.scope,D.expression.type].join("-"),E=this._fns[d];if(!E)throw new Error("couldn't resolve key: "+d);return E.bind(this)},p.prototype.register=function(D,d){if(!d instanceof Function)throw new Error("handler must be a function");this._fns[D]=d},p.prototype._fns={"member-child-identifier":function(D,d){var E=D.expression.value,F=d.value;if(F instanceof Object&&E in F)return[{value:F[E],path:d.path.concat(E)}]},"member-descendant-identifier":S(function(D,d,E){return D==E}),"subscript-child-numeric_literal":h(function(D,d,E){return D===E}),"member-child-numeric_literal":h(function(D,d,E){return String(D)===String(E)}),"subscript-descendant-numeric_literal":S(function(D,d,E){return D===E}),"member-child-wildcard":h(function(){return!0}),"member-descendant-wildcard":S(function(){return!0}),"subscript-descendant-wildcard":S(function(){return!0}),"subscript-child-wildcard":h(function(){return!0}),"subscript-child-slice":function(D,d){if(m(d.value)){var E=D.expression.value.split(":").map(R),F=d.value.map(function(P,z){return{value:P,path:d.path.concat(z)}});return u.apply(null,[F].concat(E))}},"subscript-child-union":function(D,d){var E=[];return D.expression.value.forEach(function(F){var P={operation:"subscript",scope:"child",expression:F.expression},z=this.resolve(P),H=z(P,d);H&&(E=E.concat(H))},this),I(E)},"subscript-descendant-union":function(D,d,E){var F=n(".."),P=this,z=[],H=F.nodes(d,"$..*").slice(1);return H.forEach(function(te){z.length>=E||D.expression.value.forEach(function(J){var we={operation:"subscript",scope:"child",expression:J.expression},Q=P.resolve(we),pe=Q(we,te);z=z.concat(pe)})}),I(z)},"subscript-child-filter_expression":function(D,d,E){var F=D.expression.value.slice(2,-1),P=o.parse(F).body[0].expression,z=function(H,te){return l(P,{"@":te})};return this.descend(d,null,z,E)},"subscript-descendant-filter_expression":function(D,d,E){var F=D.expression.value.slice(2,-1),P=o.parse(F).body[0].expression,z=function(H,te){return l(P,{"@":te})};return this.traverse(d,null,z,E)},"subscript-child-script_expression":function(D,d){var E=D.expression.value.slice(1,-1);return v(d,E,"$[{{value}}]")},"member-child-script_expression":function(D,d){var E=D.expression.value.slice(1,-1);return v(d,E,"$.{{value}}")},"member-descendant-script_expression":function(D,d){var E=D.expression.value.slice(1,-1);return v(d,E,"$..value")}},p.prototype._fns["subscript-child-string_literal"]=p.prototype._fns["member-child-identifier"],p.prototype._fns["member-descendant-numeric_literal"]=p.prototype._fns["subscript-descendant-string_literal"]=p.prototype._fns["member-descendant-identifier"];function v(D,d,E){var F=n("./index"),P=o.parse(d).body[0].expression,z=l(P,{"@":D.value}),H=E.replace(/\{\{\s*value\s*\}\}/g,z),te=F.nodes(D.value,H);return te.forEach(function(J){J.path=D.path.concat(J.path.slice(1))}),te}function m(D){return Array.isArray(D)}function g(D){return D&&!(D instanceof Array)&&D instanceof Object}function w(D){return function(d,E,F,P){var z=d.value,H=d.path,te=[],J=function(we,Q){m(we)?(we.forEach(function(pe,Ae){te.length>=P||F(Ae,pe,E)&&te.push({path:Q.concat(Ae),value:pe})}),we.forEach(function(pe,Ae){te.length>=P||D&&J(pe,Q.concat(Ae))})):g(we)&&(this.keys(we).forEach(function(pe){te.length>=P||F(pe,we[pe],E)&&te.push({path:Q.concat(pe),value:we[pe]})}),this.keys(we).forEach(function(pe){te.length>=P||D&&J(we[pe],Q.concat(pe))}))}.bind(this);return J(z,H),te}}function h(D){return function(d,E,F){return this.descend(E,d.expression.value,D,F)}}function S(D){return function(d,E,F){return this.traverse(E,d.expression.value,D,F)}}function l(){try{return f.apply(this,arguments)}catch{}}function I(D){return D=D.filter(function(d){return d}),y(D,function(d){return d.path.map(function(E){return String(E).replace("-","--")}).join("-")})}function R(D){var d=String(D);return d.match(/^-?[0-9]+$/)?parseInt(d):null}i.exports=p},{"..":"jsonpath","./aesprim":"./aesprim","./index":5,"./slice":7,"static-eval":15,underscore:12}],5:[function(n,i,a){var o=n("assert"),u=n("./dict"),f=n("./parser"),y=n("./handlers"),p=function(){this.initialize.apply(this,arguments)};p.prototype.initialize=function(){this.parser=new f,this.handlers=new y},p.prototype.parse=function(g){return o.ok(v(g),"we need a path"),this.parser.parse(g)},p.prototype.parent=function(g,w){o.ok(g instanceof Object,"obj needs to be an object"),o.ok(w,"we need a path");var h=this.nodes(g,w)[0],S=h.path.pop();return this.value(g,h.path)},p.prototype.apply=function(g,w,h){o.ok(g instanceof Object,"obj needs to be an object"),o.ok(w,"we need a path"),o.equal(typeof h,"function","fn needs to be function");var S=this.nodes(g,w).sort(function(l,I){return I.path.length-l.path.length});return S.forEach(function(l){var I=l.path.pop(),R=this.value(g,this.stringify(l.path)),D=l.value=h.call(g,R[I]);R[I]=D},this),S},p.prototype.value=function(g,w,h){if(o.ok(g instanceof Object,"obj needs to be an object"),o.ok(w,"we need a path"),arguments.length>=3){var S=this.nodes(g,w).shift();if(!S)return this._vivify(g,w,h);var l=S.path.slice(-1).shift(),I=this.parent(g,this.stringify(S.path));I[l]=h}return this.query(g,this.stringify(w),1).shift()},p.prototype._vivify=function(g,w,h){var S=this;o.ok(g instanceof Object,"obj needs to be an object"),o.ok(w,"we need a path");var l=this.parser.parse(w).map(function(R){return R.expression.value}),I=function(R,D){var d=R.pop(),E=S.value(g,R);E||(I(R.concat(),typeof d=="string"?{}:[]),E=S.value(g,R)),E[d]=D};return I(l,h),this.query(g,w)[0]},p.prototype.query=function(g,w,h){o.ok(g instanceof Object,"obj needs to be an object"),o.ok(v(w),"we need a path");var S=this.nodes(g,w,h).map(function(l){return l.value});return S},p.prototype.paths=function(g,w,h){o.ok(g instanceof Object,"obj needs to be an object"),o.ok(w,"we need a path");var S=this.nodes(g,w,h).map(function(l){return l.path});return S},p.prototype.nodes=function(g,w,h){if(o.ok(g instanceof Object,"obj needs to be an object"),o.ok(w,"we need a path"),h===0)return[];var S=this.parser.parse(w),l=this.handlers,I=[{path:["$"],value:g}],R=[];return S.length&&S[0].expression.type=="root"&&S.shift(),S.length?(S.forEach(function(D,d){if(!(R.length>=h)){var E=l.resolve(D),F=[];I.forEach(function(P){if(!(R.length>=h)){var z=E(D,P,h);d==S.length-1?R=R.concat(z||[]):F=F.concat(z||[])}}),I=F}}),h?R.slice(0,h):R):I},p.prototype.stringify=function(g){o.ok(g,"we need a path");var w="$",h={"descendant-member":"..{{value}}","child-member":".{{value}}","descendant-subscript":"..[{{value}}]","child-subscript":"[{{value}}]"};return g=this._normalize(g),g.forEach(function(S){if(S.expression.type!="root"){var l=[S.scope,S.operation].join("-"),I=h[l],R;if(S.expression.type=="string_literal"?R=JSON.stringify(S.expression.value):R=S.expression.value,!I)throw new Error("couldn't find template "+l);w+=I.replace(/{{value}}/,R)}}),w},p.prototype._normalize=function(g){if(o.ok(g,"we need a path"),typeof g=="string")return this.parser.parse(g);if(Array.isArray(g)&&typeof g[0]=="string"){var w=[{expression:{type:"root",value:"$"}}];return g.forEach(function(h,S){if(!(h=="$"&&S===0))if(typeof h=="string"&&h.match("^"+u.identifier+"$"))w.push({operation:"member",scope:"child",expression:{value:h,type:"identifier"}});else{var l=typeof h=="number"?"numeric_literal":"string_literal";w.push({operation:"subscript",scope:"child",expression:{value:h,type:l}})}}),w}else if(Array.isArray(g)&&typeof g[0]=="object")return g;throw new Error("couldn't understand path "+g)};function v(g){return Object.prototype.toString.call(g)=="[object String]"}p.Handlers=y,p.Parser=f;var m=new p;m.JSONPath=p,i.exports=m},{"./dict":2,"./handlers":4,"./parser":6,assert:8}],6:[function(n,i,a){var o=n("./grammar"),u=n("../generated/parser"),f=function(){var y=new u.Parser,p=y.parseError;return y.yy.parseError=function(){y.yy.ast&&y.yy.ast.initialize(),p.apply(y,arguments)},y};f.grammar=o,i.exports=f},{"../generated/parser":1,"./grammar":3}],7:[function(n,i,a){i.exports=function(u,f,y,p){if(typeof f=="string")throw new Error("start cannot be a string");if(typeof y=="string")throw new Error("end cannot be a string");if(typeof p=="string")throw new Error("step cannot be a string");var v=u.length;if(p===0)throw new Error("step cannot be zero");if(p=p?o(p):1,f=f<0?v+f:f,y=y<0?v+y:y,f=o(f===0?0:f||(p>0?0:v-1)),y=o(y===0?0:y||(p>0?v:-1)),f=p>0?Math.max(0,f):Math.min(v,f),y=p>0?Math.min(y,v):Math.max(-1,y),p>0&&y<=f)return[];if(p<0&&f<=y)return[];for(var m=[],g=f;g!=y&&!(p<0&&g<=y||p>0&&g>=y);g+=p)m.push(u[g]);return m};function o(u){return String(u).match(/^[0-9]+$/)?parseInt(u):Number.isFinite(u)?parseInt(u,10):0}},{}],8:[function(n,i,a){var o=n("util/"),u=Array.prototype.slice,f=Object.prototype.hasOwnProperty,y=i.exports=w;y.AssertionError=function(E){this.name="AssertionError",this.actual=E.actual,this.expected=E.expected,this.operator=E.operator,E.message?(this.message=E.message,this.generatedMessage=!1):(this.message=m(this),this.generatedMessage=!0);var F=E.stackStartFunction||g;if(Error.captureStackTrace)Error.captureStackTrace(this,F);else{var P=new Error;if(P.stack){var z=P.stack,H=F.name,te=z.indexOf(`
`+H);if(te>=0){var J=z.indexOf(`
`,te+1);z=z.substring(J+1)}this.stack=z}}},o.inherits(y.AssertionError,Error);function p(d,E){return o.isUndefined(E)?""+E:o.isNumber(E)&&!isFinite(E)||o.isFunction(E)||o.isRegExp(E)?E.toString():E}function v(d,E){return o.isString(d)?d.length<E?d:d.slice(0,E):d}function m(d){return v(JSON.stringify(d.actual,p),128)+" "+d.operator+" "+v(JSON.stringify(d.expected,p),128)}function g(d,E,F,P,z){throw new y.AssertionError({message:F,actual:d,expected:E,operator:P,stackStartFunction:z})}y.fail=g;function w(d,E){d||g(d,!0,E,"==",y.ok)}y.ok=w,y.equal=function(E,F,P){E!=F&&g(E,F,P,"==",y.equal)},y.notEqual=function(E,F,P){E==F&&g(E,F,P,"!=",y.notEqual)},y.deepEqual=function(E,F,P){h(E,F)||g(E,F,P,"deepEqual",y.deepEqual)};function h(d,E){if(d===E)return!0;if(o.isBuffer(d)&&o.isBuffer(E)){if(d.length!=E.length)return!1;for(var F=0;F<d.length;F++)if(d[F]!==E[F])return!1;return!0}else return o.isDate(d)&&o.isDate(E)?d.getTime()===E.getTime():o.isRegExp(d)&&o.isRegExp(E)?d.source===E.source&&d.global===E.global&&d.multiline===E.multiline&&d.lastIndex===E.lastIndex&&d.ignoreCase===E.ignoreCase:!o.isObject(d)&&!o.isObject(E)?d==E:l(d,E)}function S(d){return Object.prototype.toString.call(d)=="[object Arguments]"}function l(d,E){if(o.isNullOrUndefined(d)||o.isNullOrUndefined(E)||d.prototype!==E.prototype)return!1;if(o.isPrimitive(d)||o.isPrimitive(E))return d===E;var F=S(d),P=S(E);if(F&&!P||!F&&P)return!1;if(F)return d=u.call(d),E=u.call(E),h(d,E);var z=D(d),H=D(E),te,J;if(z.length!=H.length)return!1;for(z.sort(),H.sort(),J=z.length-1;J>=0;J--)if(z[J]!=H[J])return!1;for(J=z.length-1;J>=0;J--)if(te=z[J],!h(d[te],E[te]))return!1;return!0}y.notDeepEqual=function(E,F,P){h(E,F)&&g(E,F,P,"notDeepEqual",y.notDeepEqual)},y.strictEqual=function(E,F,P){E!==F&&g(E,F,P,"===",y.strictEqual)},y.notStrictEqual=function(E,F,P){E===F&&g(E,F,P,"!==",y.notStrictEqual)};function I(d,E){return!d||!E?!1:Object.prototype.toString.call(E)=="[object RegExp]"?E.test(d):d instanceof E?!0:E.call({},d)===!0}function R(d,E,F,P){var z;o.isString(F)&&(P=F,F=null);try{E()}catch(H){z=H}if(P=(F&&F.name?" ("+F.name+").":".")+(P?" "+P:"."),d&&!z&&g(z,F,"Missing expected exception"+P),!d&&I(z,F)&&g(z,F,"Got unwanted exception"+P),d&&z&&F&&!I(z,F)||!d&&z)throw z}y.throws=function(d,E,F){R.apply(this,[!0].concat(u.call(arguments)))},y.doesNotThrow=function(d,E){R.apply(this,[!1].concat(u.call(arguments)))},y.ifError=function(d){if(d)throw d};var D=Object.keys||function(d){var E=[];for(var F in d)f.call(d,F)&&E.push(F);return E}},{"util/":11}],9:[function(n,i,a){typeof Object.create=="function"?i.exports=function(u,f){u.super_=f,u.prototype=Object.create(f.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}})}:i.exports=function(u,f){u.super_=f;var y=function(){};y.prototype=f.prototype,u.prototype=new y,u.prototype.constructor=u}},{}],10:[function(n,i,a){i.exports=function(u){return u&&typeof u=="object"&&typeof u.copy=="function"&&typeof u.fill=="function"&&typeof u.readUInt8=="function"}},{}],11:[function(n,i,a){(function(o,u){var f=/%[sdj%]/g;a.format=function(x){if(!H(x)){for(var B=[],q=0;q<arguments.length;q++)B.push(v(arguments[q]));return B.join(" ")}for(var q=1,de=arguments,je=de.length,fe=String(x).replace(f,function($e){if($e==="%%")return"%";if(q>=je)return $e;switch($e){case"%s":return String(de[q++]);case"%d":return Number(de[q++]);case"%j":try{return JSON.stringify(de[q++])}catch{return"[Circular]"}default:return $e}}),le=de[q];q<je;le=de[++q])F(le)||!Q(le)?fe+=" "+le:fe+=" "+v(le);return fe},a.deprecate=function(x,B){if(J(u.process))return function(){return a.deprecate(x,B).apply(this,arguments)};if(o.noDeprecation===!0)return x;var q=!1;function de(){if(!q){if(o.throwDeprecation)throw new Error(B);o.traceDeprecation?console.trace(B):console.error(B),q=!0}return x.apply(this,arguments)}return de};var y={},p;a.debuglog=function(x){if(J(p)&&(p=o.env.NODE_DEBUG||""),x=x.toUpperCase(),!y[x])if(new RegExp("\\b"+x+"\\b","i").test(p)){var B=o.pid;y[x]=function(){var q=a.format.apply(a,arguments);console.error("%s %d: %s",x,B,q)}}else y[x]=function(){};return y[x]};function v(x,B){var q={seen:[],stylize:g};return arguments.length>=3&&(q.depth=arguments[2]),arguments.length>=4&&(q.colors=arguments[3]),E(B)?q.showHidden=B:B&&a._extend(q,B),J(q.showHidden)&&(q.showHidden=!1),J(q.depth)&&(q.depth=2),J(q.colors)&&(q.colors=!1),J(q.customInspect)&&(q.customInspect=!0),q.colors&&(q.stylize=m),h(q,x,q.depth)}a.inspect=v,v.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},v.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function m(x,B){var q=v.styles[B];return q?"\x1B["+v.colors[q][0]+"m"+x+"\x1B["+v.colors[q][1]+"m":x}function g(x,B){return x}function w(x){var B={};return x.forEach(function(q,de){B[q]=!0}),B}function h(x,B,q){if(x.customInspect&&B&&Oe(B.inspect)&&B.inspect!==a.inspect&&!(B.constructor&&B.constructor.prototype===B)){var de=B.inspect(q,x);return H(de)||(de=h(x,de,q)),de}var je=S(x,B);if(je)return je;var fe=Object.keys(B),le=w(fe);if(x.showHidden&&(fe=Object.getOwnPropertyNames(B)),Ae(B)&&(fe.indexOf("message")>=0||fe.indexOf("description")>=0))return l(B);if(fe.length===0){if(Oe(B)){var $e=B.name?": "+B.name:"";return x.stylize("[Function"+$e+"]","special")}if(we(B))return x.stylize(RegExp.prototype.toString.call(B),"regexp");if(pe(B))return x.stylize(Date.prototype.toString.call(B),"date");if(Ae(B))return l(B)}var Be="",bt=!1,tt=["{","}"];if(d(B)&&(bt=!0,tt=["[","]"]),Oe(B)){var gn=B.name?": "+B.name:"";Be=" [Function"+gn+"]"}if(we(B)&&(Be=" "+RegExp.prototype.toString.call(B)),pe(B)&&(Be=" "+Date.prototype.toUTCString.call(B)),Ae(B)&&(Be=" "+l(B)),fe.length===0&&(!bt||B.length==0))return tt[0]+Be+tt[1];if(q<0)return we(B)?x.stylize(RegExp.prototype.toString.call(B),"regexp"):x.stylize("[Object]","special");x.seen.push(B);var ar;return bt?ar=I(x,B,q,le,fe):ar=fe.map(function(Cr){return R(x,B,q,le,Cr,bt)}),x.seen.pop(),D(ar,Be,tt)}function S(x,B){if(J(B))return x.stylize("undefined","undefined");if(H(B)){var q="'"+JSON.stringify(B).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return x.stylize(q,"string")}if(z(B))return x.stylize(""+B,"number");if(E(B))return x.stylize(""+B,"boolean");if(F(B))return x.stylize("null","null")}function l(x){return"["+Error.prototype.toString.call(x)+"]"}function I(x,B,q,de,je){for(var fe=[],le=0,$e=B.length;le<$e;++le)Kt(B,String(le))?fe.push(R(x,B,q,de,String(le),!0)):fe.push("");return je.forEach(function(Be){Be.match(/^\d+$/)||fe.push(R(x,B,q,de,Be,!0))}),fe}function R(x,B,q,de,je,fe){var le,$e,Be;if(Be=Object.getOwnPropertyDescriptor(B,je)||{value:B[je]},Be.get?Be.set?$e=x.stylize("[Getter/Setter]","special"):$e=x.stylize("[Getter]","special"):Be.set&&($e=x.stylize("[Setter]","special")),Kt(de,je)||(le="["+je+"]"),$e||(x.seen.indexOf(Be.value)<0?(F(q)?$e=h(x,Be.value,null):$e=h(x,Be.value,q-1),$e.indexOf(`
`)>-1&&(fe?$e=$e.split(`
`).map(function(bt){return"  "+bt}).join(`
`).substr(2):$e=`
`+$e.split(`
`).map(function(bt){return"   "+bt}).join(`
`))):$e=x.stylize("[Circular]","special")),J(le)){if(fe&&je.match(/^\d+$/))return $e;le=JSON.stringify(""+je),le.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(le=le.substr(1,le.length-2),le=x.stylize(le,"name")):(le=le.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),le=x.stylize(le,"string"))}return le+": "+$e}function D(x,B,q){var de=0,je=x.reduce(function(fe,le){return de++,le.indexOf(`
`)>=0&&de++,fe+le.replace(/\u001b\[\d\d?m/g,"").length+1},0);return je>60?q[0]+(B===""?"":B+`
 `)+" "+x.join(`,
  `)+" "+q[1]:q[0]+B+" "+x.join(", ")+" "+q[1]}function d(x){return Array.isArray(x)}a.isArray=d;function E(x){return typeof x=="boolean"}a.isBoolean=E;function F(x){return x===null}a.isNull=F;function P(x){return x==null}a.isNullOrUndefined=P;function z(x){return typeof x=="number"}a.isNumber=z;function H(x){return typeof x=="string"}a.isString=H;function te(x){return typeof x=="symbol"}a.isSymbol=te;function J(x){return x===void 0}a.isUndefined=J;function we(x){return Q(x)&&Ie(x)==="[object RegExp]"}a.isRegExp=we;function Q(x){return typeof x=="object"&&x!==null}a.isObject=Q;function pe(x){return Q(x)&&Ie(x)==="[object Date]"}a.isDate=pe;function Ae(x){return Q(x)&&(Ie(x)==="[object Error]"||x instanceof Error)}a.isError=Ae;function Oe(x){return typeof x=="function"}a.isFunction=Oe;function dt(x){return x===null||typeof x=="boolean"||typeof x=="number"||typeof x=="string"||typeof x=="symbol"||typeof x>"u"}a.isPrimitive=dt,a.isBuffer=n("./support/isBuffer");function Ie(x){return Object.prototype.toString.call(x)}function We(x){return x<10?"0"+x.toString(10):x.toString(10)}var Je=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Xe(){var x=new Date,B=[We(x.getHours()),We(x.getMinutes()),We(x.getSeconds())].join(":");return[x.getDate(),Je[x.getMonth()],B].join(" ")}a.log=function(){console.log("%s - %s",Xe(),a.format.apply(a,arguments))},a.inherits=n("inherits"),a._extend=function(x,B){if(!B||!Q(B))return x;for(var q=Object.keys(B),de=q.length;de--;)x[q[de]]=B[q[de]];return x};function Kt(x,B){return Object.prototype.hasOwnProperty.call(x,B)}}).call(this,n("_process"),typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":10,_process:14,inherits:9}],12:[function(n,i,a){},{}],13:[function(n,i,a){(function(o){function u(v,m){for(var g=0,w=v.length-1;w>=0;w--){var h=v[w];h==="."?v.splice(w,1):h===".."?(v.splice(w,1),g++):g&&(v.splice(w,1),g--)}if(m)for(;g--;g)v.unshift("..");return v}a.resolve=function(){for(var v="",m=!1,g=arguments.length-1;g>=-1&&!m;g--){var w=g>=0?arguments[g]:o.cwd();if(typeof w!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!w)continue;v=w+"/"+v,m=w.charAt(0)==="/"}return v=u(y(v.split("/"),function(h){return!!h}),!m).join("/"),(m?"/":"")+v||"."},a.normalize=function(v){var m=a.isAbsolute(v),g=p(v,-1)==="/";return v=u(y(v.split("/"),function(w){return!!w}),!m).join("/"),!v&&!m&&(v="."),v&&g&&(v+="/"),(m?"/":"")+v},a.isAbsolute=function(v){return v.charAt(0)==="/"},a.join=function(){var v=Array.prototype.slice.call(arguments,0);return a.normalize(y(v,function(m,g){if(typeof m!="string")throw new TypeError("Arguments to path.join must be strings");return m}).join("/"))},a.relative=function(v,m){v=a.resolve(v).substr(1),m=a.resolve(m).substr(1);function g(D){for(var d=0;d<D.length&&D[d]==="";d++);for(var E=D.length-1;E>=0&&D[E]==="";E--);return d>E?[]:D.slice(d,E-d+1)}for(var w=g(v.split("/")),h=g(m.split("/")),S=Math.min(w.length,h.length),l=S,I=0;I<S;I++)if(w[I]!==h[I]){l=I;break}for(var R=[],I=l;I<w.length;I++)R.push("..");return R=R.concat(h.slice(l)),R.join("/")},a.sep="/",a.delimiter=":",a.dirname=function(v){if(typeof v!="string"&&(v=v+""),v.length===0)return".";for(var m=v.charCodeAt(0),g=m===47,w=-1,h=!0,S=v.length-1;S>=1;--S)if(m=v.charCodeAt(S),m===47){if(!h){w=S;break}}else h=!1;return w===-1?g?"/":".":g&&w===1?"/":v.slice(0,w)};function f(v){typeof v!="string"&&(v=v+"");var m=0,g=-1,w=!0,h;for(h=v.length-1;h>=0;--h)if(v.charCodeAt(h)===47){if(!w){m=h+1;break}}else g===-1&&(w=!1,g=h+1);return g===-1?"":v.slice(m,g)}a.basename=function(v,m){var g=f(v);return m&&g.substr(-1*m.length)===m&&(g=g.substr(0,g.length-m.length)),g},a.extname=function(v){typeof v!="string"&&(v=v+"");for(var m=-1,g=0,w=-1,h=!0,S=0,l=v.length-1;l>=0;--l){var I=v.charCodeAt(l);if(I===47){if(!h){g=l+1;break}continue}w===-1&&(h=!1,w=l+1),I===46?m===-1?m=l:S!==1&&(S=1):m!==-1&&(S=-1)}return m===-1||w===-1||S===0||S===1&&m===w-1&&m===g+1?"":v.slice(m,w)};function y(v,m){if(v.filter)return v.filter(m);for(var g=[],w=0;w<v.length;w++)m(v[w],w,v)&&g.push(v[w]);return g}var p="ab".substr(-1)==="b"?function(v,m,g){return v.substr(m,g)}:function(v,m,g){return m<0&&(m=v.length+m),v.substr(m,g)}}).call(this,n("_process"))},{_process:14}],14:[function(n,i,a){var o=i.exports={},u,f;function y(){throw new Error("setTimeout has not been defined")}function p(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?u=setTimeout:u=y}catch{u=y}try{typeof clearTimeout=="function"?f=clearTimeout:f=p}catch{f=p}})();function v(d){if(u===setTimeout)return setTimeout(d,0);if((u===y||!u)&&setTimeout)return u=setTimeout,setTimeout(d,0);try{return u(d,0)}catch{try{return u.call(null,d,0)}catch{return u.call(this,d,0)}}}function m(d){if(f===clearTimeout)return clearTimeout(d);if((f===p||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(d);try{return f(d)}catch{try{return f.call(null,d)}catch{return f.call(this,d)}}}var g=[],w=!1,h,S=-1;function l(){!w||!h||(w=!1,h.length?g=h.concat(g):S=-1,g.length&&I())}function I(){if(!w){var d=v(l);w=!0;for(var E=g.length;E;){for(h=g,g=[];++S<E;)h&&h[S].run();S=-1,E=g.length}h=null,w=!1,m(d)}}o.nextTick=function(d){var E=new Array(arguments.length-1);if(arguments.length>1)for(var F=1;F<arguments.length;F++)E[F-1]=arguments[F];g.push(new R(d,E)),g.length===1&&!w&&v(I)};function R(d,E){this.fun=d,this.array=E}R.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={};function D(){}o.on=D,o.addListener=D,o.once=D,o.off=D,o.removeListener=D,o.removeAllListeners=D,o.emit=D,o.prependListener=D,o.prependOnceListener=D,o.listeners=function(d){return[]},o.binding=function(d){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(d){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],15:[function(n,i,a){var o=n("escodegen").generate;i.exports=function(u,f){f||(f={});var y={},p=function v(m,g){if(m.type==="Literal")return m.value;if(m.type==="UnaryExpression"){var w=v(m.argument);return m.operator==="+"?+w:m.operator==="-"?-w:m.operator==="~"?~w:m.operator==="!"?!w:y}else if(m.type==="ArrayExpression"){for(var h=[],S=0,l=m.elements.length;S<l;S++){var I=v(m.elements[S]);if(I===y)return y;h.push(I)}return h}else if(m.type==="ObjectExpression"){for(var R={},S=0;S<m.properties.length;S++){var D=m.properties[S],d=D.value===null?D.value:v(D.value);if(d===y)return y;R[D.key.value||D.key.name]=d}return R}else if(m.type==="BinaryExpression"||m.type==="LogicalExpression"){var l=v(m.left);if(l===y)return y;var E=v(m.right);if(E===y)return y;var F=m.operator;return F==="=="?l==E:F==="==="?l===E:F==="!="?l!=E:F==="!=="?l!==E:F==="+"?l+E:F==="-"?l-E:F==="*"?l*E:F==="/"?l/E:F==="%"?l%E:F==="<"?l<E:F==="<="?l<=E:F===">"?l>E:F===">="?l>=E:F==="|"?l|E:F==="&"?l&E:F==="^"?l^E:F==="&&"?l&&E:F==="||"?l||E:y}else{if(m.type==="Identifier")return{}.hasOwnProperty.call(f,m.name)?f[m.name]:y;if(m.type==="ThisExpression")return{}.hasOwnProperty.call(f,"this")?f.this:y;if(m.type==="CallExpression"){var P=v(m.callee);if(P===y||typeof P!="function")return y;var z=m.callee.object?v(m.callee.object):y;z===y&&(z=null);for(var H=[],S=0,l=m.arguments.length;S<l;S++){var I=v(m.arguments[S]);if(I===y)return y;H.push(I)}return P.apply(z,H)}else if(m.type==="MemberExpression"){var R=v(m.object);if(R===y||typeof R=="function")return y;if(m.property.type==="Identifier")return R[m.property.name];var D=v(m.property);return D===y?y:R[D]}else if(m.type==="ConditionalExpression"){var w=v(m.test);return w===y?y:v(w?m.consequent:m.alternate)}else if(m.type==="ExpressionStatement"){var w=v(m.expression);return w===y?y:w}else{if(m.type==="ReturnStatement")return v(m.argument);if(m.type==="FunctionExpression"){var te=m.body.body,J={};Object.keys(f).forEach(function(Je){J[Je]=f[Je]});for(var S=0;S<m.params.length;S++){var we=m.params[S];if(we.type=="Identifier")f[we.name]=null;else return y}for(var S in te)if(v(te[S])===y)return y;f=J;var Q=Object.keys(f),pe=Q.map(function(Je){return f[Je]});return Function(Q.join(", "),"return "+o(m)).apply(null,pe)}else if(m.type==="TemplateLiteral"){for(var Ae="",S=0;S<m.expressions.length;S++)Ae+=v(m.quasis[S]),Ae+=v(m.expressions[S]);return Ae+=v(m.quasis[S]),Ae}else if(m.type==="TaggedTemplateExpression"){var Oe=v(m.tag),dt=m.quasi,Ie=dt.quasis.map(v),We=dt.expressions.map(v);return Oe.apply(null,[Ie].concat(We))}else return m.type==="TemplateElement"?m.value.cooked:y}}}(u);return p===y?void 0:p}},{escodegen:12}],jsonpath:[function(n,i,a){i.exports=n("./lib/index")},{"./lib/index":5}]},{},["jsonpath"])("jsonpath")})});C();var uf=Es(Ou(),1);C();function Vs(t){return/^#[0-9A-F]{6}$/i.test(t)}C();function xn(t){return t===""?!0:!!t}function Rn(t,e){t.hidden=!0,t.addEventListener("load",r=>{e?.(),t.hidden=!1})}C();function rt(t,e){if(!(typeof e=="string"&&typeof t!==e)&&!(typeof e=="function"&&!e(t)))return t}C();function Hs(t){try{new URL(t)}catch{return!1}return!0}C();var af=Es(ef(),1);C();var nf=Es(rf(),1);function sf(t,e){for(let r of e){let n=nf.default.query(t,r,1);if(n.length>0)return n[0]}}function Ry(t){return t===!0?"Yes":t===!1?"No":t}function li(t,e){if("path"in t){let r=rt(t.fallback,"string"),n=rt(t.path,Array.isArray);if(n===void 0)return r;let i=sf(e,n);if(i===void 0)return r;let a=t.schema;try{if(!new af.default().validate(a,i))return r}catch{return r}return Ry(i)}if("text"in t)return rt(t.text,"string")}var Oy="https://identity.foundation/credential-manifest/spec/v1.0.0/",Rt="1.5em",of=`
img {
	max-width: 100%;
	max-height: 100%;
}

:host > :not(:first-of-type) {
	padding-top: calc(${Rt} / 2);
	border-top-right-radius: 0;
	border-top-left-radius: 0;
}

:host > :not(:last-of-type) {
	padding-bottom: calc(${Rt} / 2);
	border-bottom-right-radius: 0;
	border-bottom-left-radius: 0;
}

.issuer {
	box-sizing: border-box;
	position: relative;
	padding: ${Rt};
	border-radius: inherit;
}

.descriptor {
	box-sizing: border-box;
	display: flex;
	flex-direction: column;
	justify-content: flex-end;
	position: relative;
	padding: ${Rt};
	border-radius: inherit;
}

:is(.issuer, .descriptor) .thumbnail {
	z-index: 2;
	max-width: 32px;
	max-height: 32px;
}

:is(.issuer, .descriptor) .hero {
	position: absolute;
	top: 0;
	right: 0;
	bottom: 0;
	left: 0;
	z-index: 1;
	max-width: 100%;
	max-height: 100%;
}

.issuer .name {
	position: relative;
	z-index: 3;
	margin: 0;
	padding: 0;
	font-size: 0.8em;
}

.descriptor .title {
	position: relative;
	z-index: 3;
	margin: 0;
	padding: 0;
	font-size: 1.5em;
}

.descriptor .subtitle {
	position: relative;
	z-index: 3;
	margin: 0;
	padding: 0;
	font-size: 1em;
	font-weight: normal;
}

.descriptor .description {
	position: relative;
	z-index: 3;
	margin: 0;
	padding: 0;
}

.descriptor .description:not(:first-child) {
	padding-top: ${Rt};
}

.descriptor .properties {
	display: flex;
	flex-wrap: wrap;
	gap: ${Rt};
	z-index: 3;
	margin: 0;
	padding: 0;
}

.descriptor .properties:not(:first-child) {
	padding-top: ${Rt};
}

.descriptor .properties .property {
	width: calc(50% - (${Rt} / 2));
	list-style-type: none;
}

.descriptor .description .label,
.descriptor .properties .property .label {
	display: block;
	margin-bottom: 0.25em;
	font-size: 0.5em;
	text-transform: uppercase;
	opacity: 0.5;
}

.qr {
	margin-top: ${Rt};
}

.name {
	margin-top: ${Rt};
	overflow: hidden;
	white-space: nowrap;
	text-overflow: ellipsis;
	font-family: Roboto;
    font-size: 16px;
    font-weight: 700;
    line-height: 24px;
    letter-spacing: 0em;
    text-align: left;
    word-break: break-word;
	color: #1F1814;
}

.avatar{
	margin-top: ${Rt};
	width : 40px;
	height : 40px;
	border-radius: 50%;
}

slot {
	display: none;
}
`,Ot,Pt,ir,Vt,sr,ft,Ht,Ar,di,$o,zt=class extends HTMLElement{constructor(){super();Qt(this,Ht);Qt(this,di);Qt(this,Pt,null);Qt(this,ir,null);Qt(this,Vt,null);Qt(this,sr,null);Qt(this,ft,void 0);Lt(this,ft,this.attachShadow({mode:"closed"})),ne(this,ft).adoptedStyleSheets?(ne(zt,Ot)||(Lt(zt,Ot,new CSSStyleSheet),ne(zt,Ot).replaceSync(of)),ne(this,ft).adoptedStyleSheets=[ne(zt,Ot)]):ne(zt,Ot)||(Lt(zt,Ot,document.createElement("style")),ne(zt,Ot).textContent=of)}get src(){return this.getAttribute("src")}set src(r){typeof r=="string"&&this.setAttribute("src",r)}get data(){return ne(this,Pt)}set data(r){!r||typeof r!="object"||(ne(this,ir)&&(ne(this,ir).abort(),Lt(this,ir,null)),Lt(this,Pt,r),Mt(this,Ht,Ar).call(this))}get manifest(){return ne(this,Vt)}set manifest(r){if(typeof r=="string"){this.setAttribute("manifest",r);return}!r||typeof r!="object"||(ne(this,sr)&&(ne(this,sr).abort(),Lt(this,sr,null)),Lt(this,Vt,r),Mt(this,Ht,Ar).call(this))}get showQR(){return this.hasAttribute("show-qr")}set showQR(r){this.toggleAttribute("show-qr",!!r)}get showAvatar(){return this.hasAttribute("show-avatar")}set showAvatar(r){this.toggleAttribute("show-avatar",!!r)}get name(){return this.getAttribute("name")}set name(r){typeof r=="string"&&this.setAttribute("name",r)}get avatar(){return this.getAttribute("avatar")}set avatar(r){typeof r=="string"&&this.setAttribute("avatar",r)}get defaultAvatar(){return this.getAttribute("defaultAvatar")}set defaultAvatar(r){typeof r=="string"&&this.setAttribute("default-avatar",r)}attributeChangedCallback(r,n,i){switch(r){case"src":ne(this,ir)?.abort(),Lt(this,ir,new AbortController),fetch(i,{signal:ne(this,ir).signal}).then(a=>a.json()).then(a=>{this.data=a}).catch(a=>{if(a.name!=="AbortError")throw a});return;case"manifest":ne(this,sr)?.abort(),Lt(this,sr,new AbortController),fetch(i,{signal:ne(this,sr).signal}).then(a=>a.json()).then(a=>{this.manifest=a}).catch(a=>{if(a.name!=="AbortError")throw a});return;case"show-qr":xn(n)!==xn(i)&&Mt(this,Ht,Ar).call(this);return;case"show-avatar":xn(n)!==xn(i)&&Mt(this,Ht,Ar).call(this);return;case"name":n!==i&&Mt(this,Ht,Ar).call(this);return;case"avatar":n!==i&&Mt(this,Ht,Ar).call(this);return;case"default-avatar":n!==i&&Mt(this,Ht,Ar).call(this);return}}},fi=zt;Ot=new WeakMap,Pt=new WeakMap,ir=new WeakMap,Vt=new WeakMap,sr=new WeakMap,ft=new WeakMap,Ht=new WeakSet,Ar=function(){if(ne(this,ft).textContent="",ne(this,ft).adoptedStyleSheets||ne(this,ft).appendChild(ne(zt,Ot).cloneNode(!0)),!ne(this,Pt)||typeof ne(this,Pt)!="object"||!ne(this,Vt)||typeof ne(this,Vt)!="object"||ne(this,Vt).spec_version!==Oy)return;let r=[];function n(){let f=a.assignedNodes().map(y=>y.textContent).join("")||"Description";for(let y of r)y.textContent=f}let i=new MutationObserver(f=>{n()}),a=ne(this,ft).appendChild(document.createElement("slot"));a.name="description-label",a.addEventListener("slotchange",f=>{n(),i.disconnect();for(let y of a.assignedNodes())i.observe(y,{subtree:!0,childList:!0,characterData:!0})});let o=rt(ne(this,Vt).issuer,"object");if(o){let f=ne(this,ft).appendChild(document.createElement("section"));f.classList.add("issuer"),Mt(this,di,$o).call(this,o.styles,f);let y=rt(o.name,"string");if(y){let p=f.appendChild(document.createElement("h1"));p.classList.add("name"),p.textContent=y}}let u=rt(ne(this,Vt).output_descriptors,Array.isArray)??[];for(let f of u){if(!f)continue;let y=ne(this,ft).appendChild(document.createElement("section"));y.classList.add("descriptor"),Mt(this,di,$o).call(this,f.styles,y);let p=li(f.display?.title,ne(this,Pt));if(p){let h=y.appendChild(document.createElement("h1"));h.classList.add("title"),h.textContent=p}let v=li(f.display?.subtitle,ne(this,Pt));if(v){let h=y.appendChild(document.createElement("h2"));h.classList.add("subtitle"),h.textContent=v}let m=li(f.display?.description,ne(this,Pt));if(m){let h=y.appendChild(document.createElement("p"));h.classList.add("description");let S=h.appendChild(document.createElement("span"));S.classList.add("label"),r.push(S),h.append(" ",m)}let g=y.appendChild(document.createElement("ul"));g.classList.add("properties");let w=rt(f.display?.properties,Array.isArray)??[];for(let h of w){if(!h)continue;let S=li(h,ne(this,Pt));if(!S)continue;let l=g.appendChild(document.createElement("li"));l.classList.add("property");let I=rt(h.label,"string");if(I){let D=l.appendChild(document.createElement("span"));D.classList.add("label"),D.textContent=I,l.append(" ")}let R=l.appendChild(document.createElement("span"));R.classList.add("value"),R.textContent=S}}if(this.hasAttribute("show-qr")){let f=ne(this,ft).lastElementChild.appendChild(document.createElement("img"));f.classList.add("qr"),Rn(f),uf.default.toDataURL(JSON.stringify(ne(this,Pt)),(y,p)=>{if(y){f.remove();return}f.src=p})}if(this.hasAttribute("name")){let f=ne(this,ft).lastElementChild.appendChild(document.createElement("h1"));f.classList.add("name"),f.textContent=this.getAttribute("name")}if(this.hasAttribute("show-avatar")&&this.hasAttribute("avatar")){let f=ne(this,ft).lastElementChild.appendChild(document.createElement("img"));f.classList.add("avatar"),Rn(f);let y=this.getAttribute("default-avatar")||"";f.src=this.getAttribute("avatar"),f.onerror=p=>{console.log(y),f.src=y}}n()},di=new WeakSet,$o=function(r,n){if(!r)return;let i=rt(r.text?.color,Vs);i&&n.style.setProperty("color",i);let a=rt(r.background?.color,Vs);a&&n.style.setProperty("background-color",a);let o=rt(r.thumbnail?.uri,"string");if(Hs(o)){let f=n.appendChild(document.createElement("img"));f.classList.add("thumbnail"),f.src=o,Rn(f);let y=rt(r.thumbnail?.alt,"string");y&&(f.alt=y)}let u=rt(r.hero?.uri,"string");if(Hs(u)){let f=n.appendChild(document.createElement("img"));f.classList.add("hero"),f.src=u,Rn(f,()=>{n.style.setProperty("max-width",`min(100%, ${f.naturalWidth}px)`),n.style.setProperty("max-height",`min(100%, ${f.naturalHeight}px)`),n.style.setProperty("aspect-ratio",`${f.naturalWidth} / ${f.naturalHeight}`)});let y=rt(r.hero?.alt,"string");y&&(f.alt=y)}},Qt(fi,Ot,null),Po(fi,"observedAttributes",["src","manifest","show-qr","show-avatar","avatar","name","show-avatar","default-avatar"]);customElements?.define("verifiable-credential",fi);export{fi as VerifiableCredential};
